<!DOCTYPE html>
<html>
<head>
<title></title>
<style>

:root {
    --bs-font-monospace: SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
	body {
		margin: 10px;
	    font-size: 1rem;
	    font-weight: 400;
		font-family: system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
		line-height: 1.5;
	}

	pre {
		margin: 0px;
		white-space: pre;
		overflow-x: auto;
		max-width: none;
		width: auto;
	}

	table, th, td {
		border: 1px solid #a2a9b1;
	}

	th {
		background-color: #eaecf0;
		font-weight: bold;
		text-align: left;
		padding: 8px;
	}

	td {
		padding: 0 0.5em 0 0.7em;
		vertical-align: top;
	}

	.toc, .toccolours {
		border: 1px solid #a2a9b1;
		background-color: #f8f9fa;
		padding: 5px;
		font-size: 95%;
	}

	.toc {
		display: table;
		padding: 7px;
	}

	.wikitable {
		background-color: #f8f9fa;
		color: #202122;
		margin: 1em 0;
		border: 1px solid #a2a9b1;
		border-collapse: collapse;
	}

	p {
		max-width: 50ch;
		margin: 0.4em 0 0.5em 0;
	}

	/* paras starting em/em get indented*/
	p:has(> em:first-child) {
		padding-left: 68px;
		border-top: 1px dashed grey;
		/*border-bottom: 1px dashed grey;*/
	}

	/* first line of description is the title.*/
	/* Exclude p with anything in it like em/em */
	td:nth-child(3) p:first-child:not(:has(*)) {
		font-weight: 500;
	}

	/* We only use em/em for leading words (arguments) */
	em {
	    display: inline-block;
	    min-width: 64px; /* Fill the undone indent approximately */
	    margin-left: -68px; /* Undo indent for the box */
	}

	/* Style em like code*/
	code, em {
		color:inherit; /* ignore styling from mediawiki/bootstrap etc.*/
		font-family: var(--bs-font-monospace);
		font-style: normal;
		/*font-size: smaller;*/
		font-weight: normal;
	}

	img {
		border: 0;
		vertical-align: middle
	}

	hr {
		height: 1px;
		background-color: #a2a9b1;
		border: 0;
		margin: 0.2em 0
	}

	h1, h2, h3, h4, h5, h6 {
		color: #000;
		margin: 0;
		padding-top: 0.5em;
		padding-bottom: 0.17em;
		overflow: hidden
	}

	h1, h2 {
		margin-bottom: 0.6em;
		border-bottom: 1px solid #a2a9b1
	}

	h3, h4, h5 {
		margin-bottom: 0.3em
	}

	h1 {
		font-size: 188%;
		font-weight: normal
	}

	h2 {
		font-size: 150%;
		font-weight: normal
	}

	h3 {
		font-size: 128%
	}

	h4 {
		font-size: 116%
	}

	h5 {
		font-size: 108%
	}

	h6 {
		font-size: 100%
	}

	p {
		margin: 0.4em 0 0.5em 0
	}

	p img {
		margin: 0
	}

	ul {
		margin: 0.3em 0 0 1.6em;
		padding: 0
	}

	ol {
		list-style-image: none
	}

	li {
		margin-bottom: 0.1em
	}

	dl {
		display: grid;
		grid-template-columns: minmax(auto, max-content) 1fr; /* Left: expands to fit content, Right: remaining space */
		/*gap: 10px;*/ /* Space between rows and columns */
		overflow: hidden; /* Clears floats for the dl container */
		/*align-items: baseline;*/ /* Align grid items by baseline */
    	align-items: stretch; /* Change from baseline to stretch to ensure equal heights */
        max-width: 50ch;
	}

	dt, dd {
		margin: 0;
		box-sizing: border-box;
		border-bottom: 1px dashed grey;
		line-height: 1.5; /* Consistent line height */
		vertical-align: baseline; /* Ensure text aligns on baseline */
	}

	dt {
		grid-column: 1; /* Left column */
		padding: 0 5px 0 5px;
//		text-align: center;
		font-weight: bold;
		font-family: var(--bs-font-monospace);
		white-space: pre-wrap;
	/*	font-size: 95%;*
	/*	padding-top: 0.15em;*/ /* Nudge dt text baseline down to match dd */
	}

	dd {
		grid-column: 2; /* Right column */
		margin-left:1em;
	}


	.gendoc_function {
		color: #800;
		font-weight: 700;
	}

</style>

<style>
pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }



/*	0. .hll/.err
	1. Comments
	2. Keywords
	3. Operator
	4. Literals
	5. Name
	6. Generic
	7. Text.
*/

/* Highlight and Error */
:root {
  --highlight-bg-color: #ffffcc;
  --error-border-color: #FF0000;
  --highlight-font-weight: normal;
  --highlight-font-style: normal;
  --master-bold: bold; /*var(--master-bold)*/
  --master-italic: normal; /*var(--master-italic)*/
}
.hll { background-color: var(--highlight-bg-color); font-weight: var(--highlight-font-weight); font-style: var(--highlight-font-style); }
.err { border: 1px solid var(--error-border-color); font-weight: var(--highlight-font-weight); font-style: var(--highlight-font-style); } /* Error */

/* Comments */
:root {
  --comment-main-color: #3D7B7B;
  --comment-preproc-color: #9C6500;
  --comment-font-weight: var(--master-bold);
  --comment-font-style: var(--master-italic);
}
.c   { color: var(--comment-main-color); font-weight: var(--comment-font-weight); font-style: var(--comment-font-style); } /* Comment */
.ch  { color: var(--comment-main-color); font-weight: var(--comment-font-weight); font-style: var(--comment-font-style); } /* Comment.Hashbang */
.cm  { color: var(--comment-main-color); font-weight: var(--comment-font-weight); font-style: var(--comment-font-style); } /* Comment.Multiline */
.cp  { color: var(--comment-preproc-color); font-weight: var(--comment-font-weight); font-style: var(--comment-font-style); } /* Comment.Preproc */
.cpf { color: var(--comment-main-color); font-weight: var(--comment-font-weight); font-style: var(--comment-font-style); } /* Comment.PreprocFile */
.c1  { color: var(--comment-main-color); font-weight: var(--comment-font-weight); font-style: var(--comment-font-style); } /* Comment.Single */
.cs  { color: var(--comment-main-color); font-weight: var(--comment-font-weight); font-style: var(--comment-font-style); } /* Comment.Special */

/* Keywords */
:root {
  --keyword-main-color: #008000; /*green*/
  --keyword-type-color: #B00040; /*reddish*/
  --keyword-flow-color: #FF5722; /*orange*/
  --keyword-cnst-color: #FF0000; /*red*/
  --keyword-font-weight: var(--master-bold);
  --keyword-font-style: normal;
}
.k   { color: var(--keyword-main-color); font-weight: var(--keyword-font-weight); font-style: var(--keyword-font-style); } /* Keyword */
.kc  { color: var(--keyword-cnst-color); font-weight: var(--keyword-font-weight); font-style: var(--keyword-font-style); } /* Keyword.Constant */

/* used in exodus_cpp.py EXTRA_DECLARATIONS 'func', 'subr', 'function', 'subroutine' */
.kd  { color: var(--keyword-main-color); font-weight: var(--keyword-font-weight); font-style: var(--keyword-font-style); } /*Keyword.Declaration*/

.kn  { color: var(--keyword-main-color); font-weight: var(--keyword-font-weight); font-style: var(--keyword-font-style); } /* Keyword.Namespace */
.kp  { color: var(--keyword-main-color); font-weight: var(--keyword-font-weight); font-style: var(--keyword-font-style); } /* Keyword.Pseudo */

/* used in exodus_cpp.py EXTRA_FLOW_CONTROL 'stop', 'abort', 'abortall', 'call', 'gosub' */
.kr  { color: var(--keyword-flow-color); font-weight: var(--keyword-font-weight); font-style: var(--keyword-font-style); } /* Keyword.Reserved */

/* used in exodus_cpp.py EXTRA_TYPES 'dim', 'var', '_var', 'rex', '_rex', 'let', 'in', 'out', 'io', 'qqqqqqq'
									    'libraryinit', 'libraryexit',
									     'commoninit', 'commonexit',
									    'dictinit', 'dictexit'*/
.kt  { color: var(--keyword-type-color); font-weight: var(--keyword-font-weight); font-style: var(--keyword-font-style); } /* Keyword.Type */

/* Operators */
:root {
  --operator-main-color: #666666;
  --operator-word-color: #AA22FF;
  --operator-font-weight: var(--master-bold);
  --operator-font-style: normal;
}
.o   { color: var(--operator-main-color); font-weight: var(--operator-font-weight); font-style: var(--operator-font-style); } /* Operator */
.ow  { color: var(--operator-word-color); font-weight: var(--operator-font-weight); font-style: var(--operator-font-style); } /* Operator.Word */

/* Literals */
:root {
  --literal-color: #0000FF;                     /* Unified color (using original string main color as default) */
  --literal-font-weight: var(--master-bold);    /* Unified weight (defaulting to normal) */
  --literal-font-style: var(--master-italic);   /* Unified style (defaulting to normal) */
}
.m   { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.Number */
.mb  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.Number.Bin */
.mf  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.Number.Float */
.mh  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.Number.Hex */
.mi  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.Number.Integer */
.mo  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.Number.Oct */
.il  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.Number.Integer.Long */
.nb  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Name.Builtin (Really Literal.Number.Boolean?) */
.s   { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String */
.sa  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Affix */
.sb  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Backtick */
.sc  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Char */
.dl  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Delimiter */
.sd  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Doc */
.s2  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Double */
.se  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Escape */
.sh  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Heredoc */
.si  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Interpol */
.sx  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Other */
.sr  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Regex */
.s1  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Single */
.ss  { color: var(--literal-color); font-weight: var(--literal-font-weight); font-style: var(--literal-font-style); } /* Literal.String.Symbol */

/* Unidentified Names - Perhaps the most important part of a program strangely unhighlighted by pygmentize default style.*/
:root {
  --unidentified-color: #000000;
  --unidentified-font-weight: var(--master-bold);
  --unidentified-font-style: normal;
}
.n   { color: var(--unidentified-color); font-weight: var(--unidentified-font-weight); font-style: var(--unidentified-font-style); } /* Unidentified */

/* Names */
:root {
  --name-attribute-color: #687822;
  --name-builtin-color: #008000;
  --name-class-color: #B00040; /* same as .kt keyword type color to be like types*/
  --name-constant-color: #880000;
  --name-decorator-color: #AA22FF;
  --name-entity-color: #717171;
  --name-exception-color: #CB3F38;
  --name-label-color: #767600;
  --name-tag-color: #008000;
  --name-variable-color: #19177C;
  --name-font-weight: var(--master-bold);
  --name-font-style: normal;
}
.na  { color: var(--name-attribute-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Attribute */
.nc  { color: var(--name-class-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Class */
.no  { color: var(--name-constant-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Constant */
.nd  { color: var(--name-decorator-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Decorator */
.ni  { color: var(--name-entity-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Entity */
.ne  { color: var(--name-exception-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Exception */

/* used in exodus_cpp.py EXTRAC_FUNCTIONS massive list*/
.nf  { color: var(--name-class-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Function */

.nl  { color: var(--name-label-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Label */
.nn  { color: var(--name-class-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Namespace */
.nt  { color: var(--name-tag-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Tag */
.nv  { color: var(--name-variable-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Variable */
.bp  { color: var(--name-builtin-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Builtin.Pseudo */
.fm  { color: var(--name-class-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Function.Magic */
.vc  { color: var(--name-variable-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Variable.Class */
.vg  { color: var(--name-variable-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Variable.Global */
.vi  { color: var(--name-variable-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Variable.Instance */
.vm  { color: var(--name-variable-color); font-weight: var(--name-font-weight); font-style: var(--name-font-style); } /* Name.Variable.Magic */

/* Generic */
:root {
  --generic-deleted-color: #A00000;
  --generic-error-color: #E40000;
  --generic-heading-color: #000080;
  --generic-inserted-color: #008400;
  --generic-output-color: #717171;
  --generic-subheading-color: #800080;
  --generic-traceback-color: #0044DD;
  --generic-font-weight: var(--master-bold);
  --generic-font-style: italic;
}
.gd  { color: var(--generic-deleted-color); font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.Deleted */
.ge  { font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.Emph */
.ges { font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.EmphStrong */
.gr  { color: var(--generic-error-color); font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.Error */
.gh  { color: var(--generic-heading-color); font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.Heading */
.gi  { color: var(--generic-inserted-color); font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.Inserted */
.go  { color: var(--generic-output-color); font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.Output */
.gp  { color: var(--generic-heading-color); font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.Prompt */
.gs  { font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.Strong */
.gu  { color: var(--generic-subheading-color); font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.Subheading */
.gt  { color: var(--generic-traceback-color); font-weight: var(--generic-font-weight); font-style: var(--generic-font-style); } /* Generic.Traceback */

/* Whitespace */
:root {
  --whitespace-color: #bbbbbb;
  --text-font-weight: normal;
  --text-font-style: normal;
}
.w   { color: var(--whitespace-color); font-weight: var(--text-font-weight); font-style: var(--text-font-style); } /* Text.Whitespace */










</style>
</head>
<body class="light">
<div class="toc">
	<h3>Sections:</h3>
	<ol>
		<li>
			<a href="#var">var</a></li>
		<li>
			<a href="#dim">dim</a></li>
		<li>
			<a href="#exoprog">exoprog</a></li>

	</ol>
</div>
<div class="toc">
	<h4 id="var">Contents:</h4>
	<ol>
		<li>
			<a href="#Var_Creation_">Var Creation </a></li>
		<li>
			<a href="#Arithmetical_Operators_">Arithmetical Operators </a></li>
		<li>
			<a href="#Dynamic_Array_Creation,_Access_And_Update">Dynamic Array Creation, Access And Update</a></li>
		<li>
			<a href="#String_Creation_">String Creation </a></li>
		<li>
			<a href="#String_Scanning">String Scanning</a></li>
		<li>
			<a href="#String_Conversion_-_Non-Mutating_-_Chainable">String Conversion - Non-Mutating - Chainable</a></li>
		<li>
			<a href="#String_Mutation_-_Standalone_Commands">String Mutation - Standalone Commands</a></li>
		<li>
			<a href="#I_O_Conversion">I/O Conversion</a></li>
		<li>
			<a href="#Dynamic_Array_Functions">Dynamic Array Functions</a></li>
		<li>
			<a href="#Dynamic_Array_Filters">Dynamic Array Filters</a></li>
		<li>
			<a href="#Dynamic_Array_Mutators_Standalone_Commands">Dynamic Array Mutators Standalone Commands</a></li>
		<li>
			<a href="#Dynamic_Array_Search">Dynamic Array Search</a></li>
		<li>
			<a href="#Database_Access">Database Access</a></li>
		<li>
			<a href="#Database_Management">Database Management</a></li>
		<li>
			<a href="#Database_File_I_O">Database File I/O</a></li>
		<li>
			<a href="#Database_Sort_Select">Database Sort/Select</a></li>
		<li>
			<a href="#OS_Time_Date">OS Time/Date</a></li>
		<li>
			<a href="#OS_File_I_O">OS File I/O</a></li>
		<li>
			<a href="#OS_Directories">OS Directories</a></li>
		<li>
			<a href="#OS_Shell_Environment">OS Shell/Environment</a></li>
		<li>
			<a href="#Output">Output</a></li>
		<li>
			<a href="#Input">Input</a></li>
		<li>
			<a href="#Math_Boolean">Math/Boolean</a></li>
		<li>
			<a href="#I_O_Conversion_Codes_">I/O Conversion Codes </a></li>

	</ol>
</div>


<h5 id="Var_Creation_">Var Creation </h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var v1;</code></p></td>
		<td>
			<p>Create an unassigned var.</p>
			<p>Unassigned vars can be conditionally assigned in if/else statements or used as outbound arguments in function calls.</p>
			<p>A runtime error is thrown if a var is used before being assigned, preventing silent "use before assign" bugs.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">client</span><span class="p">;</span><span class="w"> </span><span class="c1">// Unassigned var</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="n">client</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;SB001&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
			<p>
				<div class="highlight light">
					<pre><span class="c1">//             Exodus keywords:     C++ declarations:</span>
<span class="c1">//             Non-Const   Const    Non-Const   Const</span>
<span class="c1">//             -----------------    ----------------------</span>
<span class="c1">// Variable:   var         let      var         const var</span>
<span class="c1">// Reference:  out         in       var&amp;        const var&amp;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var v1 = expression;</code></p></td>
		<td>
			<p>Assign a var using a literal or an expression.</p>
			<p>Use "let" instead of "var" wherever possible as a shorthand way of writing "const var".</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">                 </span><span class="c1">// Integer</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">42.3</span><span class="p">;</span><span class="w">               </span><span class="c1">// Double</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">;</span><span class="w">              </span><span class="c1">// String</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;x&#39;</span><span class="p">;</span><span class="w">                </span><span class="c1">// char</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w">               </span><span class="c1">// bool</span>

<span class="kt">var</span><span class="w"> </span><span class="n">v6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">           </span><span class="c1">// Arithmetic</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xyz&quot;</span><span class="p">;</span><span class="w">         </span><span class="c1">// Concatenation</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">oslist</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">).</span><span class="nf">sort</span><span class="p">();</span><span class="w"> </span><span class="c1">// Built in functions</span>

<span class="nf">let</span><span class="w"> </span><span class="n">v9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12345</span><span class="p">;</span><span class="w">              </span><span class="c1">// A const var</span>

<span class="kt">var</span><span class="w"> </span><span class="n">v10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12&#39;345</span><span class="kt">_var</span><span class="p">;</span><span class="w">        </span><span class="c1">// A literal var integer</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">123.45</span><span class="kt">_var</span><span class="p">;</span><span class="w">        </span><span class="c1">// A literal var double</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^v1]v2^f3&quot;</span><span class="kt">_var</span><span class="p">;</span><span class="w"> </span><span class="c1">// A literal var string</span>

<span class="kt">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0.2&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">;</span><span class="w"> </span><span class="c1">// z -&gt; 0.3</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>v1.assigned()</code></p></td>
		<td>
			<p>Check if a var has been assigned a value.</p>
			<p>
				<em>return:</em> True if the var is assigned, otherwise false</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>v1.unassigned()</code></p></td>
		<td>
			<p>Check if a var has not been assigned a value;</p>
			<p>
				<em>return:</em> True if the var is unassigned, otherwise false</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2.or_default(defaultvalue)</code></p></td>
		<td>
			<p>Copy a var or, if it is unassigned, copy a default value.</p>
			<p>
				<em>return:</em> A copy of the var if it is assigned or the default value if it is not.</p>
			<p>Can be used to handle optional arguments in functions.</p>
			<p>
				<em>defaultvalue:</em> Cannot be unassigned.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span><span class="w"> </span><span class="c1">// Unassigned</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">or_default</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// v2 -&gt; &quot;abc&quot;</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">or_default</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
			<p></p>
			<p>
				<em>Mutator:</em> defaulter()</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>v1.defaulter(defaultvalue)</code></p></td>
		<td>
			<p>If a var is unassigned, assign a default value.</p>
			<p>If the var is unassigned then assign the default value to it, otherwise do nothing.</p>
			<p>
				<em>defaultvalue:</em> Cannot be unassigned.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span><span class="w"> </span><span class="c1">// Unassigned</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">defaulter</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// v1 -&gt; &quot;abc&quot;</span>
<span class="c1">// or</span>
<span class="nf">defaulter</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>v1.swap(io v2)</code></p></td>
		<td>
			<p>Swap the contents of one var with another.</p>
			<p>Useful for stashing large strings quickly. They are moved using pointers without making copies or allocating memory.</p>
			<p>Either or both variables may be unassigned.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">space</span><span class="p">(</span><span class="mi">65&#39;536</span><span class="p">);</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">swap</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span><span class="w"> </span><span class="c1">// v1 -&gt; &quot;&quot; // v2.len() -&gt; 65&#39;536</span>
<span class="c1">// or</span>
<span class="nf">swap</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2.move()</code></p></td>
		<td>
			<p>Move a var into another.</p>
			<p>Performs a shallow copy of the var's data and transfers ownership of its string, if any. The moved var is set to an empty string.</p>
			<p>Enables efficient handling of large strings by moving pointers without copying or allocating memory.</p>
			<p>
				<em>throw:</em> VarUnassigned if the moved var is unassigned before the move.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">space</span><span class="p">(</span><span class="mi">65&#39;536</span><span class="p">);</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">move</span><span class="p">();</span><span class="w"> </span><span class="c1">// v2.len() -&gt; 65&#39;536 // v1 -&gt; &quot;&quot;</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2.clone()</code></p></td>
		<td>
			<p>Return a copy of the var.</p>
			<p>The cloned var may be unassigned, in which case the copy will be unassigned too.
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">clone</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;abc&quot;</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">clone</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v1.dump()</code></p></td>
		<td>
			<p>Return a string describing internal data of a var.</p>
			<p>If the var holds an internal std::string using heap storage then its its heap storage address is given.</p>
			<p>
				<em>typ:</em> Multiple typs may exist simultaneously.</p>
			<dl>
				<dt>0x01</dt>
				<dd>str is available.</dd>
				<dt>0x02</dt>
				<dd>int is available.</dd>
				<dt>0x04</dt>
				<dd>dbl is available.</dd>
				<dt>0x08</dt>
				<dd>nan: str is not a number.</dd>
				<dt>0x16</dt>
				<dd>osfile (nan is true, str, int and dbl have special meaning).</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">str</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">);</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">dump</span><span class="p">().</span><span class="nf">outputl</span><span class="p">();</span><span class="w"> </span><span class="c1">/// e.g. var:0x7ffea7462cd0 typ:1 str:0x584d9e9f6e70 &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span>
<span class="c1">// or</span>
<span class="nf">outputl</span><span class="p">(</span><span class="nf">dump</span><span class="p">(</span><span class="n">v1</span><span class="p">));</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Arithmetical_Operators_">Arithmetical Operators </h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>v1.isnum()</code></p></td>
		<td>
			<p>Check if a var is numeric.</p>
			<p>
				<em>return:</em> True if a var holds a double, integer, or a string representing a numeric value.</p>
			<p>A string is considered numeric if it is:</p>
			<ul>
				<li>Empty (treated as zero), or</li>
				<li>Composed of one or more digits (0-9), an optional leading '+' or '-' sign, and an optional single decimal point ('.') placed before, within, or after the digits.</li>
				<li>Optionally includes an exponential suffix ('e' or 'E', optionally followed by '+' or '-', and 1-3 digits).</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w">   </span><span class="s">&quot;+123.45&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">isnum</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;+1.2345e+2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">isnum</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w">          </span><span class="s">&quot;&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">isnum</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w">      </span><span class="s">&quot;.&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">isnum</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">isnum</span><span class="p">(</span><span class="s">&quot;123.&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v1.num()</code></p></td>
		<td>
			<p>Return a copy of the var if it is numeric or 0 otherwise.</p>
			<p>Allow working numerically with data that may be non-numeric.</p>
			<p>
				<em>return:</em> A guaranteed numeric var</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;123.45&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">num</span><span class="p">();</span><span class="w">    </span><span class="c1">// 123.45</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">num</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w"> </span><span class="c1">// 100</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2 + v3</code></p></td>
		<td>
			<p>Addition</p>
			<p>Any attempt to perform numeric operations on non-numeric strings will throw a runtime error VarNonNumeric.</p>
			<p>Floating point numbers are implicitly converted to strings with no more than 12 significant digits of precision. This practically eliminates all floatng point rounding errors.</p>
			<p>Internally, 0.1 + 0.2 looks like this using doubles.</p>
			<p>0.10000000000000003 + 0.20000000000000004 -&gt; 0.30000000000000004</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.2</span><span class="p">;</span><span class="w"> </span><span class="c1">// 0.3</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2 - v3</code></p></td>
		<td>
			<p>Subtraction</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2 * v3</code></p></td>
		<td>
			<p>Multiplication</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2 / v3</code></p></td>
		<td>
			<p>Division</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2 % v3</code></p></td>
		<td>
			<p>Modulus</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>v1 += v2</code></p></td>
		<td>
			<p>Self addition</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span>
<span class="n">v1</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">0.2</span><span class="p">;</span><span class="w"> </span><span class="c1">// 0.3</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>v1 -= v2</code></p></td>
		<td>
			<p>Self subtraction</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>v1 *= v2</code></p></td>
		<td>
			<p>Self multiplication</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>v1 /= v2</code></p></td>
		<td>
			<p>Self division</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>v1 %= v2</code></p></td>
		<td>
			<p>Self modulus</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>v1 ++</code></p></td>
		<td>
			<p>Post increment</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="c1">// v2 -&gt; 3 // v1 -&gt; 4</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>v1 --</code></p></td>
		<td>
			<p>Post decrement</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">--</span><span class="p">;</span><span class="w"> </span><span class="c1">// v2 -&gt; 3 // v1 -&gt; 2</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>++ v1</code></p></td>
		<td>
			<p>Pre increment</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span><span class="w"> </span><span class="c1">// v2 -&gt; 4 // v1 -&gt; 4</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>-- v1</code></p></td>
		<td>
			<p>Pre decrement</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span><span class="w"> </span><span class="c1">// v2 -&gt; 2 // v1 -&gt; 2</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Dynamic_Array_Creation,_Access_And_Update">Dynamic Array Creation, Access And Update</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>""_var</code></p></td>
		<td>
			<p>Literal suffix "_var".</p>
			<p>Allow dynamic arrays to be seamlessly embedded in code using a predefined set of visible equivalents of unprintable field mark characters as follows:</p>
			<p>Visible equivalents:</p>
			<dl>
				<dt>`</dt>
				<dd>RM  Record mark</dd>
				<dt>^</dt>
				<dd>FM  Field mark</dd>
				<dt>]</dt>
				<dd>VM  Value mark</dd>
				<dt>}</dt>
				<dd>SM  Subvalue mark</dd>
				<dt>|</dt>
				<dd>TM  Text mark</dd>
				<dt>~</dt>
				<dd>ST  Subtext mark</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^f2^v1]v2^f4&quot;</span><span class="kt">_var</span><span class="p">;</span><span class="w"> </span><span class="c1">// &quot;f1&quot; _FM &quot;f2&quot; _FM &quot;v1&quot; _VM &quot;v2&quot; _FM &quot;f4&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var v1 = {"a", "b", "c" ...}; // Initializer list</code></p></td>
		<td>
			<p>Code a dynamic array var as as list.</p>
			<p>C++ constrains list elements to be all the same type: var, string, double, int, etc. but they all end up as fields of a dynamic array string.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">};</span><span class="w"> </span><span class="c1">// &quot;11^22^33&quot;_var</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2(fieldno);       v1(fieldno) = v2</code></p></td>
		<td>
			<p>Dynamic array field extraction, update and append:</p>
			<p>See also inserter() and remover().</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa^bb&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v1</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">44</span><span class="p">;</span><span class="w"> </span><span class="c1">// v1 -&gt; &quot;aa^bb^^44&quot;_var</span>
<span class="c1">// Field number -1 causes appending a field when updating.</span>
<span class="n">v1</span><span class="p">(</span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;55&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// v1 -&gt; &quot;aa^bb^^44^55&quot;_var</span>
</pre></div>
			</p>
			<p></p>
			<p>Field access:</p>
			<p>It is recommended to use "v1.f(fieldno)" syntax using a ".f(" prefix to access fields in expressions instead of plain "v1(fieldno)". The former syntax (using .f()) will always compile whereas the latter does not compile in all contexts. It will compile only if being called on a constant var or in a location which requires a var. This is due to C++ not making a clear distinction between usage on the left and right side of assignment operator =.</p>
			<p>Furthermore using plain round brackets without the leading .f can be confused with function call syntax.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa^bb^cc&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">f</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;bb&quot; /// .f() style access. Recommended.</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="n">v1</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;bb&quot; ///   () style access. Not recommended.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2(fieldno, valueno);       v1(fieldno, valueno) = v2</code></p></td>
		<td>
			<p>Dynamic array value update and append</p>
			<p>See also inserter() and remover().</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa^b1]b2^cc&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v1</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;44&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// v1 -&gt; &quot;aa^b1]b2]]44^cc&quot;_var</span>
<span class="c1">// value number -1 causes appending a value when updating.</span>
<span class="n">v1</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">55</span><span class="p">;</span><span class="w"> </span><span class="c1">// v1 -&gt; &quot;aa^b1]b2]]44]55^cc&quot;_var</span>
</pre></div>
			</p>
			<p></p>
			<p>Value access:</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa^b1]b2^cc&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;b2&quot; /// .f() style access. Recommended.</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="n">v1</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;b2&quot; ///   () style access. Not recommended.</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="String_Creation_">String Creation </h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>v2 ^ v3</code></p></td>
		<td>
			<p>String concatention operator ^</p>
			<p>At least one side must be a var.</p>
			<p>"aa" ^ "22" will not compile but "aa" "22" will.</p>
			<p>Floating point numbers are implicitly converted to strings with no more than 12 significant digits of precision. This practically eliminates all floatng point rounding errors.
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa&quot;</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">22</span><span class="p">;</span><span class="w"> </span><span class="c1">// &quot;aa22&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>v1 ^= v2</code></p></td>
		<td>
			<p>String self concatention ^= (append)
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa&quot;</span><span class="p">;</span>
<span class="n">v1</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="mi">22</span><span class="p">;</span><span class="w"> </span><span class="c1">// v1 -&gt; &quot;aa22&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.round(ndecimals = 0)</code></p></td>
		<td>
			<p>Round a number.</p>
			<p>Convert a number into a string after rounding it to a given number of decimal places.</p>
			<p>Trailing zeros are not omitted. A leading "0." is shown where appropriate.</p>
			<p>0.5 always rounds away from zero. i.e. 1.5 -&gt; 2 and -2.5 -&gt; -3</p>
			<p>
				<em>var:</em> The number to be converted.</p>
			<p>
				<em>ndecimals:</em> Determines how many decimal places are shown to the right of the decimal point or, if ndecimals is negative, how many 0's to the left of it.</p>
			<p>
				<em>return:</em> A var containing an ASCII string of digits with a leading "-" if negative, and a decimal point "." if ndecimals is &gt; 0.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">0.295</span><span class="p">).</span><span class="nf">round</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w">  </span><span class="c1">//  &quot;0.30&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="mf">1.295</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">      </span><span class="c1">//  &quot;1.30&quot;</span>

<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">-0.295</span><span class="p">).</span><span class="nf">round</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;-0.30&quot;</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="mf">-1.295</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">     </span><span class="c1">// &quot;-1.30&quot;</span>

<span class="kt">var</span><span class="w"> </span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">           </span><span class="c1">// &quot;0.0&quot;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">           </span><span class="c1">// &quot;0&quot;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">);</span><span class="w">          </span><span class="c1">// &quot;0&quot;</span>
</pre></div>
			</p>
			<p>Negative number of decimals rounds to the left of the decimal point
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="mf">123456.789</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;123457&quot;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="mf">123456.789</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;123460&quot;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="mf">123456.789</span><span class="p">,</span><span class="w"> </span><span class="mi">-2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;123500&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::chr(num)</code></p></td>
		<td>
			<p>Get a char.</p>
			<p>
				<em>num:</em> An integer 0-255.</p>
			<p>
				<em>return:</em> A string containing a single char</p>
			<p>0-127 -&gt; ASCII, 128-255 -&gt; invalid UTF-8 which cannot be written to the database or used in many exodus string operations</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">chr</span><span class="p">(</span><span class="mh">0x61</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;a&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">chr</span><span class="p">(</span><span class="mh">0x61</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::textchr(num)</code></p></td>
		<td>
			<p>Get a Unicode character.</p>
			<p>
				<em>num:</em> A Unicode Code Point (Number)</p>
			<p>
				<em>return:</em> A single Unicode character in UTF8 encoding.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">textchr</span><span class="p">(</span><span class="mi">171416</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;&quot; // or &quot;\xF0A9B698&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">textchr</span><span class="p">(</span><span class="mi">171416</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::textchrname(unicode_code_point)</code></p></td>
		<td>
			<p>Get a Unicode character name</p>
			<p>
				<em>unicode_code_point:</em> 0 - 0x10FFFF.</p>
			<p>
				<em>return:</em> Text of the name or "" if not a valid Unicode Code Point</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">textchrname</span><span class="p">(</span><span class="mi">91</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;LEFT SQUARE BRACKET&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">textchrname</span><span class="p">(</span><span class="mi">91</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.str(num)</code></p></td>
		<td>
			<p>Get a string of repeated substrings.</p>
			<p>
				<em>var:</em> The substring to be repeated</p>
			<p>
				<em>num:</em> How many times to repeat the substring</p>
			<p>
				<em>return:</em> A string</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ab&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">str</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;ababab&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">str</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::space(nspaces)</code></p></td>
		<td>
			<p>Get a string as a given number of spaces.</p>
			<p>
				<em>nspaces:</em> The number of spaces required.</p>
			<p>
				<em>return:</em> A string of space chars.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">space</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">space</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.numberinwords(locale = "")</code></p></td>
		<td>
			<p>Get a number written out in words insteads of digits.</p>
			<p>
				<em>return:</em> A string.</p>
			<p>
				<em>locale:</em> e.g. en_GB, ar_AE, el_CY, es_US, fr_FR etc or a language name e.g. "french".</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">softhyphen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\xc2\xad</span><span class="s">&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">123.45</span><span class="p">).</span><span class="nf">numberinwords</span><span class="p">(</span><span class="s">&quot;de_DE&quot;</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="n">softhyphen</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;einhundertdreiundzwanzigKommavierfnf&quot;</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="String_Scanning">String Scanning</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.at(pos1)</code></p></td>
		<td>
			<p>Get a single char from a string.</p>
			<p>
				<em>pos1:</em> First char is 1. Last char is -1.</p>
			<p>
				<em>return:</em> A single char if pos1 +/- the length of the string, or "" if greater. Returns the first char if pos1 is 0 or (-pos1) &gt; length.
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w">  </span><span class="c1">// &quot;b&quot;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="mi">-3</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;a&quot;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">  </span><span class="c1">// &quot;&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.ord()</code></p></td>
		<td>
			<p>Get the char number of a char.</p>
			<p>
				<em>return:</em> A number between 0 and 255.</p>
			<p>If given a string, then only the first char is considered.</p>
			<p>Equivalent to ord() in php</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">ord</span><span class="p">();</span><span class="w"> </span><span class="c1">// 0x61 // decimal 97, &#39;a&#39;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ord</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.textord()</code></p></td>
		<td>
			<p>Get the Unicode Code Point of a Unicode character.</p>
			<p>
				<em>var:</em> A UTF-8 string. Only the first Unicode character is considered.</p>
			<p>
				<em>return:</em> A number 0 to 0x10FFFF.</p>
			<p>Equivalent to ord() in python and ruby, mb_ord() php.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">textord</span><span class="p">();</span><span class="w"> </span><span class="c1">// 915 // U+0393: Greek Capital Letter Gamma (Unicode character)</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">textord</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.len()</code></p></td>
		<td>
			<p>Get the length of a source string in number of chars.</p>
			<p>
				<em>return:</em> A number</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">len</span><span class="p">();</span><span class="w"> </span><span class="c1">// 3</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.empty()</code></p></td>
		<td>
			<p>Check if the var is an empty string.</p>
			<p>
				<em>return:</em> True if it is empty amd false if not.</p>
			<p>This is a shorthand and more expressive way of writing 'if (var == "")' or 'if (var.len() == 0)' or 'if (not var.len())'</p>
			<p>Note that 'if (var.empty())' is not exactly the same as 'if (not var)' because 'if (var("0.0")' is also defined as false. If a string can be converted to 0 then it is considered to be false. Contrast this with common scripting languages where 'if (var("0"))' is defined to be true.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">empty</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// true</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">empty</span><span class="p">(</span><span class="n">v1</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// true</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.textwidth()</code></p></td>
		<td>
			<p>Count the number of output columns required for a given source string.</p>
			<p>
				<em>return:</em> A number</p>
			<p>Allow wide multi-column Unicode characters that occupy more than one space in a text file or terminal screen.</p>
			<p>Reduce combining characters to a single column. e.g. "e" followed by grave accent is multiple bytes but only occupies one output column.</p>
			<p>Does not properly calculate all possible combining sequences of graphemes e.g. face followed by colour</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">textwidth</span><span class="p">();</span><span class="w"> </span><span class="c1">// 5</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">textwidth</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.textlen()</code></p></td>
		<td>
			<p>Count the number of Unicode code points in a source string.</p>
			<p>
				<em>return:</em> A number.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">textlen</span><span class="p">();</span><span class="w"> </span><span class="c1">// 7</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">textlen</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.fcount(sepstr)</code></p></td>
		<td>
			<p>Count the number of fields in a source string.</p>
			<p>
				<em>sepstr:</em> The separator character or substr that delimits individual fields.</p>
			<p>
				<em>return:</em> The count of the number of fields</p>
			<p>This is similar to "var.count(sepstr) + 1" but it returns 0 for an empty source string.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa**cc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">fcount</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 3</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">fcount</span><span class="p">(</span><span class="s">&quot;aa**cc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;*&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.count(sepstr)</code></p></td>
		<td>
			<p>Count the number of occurrences of a given substr in a source string.</p>
			<p>
				<em>substr:</em> The substr to count.</p>
			<p>
				<em>return:</em> The count of the number of sepstr found.</p>
			<p>Overlapping substrings are not counted.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa**cc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">count</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 2</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">count</span><span class="p">(</span><span class="s">&quot;aa**cc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;*&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.starts(prefix)</code></p></td>
		<td>
			<p>Check if a source string starts with a given prefix (substr).</p>
			<p>
				<em>prefix:</em> The substr to check for.</p>
			<p>
				<em>return:</em> True if the source string starts with the given prefix.</p>
			<p>Always returns false if suffix is "". DIFFERS from c++, javascript, python3. See contains() for more info.</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">starts</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="nb">true</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">starts</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ab&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="nb">true</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.ends(suffix)</code></p></td>
		<td>
			<p>Check if a source string ends with a given suffix (substr).</p>
			<p>
				<em>suffix:</em> The substr to check for.</p>
			<p>
				<em>return:</em> True if the source string ends with given suffix.</p>
			<p>Always returns false if suffix is "". DIFFERS from c++, javascript, python3. See contains() for more info.</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">ends</span><span class="p">(</span><span class="s">&quot;bc&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="nb">true</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">ends</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bc&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="nb">true</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.contains(substr)</code></p></td>
		<td>
			<p>Check if a given substr exists in a source string.</p>
			<p>
				<em>substr:</em> The substr to check for.</p>
			<p>
				<em>return:</em> True if the source string starts with, ends with or contains the given substr.</p>
			<p>Always returns false if substr is "". DIFFERS from c++, javascript, python3. See contains() for more info.</p>
			<p>Human logic: "" is not equal to "x" therefore x does not contain "".</p>
			<p>Human logic: Check each item (character) in the list for equality with what I am looking for and return success if any are equal.</p>
			<p>Programmer logic: Compare as many characters as are in the search string for presence in the list of characters and return success if there are no failures.</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">contains</span><span class="p">(</span><span class="s">&quot;bc&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="nb">true</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">contains</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bc&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="nb">true</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.index(substr, startchar1 = 1)</code></p></td>
		<td>
			<p>Find a substr in a source string.</p>
			<p>
				<em>substr:</em> The substr to search for.</p>
			<p>
				<em>startchar1:</em> The char position (1 based) to start the search at. The default is 1, the first char.</p>
			<p>
				<em>return:</em> The char position (1 based) that the substr is found at or 0 if not present.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="s">&quot;bc&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 2</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">index</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.indexn(substr, occurrence)</code></p></td>
		<td>
			<p>Find the nth occurrence of a substr in a source string.</p>
			<p>
				<em>substr:</em> The string to search for.</p>
			<p>
				<em>return:</em> char position (1 based) or 0 if not present.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcabc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">indexn</span><span class="p">(</span><span class="s">&quot;bc&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// 5</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">indexn</span><span class="p">(</span><span class="s">&quot;abcabc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bc&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.indexr(substr, startchar1 = -1)</code></p></td>
		<td>
			<p>Find the position of substr working backwards</p>
			<p>Start at the end and work backwards.</p>
			<p>
				<em>substr:</em> The string to search for.</p>
			<p>
				<em>return:</em> The char position of the substr if found, or 0 if not.</p>
			<p>
				<em>startchar1:</em> Defaults to -1 meaning start searching from the last char. Positive start1char1 counts from the beginning of the source string and negative startchar1 counts backwards from the last char.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcabc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">indexr</span><span class="p">(</span><span class="s">&quot;bc&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 5</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">indexr</span><span class="p">(</span><span class="s">&quot;abcabc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.match(regex_str, regex_options = "")</code></p></td>
		<td>
			<p>Find all matches of a given regular expression.</p>
			<p>
				<em>return:</em> Zero or more matching substrings separated by FMs. Any groups are in VMs.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc1abc2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="s">&quot;BC(</span><span class="se">\\</span><span class="s">d)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;i&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;bc1]1^bc2]2&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="s">&quot;abc1abc2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;BC(</span><span class="se">\\</span><span class="s">d)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;i&quot;</span><span class="p">);</span>
</pre></div>
			</p>
			<p></p>
			<p>
				<em>regex_options:</em> </p>
			<dl>
				<dt> l</dt>
				<dd>Literal (any regex chars are treated as normal chars)</dd>
				<dt> i</dt>
				<dd>Case insensitive</dd>
				<dt> p</dt>
				<dd>ECMAScript/Perl (the default)</dd>
				<dt> b</dt>
				<dd>Basic POSIX (same as sed)</dd>
				<dt> e</dt>
				<dd>Extended POSIX</dd>
				<dt> a</dt>
				<dd>awk</dd>
				<dt> g</dt>
				<dd>grep</dd>
				<dt> eg</dt>
				<dd>egrep or grep -E</dd>
			</dl>
			<p></p>
			<p>char ranges like a-z are locale sensitive if ECMAScript</p>
			<p></p>
			<p>
				<em>regex_options:</em> </p>
			<dl>
				<dt> m</dt>
				<dd>Multiline. Default in boost (and therefore exodus)</dd>
				<dt> s</dt>
				<dd>Single line. Default in std::regex</dd>
				<dt> f</dt>
				<dd>First only. Only for replace() (not match() or search())</dd>
				<dt> w</dt>
				<dd>Wildcard glob style (e.g. *.cfg) not regex style. Only for match() and search(). Not replace().</dd>
			</dl>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.match(regex)</code></p></td>
		<td>
			<p>Ditto</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.search(regex_str, io startchar1, regex_options = "")</code></p></td>
		<td>
			<p>Search for the first match of a regular expression.</p>
			<p>
				<em>startchar1:</em> [in] char position to start the search from</p>
			<p>
				<em>startchar1[out]:</em> char position to start the next search from or 0 if no more matches.</p>
			<p>
				<em>return:</em> The 1st match like match()</p>
			<p>regex_options as for match()</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">startchar1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc1abc2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="s">&quot;BC(</span><span class="se">\\</span><span class="s">d)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">startchar1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;i&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;bc1]1&quot;_var // startchar1 -&gt; 5 /// Ready for the next search</span>
<span class="c1">// or</span>
<span class="n">startchar1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span><span class="s">&quot;abc1abc2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;BC(</span><span class="se">\\</span><span class="s">d)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">startchar1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;i&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.search(regex_str)</code></p></td>
		<td>
			<p>Ditto starting from first char</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.search(regex, io startchar1)</code></p></td>
		<td>
			<p>Ditto given a rex</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.search(regex)</code></p></td>
		<td>
			<p>Ditto starting from first char.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.hash(std::uint64_t modulus = 0)</code></p></td>
		<td>
			<p>Get a hash of a source string.</p>
			<p>
				<em>modulus:</em> The result is limited to [0, modulus)</p>
			<p>
				<em>return:</em> A 64 bit signed integer.</p>
			<p>MurmurHash3 is used.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">hash</span><span class="p">();</span><span class="w"> </span><span class="n">assert</span><span class="p">(</span><span class="n">v1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">6&#39;715&#39;211&#39;243&#39;465&#39;481&#39;821</span><span class="p">));</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">hash</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="String_Conversion_-_Non-Mutating_-_Chainable">String Conversion - Non-Mutating - Chainable</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.ucase()</code></p></td>
		<td>
			<p>Convert to upper case</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">ucase</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ucase</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.lcase()</code></p></td>
		<td>
			<p>Convert to lower case</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">lcase</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">lcase</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.tcase()</code></p></td>
		<td>
			<p>Convert to title case.</p>
			<p>
				<em>return:</em> Original source string with the first letter of each word is capitalised.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">tcase</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot; &quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">tcase</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.fcase()</code></p></td>
		<td>
			<p>Convert to folded case.</p>
			<p>Case folding is the process of converting text to a case independent representation.</p>
			<p>
				<em>return:</em> The source string standardised in a way to enable consistent indexing and searching,</p>
			<p>
				<em>https:</em> //www.w3.org/International/wiki/Case_folding</p>
			<p>Accents can be significant. As in French cote, cot, cte and ct.</p>
			<p>Case folding is not locale-dependent.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Gren&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">fcase</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;grssen&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">tcase</span><span class="p">(</span><span class="s">&quot;Gren&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.normalize()</code></p></td>
		<td>
			<p>Replace Unicode character sequences with their standardised NFC form.</p>
			<p>Unicode normalization is the process of converting Unicode strings to a standard form, making them binary comparable and suitable for text processing and comparison. It is an important part of Unicode text processing.</p>
			<p>For example, Unicode character "" can be represented by either a single Unicode character, which is Unicode Code Point (\u00E9" - Latin Small Letter E with Acute), or a combination of two Unicode code points i.e. the ASCII letter "e" and a combining acute accent (Unicode Code Point "\u0301"). Unicode NFC definition converts the pair of code points to the single code point.</p>
			<p>Normalization is not locale-dependent.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;cafe</span><span class="se">\u0301</span><span class="s">&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">normalize</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;caf\u00E9&quot; // &quot;caf&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">normalize</span><span class="p">(</span><span class="s">&quot;cafe</span><span class="se">\u0301</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.invert()</code></p></td>
		<td>
			<p>Simple reversible disguising of string text.</p>
			<p>It works by treating the string as UTF8 encoded Unicode code points and inverting the first 8 bits of their Unicode Code Points.</p>
			<p>
				<em>return:</em> A string.</p>
			<p>invert(invert()) returns to the original text.</p>
			<p>ASCII bytes become multibyte UTF-8 so string sizes increase.</p>
			<p>Inverted characters remain on their original Unicode Code Page but are jumbled up.</p>
			<p>Non-existant Unicode Code Points may be created but UTF8 encoding remains valid.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">invert</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;\xC2&quot; &quot;\x9E&quot; &quot;\xC2&quot; &quot;\x9D&quot; &quot;\xC2&quot; &quot;\x9C&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">invert</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.lower()</code></p></td>
		<td>
			<p>Reduce all types of field mark chars by one level.</p>
			<p>Convert all FM to VM, VM to SM etc.</p>
			<p>
				<em>return:</em> The converted string.</p>
			<p>Note that subtext ST chars are not converted because they are already the lowest level.</p>
			<p>String size remains identical.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a1^b2^c3&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">lower</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a1]b2]c3&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">lower</span><span class="p">(</span><span class="s">&quot;a1^b2^c3&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.raise()</code></p></td>
		<td>
			<p>Increase all types of field mark chars by one level.</p>
			<p>Convert all VM to FM, SM to VM etc.</p>
			<p>
				<em>return:</em> The converted string.</p>
			<p>The record mark char RM is not converted because it is already the highest level.</p>
			<p>String size remains identical.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a1]b2]c3&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">raise</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a1^b2^c3&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a1]b2]c3&quot;</span><span class="kt">_var</span><span class="p">;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.crop()</code></p></td>
		<td>
			<p>Remove any redundant FM, VM etc. chars (Trailing FM; VM before FM etc.)</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a1^b2]]^c3^^&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">crop</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a1^b2^c3&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">crop</span><span class="p">(</span><span class="s">&quot;a1^b2]]^c3^^&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.quote()</code></p></td>
		<td>
			<p>Wrap in double quotes.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">quote</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;\&quot;abc\&quot;&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">quote</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.squote()</code></p></td>
		<td>
			<p>Wrap in single quotes.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">squote</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;&#39;abc&#39;&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">squote</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.unquote()</code></p></td>
		<td>
			<p>Remove one pair of surrounding double or single quotes.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&#39;abc&#39;&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">unquote</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;abc&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">unquote</span><span class="p">(</span><span class="s">&quot;&#39;abc&#39;&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.trim(trimchars = " ")</code></p></td>
		<td>
			<p>Remove all leading, trailing and excessive inner bytes.</p>
			<p>
				<em>trimchars:</em> The chars (bytes) to remove. The default is space.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a1b2c3&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">trim</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a1b2c3&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">trim</span><span class="p">(</span><span class="s">&quot;a1b2c3&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.trimfirst(trimchars = " ")</code></p></td>
		<td>
			<p>Ditto but only leading.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a1b2c3&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">trimfirst</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a1b2c3&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">trimfirst</span><span class="p">(</span><span class="s">&quot;a1b2c3&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.trimlast(trimchars = " ")</code></p></td>
		<td>
			<p>Ditto but only trailing.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a1b2c3&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">trimlast</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a1b2c3&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">trimlast</span><span class="p">(</span><span class="s">&quot;a1b2c3&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.trimboth(trimchars = " ")</code></p></td>
		<td>
			<p>Ditto but only leading and trailing, not inner.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a1b2c3&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">trimboth</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a1b2c3&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">trimboth</span><span class="p">(</span><span class="s">&quot;a1b2c3&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.first()</code></p></td>
		<td>
			<p>Get the first char of a string.</p>
			<p>
				<em>return:</em> A char, or "" if empty.</p>
			<p>Equivalent to var.substr(1,length) or var[1, length] in Pick OS</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">first</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">first</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.last()</code></p></td>
		<td>
			<p>Get the last char of a string.</p>
			<p>
				<em>return:</em> A char, or "" if empty.</p>
			<p>Equivalent to var.substr(-1, 1) or var[-1, 1] in Pick OS</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">last</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;c&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">last</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.first(length)</code></p></td>
		<td>
			<p>Get the first n chars of a source string.</p>
			<p>
				<em>length:</em> The number of chars (bytes) to get.</p>
			<p>
				<em>return:</em> A string of up to n chars.</p>
			<p>Equivalent to var.substr(1, length) or var[1, length] in Pick OS</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">first</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;ab&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">first</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.last(length)</code></p></td>
		<td>
			<p>Extract up to length trailing chars</p>
			<p>Equivalent to var.substr(-length, length) or var[-length, length] in Pick OS</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">last</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;bc&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">last</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.cut(length)</code></p></td>
		<td>
			<p>Remove n chars (bytes) from the source string.</p>
			<p>
				<em>length:</em> Positive to remove first n chars or negative to remove the last n chars.</p>
			<p>If the absolute value of length is &gt;= the number of chars in the source string then all chars will be removed.</p>
			<p>Equivalent to var.substr(length) or var[1, length] = "" in Pick OS</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">cut</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;cd&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">cut</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.paste(pos1, length, replacestr)</code></p></td>
		<td>
			<p>Insert a substr at an given position after removing a given number of chars.</p>
			<p>
				<em>pos1:</em> </p>
			<dl>
				<dt>0 or 1</dt>
				<dd>Remove length chars from the beginning and insert at the beginning.</dd>
				<dt>    -1</dt>
				<dd>Insert on or before the last char after removing up to length chars starting with the last char.</dd>
				<dt>    -2</dt>
				<dd>Ditto on or before the penultimate char.</dd>
				<dt>&gt; strlen</dt>
				<dd>If pos1 &gt; length of the source string, insert after the last char.</dd>
			</dl>
			<p>Equivalent to var[pos1, length] = substr in Pick OS</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">paste</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;XYZ&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;aXYZd&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;XYZ&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.paste(pos1, insertstr)</code></p></td>
		<td>
			<p>Insert text at char position without overwriting any following chars</p>
			<p>Equivalent to var[pos1, 0] = substr in Pick OS</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">paste</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;XYZ&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;aXYZbcd&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;XYZ&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.prefix(insertstr)</code></p></td>
		<td>
			<p>Insert text at the beginning</p>
			<p>Equivalent to var[0, 0] = substr in Pick OS</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">prefix</span><span class="p">(</span><span class="s">&quot;XYZ&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;XYZabc&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">prefix</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;XYZ&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.append(appendable, ...)</code></p></td>
		<td>
			<p>Append anything at the end of a string.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s">&quot; is &quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; ok&quot;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;abc is 10 ok.&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">append</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; is &quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; ok&quot;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.pop()</code></p></td>
		<td>
			<p>Remove one trailing char.</p>
			<p>Equivalent to var[-1, 1] = "" in Pick OS</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">pop</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;ab&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">pop</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.field(delimiter, fieldnx = 1, nfieldsx = 1)</code></p></td>
		<td>
			<p>Copy one or more consecutive fields from a string.</p>
			<p>
				<em>delimiter:</em> A Unicode character.</p>
			<p>
				<em>fieldno:</em> The first field is 1, the last field is -1.</p>
			<p>
				<em>return:</em> A substring</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa*bb*cc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">field</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;bb&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">field</span><span class="p">(</span><span class="s">&quot;aa*bb*cc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;*&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
			</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa*bb*cc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">field</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;cc&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">field</span><span class="p">(</span><span class="s">&quot;aa*bb*cc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;*&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.field2(separator, fieldno, nfields = 1)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.fieldstore(separator, fieldno, nfields, replacement)</code></p></td>
		<td>
			<p>fieldstore() replaces, inserts or deletes subfields in a string.</p>
			<p>
				<em>fieldno:</em> The field number to replace or, if not 1, the field number to start at. Negative fieldno counts backwards from the last field.</p>
			<p>
				<em>nfields:</em> The number of fields to replace or, if negative, the number of fields to delete first. Can be 0 to cause simple insertion of fields.</p>
			<p>
				<em>replacement:</em> A string that is the replacement field or fields.</p>
			<p>
				<em>return:</em> A modified copy of the original string.</p>
			<p>There is no way to simply delete n fields because the replacement argument cannot be omitted, however one can achieve the same result by replacing n+1 fields with the n+1th field.</p>
			<p></p>
			<p>The replacement can contain multiple fields itself. If replacing n fields and the replacement contains &lt; n fields then the remaining fields become "". Conversely, if the replacement contains more fields than are required, they are discarded.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa,bb,cc,dd,ee&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">fieldstore</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11,22&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;aa,11,22,,ee&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">fieldstore</span><span class="p">(</span><span class="s">&quot;aa,bb,cc,dd,ee&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11,22&quot;</span><span class="p">);</span>
</pre></div>
			</p>
			<p></p>
			<p>If nfields is 0 then insert the replacement field(s) before fieldno</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa,bb,cc,dd,ee&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">fieldstore</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11,22&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;aa,11,22,bb,cc,dd,ee&quot;</span>
</pre></div>
If nfields is negative then delete abs(n) fields before inserting whatever fields the replacement has.
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa,bb,cc,dd,ee&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">fieldstore</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">-2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;aa,11,dd,ee&quot;</span>
</pre></div>
			</p>
			<p></p>
			<p>If nfields exceeds the number of fields in the input then additional empty fields are added.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aa,bb,cc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">fieldstore</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;aa,bb,cc,,,11,&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.substr(pos1, length)</code></p></td>
		<td>
			<p>substr version 1.</p>
			<p>Copy a substr of length chars from a given a starting char position.</p>
			<p>
				<em>return:</em> A substr or "".</p>
			<p>
				<em>pos1:</em> The char position to start at. If negative then start from a position counting backwards from the last char</p>
			<p>
				<em>length:</em> The number of chars to copy. If negative then copy backwards. This reverses the order of the chars in the returned substr.</p>
			<p>Equivalent to var[start, length] in Pick OS</p>
			<p>Not Unicode friendly.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">substr</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;bc&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">substr</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
			</p>
			<p></p>
			<p>If pos1 is negative then start counting backwards from the last char</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">substr</span><span class="p">(</span><span class="mi">-3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;bc&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">substr</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">-3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
			</p>
			<p></p>
			<p>If length is negative then work backwards and return chars reversed</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">substr</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">-2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;cb&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">substr</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">-2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;cb&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.b(pos1, length)</code></p></td>
		<td>
			<p>Abbreviated alias of substr version 1.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.substr(pos1)</code></p></td>
		<td>
			<p>substr version 2.</p>
			<p>Copy a substr from a given char position up to the end of the source string</p>
			<p>
				<em>return:</em> A substr or "".</p>
			<p>
				<em>pos1:</em> The char position to start at. If negative then start from a position counting backwards from the last char</p>
			<p>Equivalent to var[pos1, 9999999] in Pick OS</p>
			<p>Partially Unicode friendly but pos1 is in chars.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">substr</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;bcd&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">substr</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.b(pos1)</code></p></td>
		<td>
			<p>Shorthand alias of substr version 2.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.substr(pos1, delimiterchars, out pos2)</code></p></td>
		<td>
			<p>substr version 3.</p>
			<p>Copy a substr from a given char position up to (but excluding) any one of some given delimiter chars</p>
			<p>
				<em>return:</em> A substr or "".</p>
			<p>
				<em>pos1:</em> [in] The position of the first char to copy. Negative positions count backwards from the last char of the string.</p>
			<p>
				<em>pos2[out]:</em> The position of the next delimiter char, or one char position after the end of the source string if no subsequent delimiter chars are found.</p>
			<p>
				<em>COL2:</em> Is a predefined variable that can be used for pos2 instead of declaring a variable.</p>
			<p>An empty string may be returned if pos1 [in] points to one of the delimiter chars or points beyond the end of the source string.</p>
			<p>Equivalent to var[pos1, ",."] in Pick OS (non-numeric length).</p>
			<p>Works with any encoding including UTF8 for the source string but the delimiter chars are bytes.</p>
			<p>Add 1 to pos2 to skip over the next delimiter char to copy the next substr</p>
			<p>Works with any encoding including UTF8 for the source string but the delimiter chars are bytes.</p>
			<p>This function is similar to std::string::find_first_of but that function only returns pos2.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">pos1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;12,45 78&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">substr</span><span class="p">(</span><span class="n">pos1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">COL2</span><span class="p">);</span><span class="w">  </span><span class="c1">// v1 -&gt; &quot;45&quot; // COL2 -&gt; 6 // 6 is the position of the next delimiter char found.</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">substr</span><span class="p">(</span><span class="s">&quot;12,45 78&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">COL2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">COL2</span><span class="p">);</span><span class="w"> </span><span class="c1">// v2 -&gt; &quot;78&quot; // COL2 -&gt; 9 // 9 is one after the end of the string meaning that none of the delimiter chars were found.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.b(pos1, delimiterchars, out pos2)</code></p></td>
		<td>
			<p>Shorthand alias of substr version 3.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.substr2(io pos1, out delimiterno)</code></p></td>
		<td>
			<p>substr version 4.</p>
			<p>Copy a substr from a given char position up to (but excluding) the next field mark char (RM, FM, VM, SM, TM, ST).</p>
			<p>
				<em>return:</em> A substr or "".</p>
			<p>
				<em>pos1:</em> [in] The position of the first char to copy. Negative positions count backwards from the last char of the string.</p>
			<p>
				<em>pos1[out]:</em> The position of the first char of the next substr after whatever field mark char is found, or one char position after the end of the source string if no subsequent field mark char is found.</p>
			<p>
				<em>field_mark_no[out]:</em> A number (1-6) indicating which of the standard field mark chars was found, or 0 if not.</p>
			<p>An empty string may be returned if the pos1 [in] points to one of the field marks or beyond the end of the source string.</p>
			<p>pos1 [out] is correctly positioned to copy the next substr.</p>
			<p>Works with any encoding including UTF8. Was called "remove" in Pick OS.</p>
			<p>The equivalent in Pick OS was the statement "Remove variable From string At column Setting flag"</p>
			<p>This function is valuable for high performance processing of dynamic arrays.</p>
			<p>It is notably used in "list" to print parallel columns of mixed combinations of multivalues/subvalues and text marks correctly lined up mv to mv, sv to sv, tm to tm even when particular values, subvalues and text fragments are missing from particular columns.</p>
			<p>It is similar to version 3 of substr - substr(pos1, delimiterchars, pos2) except that in this version the delimiter chars are hard coded as the standard field mark chars (RM, FM, VM, SM, TM, ST) and it returns the first char position of the next substr, not the char position of the next field mark char.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">pos1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">field_mark_no</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;12^45^78&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">substr2</span><span class="p">(</span><span class="n">pos1</span><span class="p">,</span><span class="w"> </span><span class="n">field_mark_no</span><span class="p">);</span><span class="w">  </span><span class="c1">// &quot;45&quot; // pos1 -&gt; 7 // field_mark_no -&gt; 2 // field_mark_no 2 means that a FM was found.</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">substr2</span><span class="p">(</span><span class="s">&quot;12^45^78&quot;</span><span class="kt">_var</span><span class="p">,</span><span class="w"> </span><span class="n">pos1</span><span class="p">,</span><span class="w"> </span><span class="n">field_mark_no</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;78&quot; // pos1 -&gt; 9 // field_mark_no -&gt; 0 // field_mark_no 0 means that none of the standard field marks were found.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.b2(io pos1, out field_mark_no)</code></p></td>
		<td>
			<p>Shorthand alias of substr version 4.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.convert(fromchars, tochars)</code></p></td>
		<td>
			<p>Convert or delete chars one for one to other chars</p>
			<p>
				<em>from_chars:</em> chars to convert. If longer than to_chars then delete those characters instead of converting them.</p>
			<p>
				<em>to_chars:</em> chars to convert to</p>
			<p>Not UTF8 compatible.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcde&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">convert</span><span class="p">(</span><span class="s">&quot;aZd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;XY&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;Xbce&quot; // a is replaced and d is removed</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">convert</span><span class="p">(</span><span class="s">&quot;abcde&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;aZd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;XY&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.textconvert(fromchars, tochars)</code></p></td>
		<td>
			<p>Ditto for Unicode code points.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">textconvert</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;abcd&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">textconvert</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.replace(fromstr, tostr)</code></p></td>
		<td>
			<p>Replace all occurrences of one substr with another.</p>
			<p>Case sensitive.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Abc.Abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="s">&quot;bc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;AX.AX&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">replace</span><span class="p">(</span><span class="s">&quot;Abc Abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.replace(regex, replacement_str)</code></p></td>
		<td>
			<p>Replace substrings using a regular expression.</p>
			<p>
				<em>regex:</em> A regular expression created by rex() or _rex.</p>
			<p>
				<em>replacement_str:</em> A literal to replace all matched substrings.</p>
			<p>The replacement string can include the following special replacement patterns:</p>
			<p>Pattern</p>
			<dl>
				<dt>$$</dt>
				<dd>Inserts a "$".</dd>
				<dt>$&amp;</dt>
				<dd>Inserts the matched substring. Equivalent to $0.</dd>
				<dt>$`</dt>
				<dd>Inserts the portion of the string that precedes the matched substring.</dd>
				<dt>$'</dt>
				<dd>Inserts the portion of the string that follows the matched substring.</dd>
				<dt>$n</dt>
				<dd>Inserts the nth (1-indexed) capturing group where n is a positive integer less than 100.</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;A a B b&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="s">&quot;[A-Z]&quot;</span><span class="kt">_rex</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&#39;$0&#39;&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;&#39;A&#39; a &#39;B&#39; b&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">replace</span><span class="p">(</span><span class="s">&quot;A a B b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;[A-Z]&quot;</span><span class="kt">_rex</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&#39;$0&#39;&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.replace(regex, ReplacementFunction auto repl_func)</code></p></td>
		<td>
			<p>Replace substrings using a regular expression and a custom function.</p>
			<p>Allow complex string conversions.</p>
			<p>
				<em>repl_func:</em> A function with arguments (in match_str) that returns a var to replace match_str. May be an inline anonymous lambda function (capturing or non-capturing).</p>
			<p>e.g. [](auto match_str) {return match_str;} // Does nothing.</p>
			<p>
				<em>match_str:</em> Text of a single match. If regex groups are used, match_str.f(1, 1) is the whole match, match_str.f(1, 2) is the first group, etc.</p>
			<p>
				<div class="highlight light">
					<pre><span class="c1">// Decode hex escape codes.</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">R</span><span class="s">&quot;</span><span class="dl">(</span><span class="s">--\0x3B--\0x2F--</span><span class="dl">)</span><span class="s">&quot;</span><span class="p">;</span><span class="w">                                 </span><span class="c1">// Hex escape codes.</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span>
<span class="w">    </span><span class="sa">R</span><span class="s">&quot;</span><span class="dl">(</span><span class="s">\\0x[0-9a-fA-F]{2,2}</span><span class="dl">)</span><span class="s">&quot;</span><span class="kt">_rex</span><span class="p">,</span><span class="w">                              </span><span class="c1">// Find \0xFF.</span>
<span class="w">    </span><span class="p">[](</span><span class="k">auto</span><span class="w"> </span><span class="n">match_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="kr">return</span><span class="w"> </span><span class="n">match_str</span><span class="p">.</span><span class="nf">cut</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;HEX&quot;</span><span class="p">);}</span><span class="w">  </span><span class="c1">// Decode to a char.</span>
<span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">v2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;--;--/--&quot;</span><span class="p">);</span>
</pre></div>
			</p>
			<p>
				<div class="highlight light">
					<pre><span class="c1">// Reformat dates using groups.</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Date: 03-15-2025&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v3</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span>
<span class="w">    </span><span class="sa">R</span><span class="s">&quot;</span><span class="dl">(</span><span class="s">(\d{2})-(\d{2})-(\d{4})</span><span class="dl">)</span><span class="s">&quot;</span><span class="kt">_rex</span><span class="p">,</span>
<span class="w">    </span><span class="p">[](</span><span class="k">auto</span><span class="w"> </span><span class="n">match_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="kr">return</span><span class="w"> </span><span class="n">match_str</span><span class="p">.</span><span class="nf">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">match_str</span><span class="p">.</span><span class="nf">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">match_str</span><span class="p">.</span><span class="nf">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);}</span>
<span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">v4</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;Date: 2025-03-15&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.unique()</code></p></td>
		<td>
			<p>Remove duplicate fields, values or subvalues.</p>
			<p>From a dynamic array.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a1^b2^a1^c2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">unique</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a1^b2^c2&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">unique</span><span class="p">(</span><span class="s">&quot;a1^b2^a1^c2&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.sort(delimiter = FM)</code></p></td>
		<td>
			<p>Reorder fields, values or subvalues.</p>
			<p>In a dynamic array.</p>
			<p>Numeric data:
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;20^10^2^1^1.1&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">sort</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;1^1.1^2^10^20&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sort</span><span class="p">(</span><span class="s">&quot;20^10^2^1^1.1&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
			<p>Alphabetic data:
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;b1^a1^c20^c10^c2^c1^b2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">sort</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a1^b1^b2^c1^c10^c2^c20&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sort</span><span class="p">(</span><span class="s">&quot;b1^a1^c20^c10^c2^c1^b2&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.reverse(delimiter = FM)</code></p></td>
		<td>
			<p>Reorder fields in an FM or VM etc. separated list in descending order</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;20^10^2^1^1.1&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">reverse</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;1.1^1^2^10^20&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">reverse</span><span class="p">(</span><span class="s">&quot;20^10^2^1^1.1&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.randomize(delimiter = FM)</code></p></td>
		<td>
			<p>Randomise the order of fields in an FM, VM separated list</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;20^10^2^1^1.1&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">randomize</span><span class="p">();</span><span class="w"> </span><span class="c1">/// e.g. &quot;2^1^20^1.1^10&quot; (random order depending on initrand())</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">randomize</span><span class="p">(</span><span class="s">&quot;20^10^2^1^1.1&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.parse(char sepchar = ' ')</code></p></td>
		<td>
			<p>Split a delimited string into a dynamic array.</p>
			<p>Replace separator chars with FM chars except inside double or single quotes and ignoring escaped quotes \" \'</p>
			<p>
				<em>return:</em> A dynamic array</p>
			<p>Can be used to process CSV data.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc,</span><span class="se">\&quot;</span><span class="s">def,</span><span class="se">\&quot;</span><span class="s">123</span><span class="se">\&quot;</span><span class="s"> fgh</span><span class="se">\&quot;</span><span class="s">,12.34&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="sc">&#39;,&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;abc^\&quot;def,\&quot;123\&quot; fgh\&quot;^12.34&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span><span class="s">&quot;abc,</span><span class="se">\&quot;</span><span class="s">def,</span><span class="se">\&quot;</span><span class="s">123</span><span class="se">\&quot;</span><span class="s"> fgh</span><span class="se">\&quot;</span><span class="s">,12.34&quot;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;,&#39;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>dim=</code></p></td>
		<td>
			<p>
				<code>strvar.split(delimiter = FM)</code></p></td>
		<td>
			<p>Split a delimited string into a dim array.</p>
			<p>
				<em>Delimiter:</em> Can be multibyte Unicode.</p>
			<p>
				<em>return:</em> A dim array.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a^b^c&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">split</span><span class="p">();</span><span class="w"> </span><span class="c1">// A dimensioned array with three elements (vars)</span>
<span class="c1">// or</span>
<span class="nf">dim</span><span class="w"> </span><span class="n">d2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">split</span><span class="p">(</span><span class="s">&quot;a^b^c&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.paste(pos1, length, replacestr)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.fieldstore(delimiter, fieldno, nfields, replacement)</code></p></td>
		<td>
		</td></tr>
</table>
<h5 id="String_Mutation_-_Standalone_Commands">String Mutation - Standalone Commands</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.ucaser()</code></p></td>
		<td>
			<p>To upper case</p>
			<p>All string mutators follow the same pattern as ucaser. See the non-mutating functions for details.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">ucaser</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;ABC&quot;</span>
<span class="c1">// or</span>
<span class="nf">ucaser</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.lcaser()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.tcaser()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.fcaser()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.normalizer()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.inverter()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.quoter()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.squoter()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.unquoter()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.lowerer()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.raiser()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.cropper()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.trimmer(trimchars = " ")</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.trimmerfirst(trimchars = " ")</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.trimmerlast(trimchars = " ")</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.trimmerboth(trimchars = " ")</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.firster()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.laster()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.firster(length)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.laster(length)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.cutter(length)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.paster(pos1, length, insertstr)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.paster(pos1, insertstr)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.prefixer(insertstr)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.appender(appendable, ...)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.popper()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.fieldstorer(delimiter, fieldno, nfields, replacement)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.substrer(pos1, length)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.substrer(pos1)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.converter(from_chars, to_chars)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.textconverter(from_characters, to_characters)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.replacer(regex, tostr)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.replacer(regex, ReplacementFunction auto repl_func)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.replacer(fromstr, tostr)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.uniquer()</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.sorter(delimiter = FM)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.reverser(delimiter = FM)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.randomizer(delimiter = FM)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.parser(char sepchar = ' ')</code></p></td>
		<td>
		</td></tr>
</table>
<h5 id="I_O_Conversion">I/O Conversion</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var.oconv(convstr)</code></p></td>
		<td>
			<p>Convert internal data to output external display format.</p>
			<p>
				<em>convstr:</em> A conversion code or pattern. See ICONV/OCONV PATTERNS</p>
			<p>
				<em>return:</em> The data in external display format or, if the data is invalid and cannot converted, most conversions return the original data UNCONVERTED.</p>
			<p>
				<em>throw:</em> VarNotImplemented if convstr is invalid</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">30123</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;D/E&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;21/06/2050&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">oconv</span><span class="p">(</span><span class="mi">30123</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;D/E&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var.iconv(convstr)</code></p></td>
		<td>
			<p>Convert external data to internal format.</p>
			<p>
				<em>convstr:</em> A conversion code or pattern. See ICONV/OCONV PATTERNS</p>
			<p>
				<em>return:</em> The data in internal format or, if the data is invalid and cannot be converted, most conversions return the EMPTY STRING ""</p>
			<p>
				<em>throw:</em> VarNotImplemented if convstr is invalid</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;21 JUN 2050&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;D/E&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 30123</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;21 JUN 2050&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;D/E&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var.format(fmt_str, args, ...)</code></p></td>
		<td>
			<p>Classic format function in printf style</p>
			<p>vars can be formatted either with C++ format codes e.g. {:_&gt;8.2f}</p>
			<p>or with exodus oconv codes e.g. {::MD20P|R(_)#8} as in the below example.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">12.345</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="s">&quot;&#39;{:_&gt;8.2f}&#39;&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;&#39;___12.35&#39;&quot;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">12.345</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="s">&quot;&#39;{::MD20P|R(_)#8}&#39;&quot;</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">format</span><span class="p">(</span><span class="s">&quot;&#39;{:_&gt;8.2f}&#39;&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">12.345</span><span class="p">));</span><span class="w"> </span><span class="c1">// &quot;&#39;___12.35&#39;&quot;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">format</span><span class="p">(</span><span class="s">&quot;&#39;{::MD20P|R(_)#8}&#39;&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">12.345</span><span class="p">));</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.from_codepage(codepage)</code></p></td>
		<td>
			<p>Convert from codepage encoded text to UTF-8 encoded exodus text</p>
			<p>
				<em>codepage:</em> e.g. Codepage "CP1124" (Ukrainian).</p>
			<p>Use Linux command "iconv -l" for a complete list of code pages and encodings.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\xa4</span><span class="s">&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">from_codepage</span><span class="p">(</span><span class="s">&quot;CP1124&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">from_codepage</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\xa4</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CP1124&quot;</span><span class="p">);</span>
<span class="c1">// U+0404 Cyrillic Capital Letter Ukrainian Ie Unicode character</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.to_codepage(codepage)</code></p></td>
		<td>
			<p>Convert to codepage encoded text from exodus UTF-8 encoded text</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">to_codepage</span><span class="p">(</span><span class="s">&quot;CP1124&quot;</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;HEX&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;A4&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">to_codepage</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CP1124&quot;</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;HEX&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Dynamic_Array_Functions">Dynamic Array Functions</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.f(fieldno, valueno = 0, subvalueno = 0)</code></p></td>
		<td>
			<p>f() is a highly abbreviated alias for the Pick OS field/value/subvalue extract() function.</p>
			<p>"f()" can be thought of as "field" although the function can extract values and subvalues as well.</p>
			<p>The convenient Pick OS angle bracket syntax for field extraction (e.g. xxx&lt;20&gt;) is not available in C++.</p>
			<p>The abbreviated exodus field extraction function (e.g. xxx.f(20)) is provided instead since field access is extremely heavily used in source code.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^f2v1]f2v2]f2v3^f2&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;f2v2&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.extract(fieldno, valueno = 0, subvalueno = 0)</code></p></td>
		<td>
			<p>Extract a specific field, value or subvalue from a dynamic array.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^f2v1]f2v2]f2v3^f2&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">extract</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;f2v2&quot;</span>
<span class="c1">//</span>
<span class="c1">// For brevity the function alias &quot;f()&quot; (standing for &quot;field&quot;) is normally used instead of &quot;extract()&quot; as follows:</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.update(fieldno, valueno, subvalueno, replacement)</code></p></td>
		<td>
			<p>Update (replace or insert) a specific subvalue  in a dynamic array.</p>
			<p>Same as var.updater() function but returns a new string instead of updating a variable in place. Rarely used.</p>
			<p>"update()" was called "replace()" in Pick OS/Basic.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.update(fieldno, valueno, replacement)</code></p></td>
		<td>
			<p>Update (replace or insert) a specific value in a dynamic array.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.update(fieldno, replacement)</code></p></td>
		<td>
			<p>Update (replace or insert) a specific field a dynamic array.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.insert(fieldno, valueno, subvalueno, insertion)</code></p></td>
		<td>
			<p>Insert a subvalue in a dynamic array.</p>
			<p>Same as var.inserter() function but returns a new string instead of updating a variable in place.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.insert(fieldno, valueno, insertion)</code></p></td>
		<td>
			<p>Insert a value in a dynamic array.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.insert(fieldno, insertion)</code></p></td>
		<td>
			<p>Insert a field in a dynamic array.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.remove(fieldno, valueno = 0, subvalueno = 0)</code></p></td>
		<td>
			<p>Remove a field, value or subvalue from a dynamic array.</p>
			<p>Same as var.remover() function but returns a new string instead of updating a variable in place.</p>
			<p>"remove()" was called "delete()" in Pick OS/Basic.</p>
		</td></tr>
</table>
<h5 id="Dynamic_Array_Filters">Dynamic Array Filters</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.sum()</code></p></td>
		<td>
			<p>Sum up multiple values in a dynamic array.</p>
			<p>Whatever is the lowest level is summed up into a higher level.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1]2]3^4]5]6&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">sum</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;6^15&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="s">&quot;1]2]3^4]5]6&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.sumall()</code></p></td>
		<td>
			<p>Sum up everything in a dynamic array.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1]2]3^4]5]6&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">sumall</span><span class="p">();</span><span class="w"> </span><span class="c1">// 21</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sumall</span><span class="p">(</span><span class="s">&quot;1]2]3^4]5]6&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.sum(delimiter)</code></p></td>
		<td>
			<p>Sum all fields using a given delimiter.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;10,20,30&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 60</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="s">&quot;10,20,30&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.stddev()</code></p></td>
		<td>
			<p>Calculate basic statistics include stddev.</p>
			<p>
				<em>return:</em> An FM delimited string containing n, tot, min, max, tot, mean and stddev</p>
			<p>
				<em>strvar:</em> A dynamic array containing numbers using any field, value or subvalue mark delimiters.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;-11.2^0^11.5^12^13.9^14&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="n">stddev</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;6^40.2^-11.2^14^6.7^9.32344714506&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stddev</span><span class="p">(</span><span class="s">&quot;-11.2^0^11.5^12^13.9^14&quot;</span><span class="kt">_var</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.mv(opcode, var2)</code></p></td>
		<td>
			<p>Binary ops on parallel multivalues</p>
			<p></p>
			<p>
				<em>opcode:</em> </p>
			<dl>
				<dt>+</dt>
				<dd>Addition</dd>
				<dt>-</dt>
				<dd>Subtraction</dd>
				<dt></dt>
				<dd>Multiplication</dd>
				<dt>/</dt>
				<dd>Division</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;10]20]30&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">mv</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">,</span><span class="s">&quot;2]3]4&quot;</span><span class="kt">_var</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;12]23]34&quot;_var</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Dynamic_Array_Mutators_Standalone_Commands">Dynamic Array Mutators Standalone Commands</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.updater(fieldno, replacement)</code></p></td>
		<td>
			<p>Replace a specific field in a dynamic array</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^v1]v2}s2}s3^f3&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">updater</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;f1^X^f3&quot;_var</span>
<span class="c1">// or</span>
<span class="n">v1</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">/// Easiest.</span>
<span class="c1">// or</span>
<span class="nf">updater</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.updater(fieldno, valueno, replacement)</code></p></td>
		<td>
			<p>Replace a specific value in a dynamic array.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^v1]v2}s2}s3^f3&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">updater</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;f1^v1]X^f3&quot;_var</span>
<span class="c1">// or</span>
<span class="n">v1</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">/// Easiest.</span>
<span class="c1">// or</span>
<span class="nf">updater</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.updater(fieldno, valueno, subvalueno, replacement)</code></p></td>
		<td>
			<p>Replace a specific subvalue in a dynamic array.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^v1]v2}s2}s3^f3&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">updater</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;f1^v1]v2}X}s3^f3&quot;_var</span>
<span class="c1">// or</span>
<span class="n">v1</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">/// Easiest.</span>
<span class="c1">// or</span>
<span class="nf">updater</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.inserter(fieldno, insertion)</code></p></td>
		<td>
			<p>Insert a specific field in a dynamic array</p>
			<p>All other fields are moved up.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^v1]v2}s2}s3^f3&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">inserter</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;f1^X^v1]v2}s2}s3^f3&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">inserter</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.inserter(fieldno, valueno, insertion)</code></p></td>
		<td>
			<p>Insert a specific value in a dynamic array.</p>
			<p>All other values are moved up.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^v1]v2}s2}s3^f3&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">inserter</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;f1^v1]X]v2}s2}s3^f3&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">inserter</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.inserter(fieldno, valueno, subvalueno, insertion)</code></p></td>
		<td>
			<p>Insert a specific subvalue in a dynamic array.</p>
			<p>All other subvalues are moved up.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^v1]v2}s2}s3^f3&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">inserter</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;f1^v1]v2}X}s2}s3^f3&quot;_var</span>
<span class="c1">// or</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">inserter</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.remover(fieldno, valueno = 0, subvalueno = 0)</code></p></td>
		<td>
			<p>Remove a specific field, value, or subvalue from a dynamic array.</p>
			<p>All other fields, values, or subvalues are moved down.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^v1]v2}s2}s3^f3&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="nf">remover</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;f1^v1^f3&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">remover</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Dynamic_Array_Search">Dynamic Array Search</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.locate(substr)</code></p></td>
		<td>
			<p>locate substr in dynamic array</p>
			<p>Search unordered fields, values and/or subvalues.</p>
			<p>With only the substr argument provided, locate searches regardless of the field mark delimiters present.</p>
			<p>
				<em>return:</em> The field, value or subvalue number if found or 0 if not. Fields are counted regardless of delimiter.</p>
			<p>Searching for empty fields, values etc. (i.e. "") will work. Locating "" in "]yy" will return 1, in "xx]]zz" 2, and in "xx]yy]" 3, however, locating "" in "xx" will return 0 because there is conceptually no empty value in "xx". Locate "" in "" will return 1.</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;UK^US^UA&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">locate</span><span class="p">(</span><span class="s">&quot;US&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// 2</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">locate</span><span class="p">(</span><span class="s">&quot;US&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;UK^US^UA&quot;</span><span class="kt">_var</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.locate(substr, out valueno)</code></p></td>
		<td>
			<p>locate substr in values.</p>
			<p>Search unordered VM delimited string.</p>
			<p>
				<em>valueno[out]:</em> Value number if found or the max value number + 1 if not. If not found then valueno [out] is suitable for creating a new value.</p>
			<p>
				<em>return:</em> True if found or False if not.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">valueno</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;UK]US]UA&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">locate</span><span class="p">(</span><span class="s">&quot;US&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">valueno</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// valueno -&gt; 2</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">locate</span><span class="p">(</span><span class="s">&quot;US&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;UK]US]UA&quot;</span><span class="kt">_var</span><span class="p">,</span><span class="n">valueno</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.locate(substr, out num, fieldno, valueno = 0)</code></p></td>
		<td>
			<p>locate substr in dynamic array.</p>
			<p>Search in an unordered dynamic array.</p>
			<p>
				<em>fieldno:</em> If fieldno is non-zero then search the specified field number otherwise, if fieldno is 0, search using FM as delimiter.</p>
			<p>
				<em>valueno:</em> If provided, search the specified value number for a subvalue.</p>
			<p>
				<em>num[out]:</em> If found, the field, value or subvalue number where it was found. If not found, the max field, value or subvalue number + 1. If not found then num [out] is suitable for creating a new field, value or subvalue.</p>
			<p>
				<em>return:</em> True if found or False if not.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="nf">num</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;f1^f2v1]f2v2]s1}s2}s3}s4^f3^f4&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">locate</span><span class="p">(</span><span class="s">&quot;s4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">num</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// num -&gt; 4 // Return true</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.locateby(ordercode, substr, out valueno)</code></p></td>
		<td>
			<p>locate substr in ordered dynamic array</p>
			<p>locateby() without fieldno or valueno arguments, searches ordered values separated by VM chars.</p>
			<p>Data must already be in the correct order for searching to work properly.</p>
			<p>
				<em>ordercode:</em> </p>
			<dl>
				<dt>AL</dt>
				<dd>Ascending  - Left Justified (Alphabetic)</dd>
				<dt>DL</dt>
				<dd>Descending - Left Justified (Alphabetic)</dd>
				<dt>AR</dt>
				<dd>Ascending  - Right Justified (Numeric/Natural)</dd>
				<dt>DR</dt>
				<dd>Descending - Right Justified (Numeric/Natural)</dd>
			</dl>
			<p>
				<em>return:</em> True if found, otherwise false.</p>
			<p>
				<em>valueno[out]:</em> Either the value no found or the correct value no for inserting the substr</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">valueno</span><span class="p">;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;aaa]bbb]ccc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">locateby</span><span class="p">(</span><span class="s">&quot;AL&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bb&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">valueno</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="c1">// valueno -&gt; 2 // Return false and valueno = where it could be correctly inserted.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.locateby(ordercode, substr, out num, fieldno, valueno = 0)</code></p></td>
		<td>
			<p>locate substr in ordered dynamic array</p>
			<p>locateby() with fieldno and/or valueno arguments, searches fields if fieldno is 0, or values in a specific fieldno, or subvalues in a specific valueno.</p>
			<p>For more info, see locateby() without fieldno or valueno arguments.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="nf">num</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;f1^f2^aaa]bbb]ccc^f4&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">locateby</span><span class="p">(</span><span class="s">&quot;AL&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bb&quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">num</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="c1">// num -&gt; 2 // return false and where it could be correctly inserted.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.locateusing(usingchar, substr)</code></p></td>
		<td>
			<p>locate substr using any delimiter.</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;AB,EF,CD&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">locateusing</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EF&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.locateusing(usingchar, substr, out num, fieldno = 0, valueno = 0, subvalueno = 0)</code></p></td>
		<td>
			<p>locate substr in dynamic array using any delimiter</p>
			<p>Search in a specific field, value or subvalue.</p>
			<p>
				<em>num[out]:</em>  If found, the number where found, otherwise the maximum number of delimited fields + 1.</p>
			<p>
				<em>return:</em> True if found and False if not.</p>
			<p>This is similar to the main locate command but the delimiter char can be specified e.g. a comma or TM etc.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="nf">num</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;f1^f2^f3c1,f3c2,f3c3^f4&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">locateusing</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f3c2&quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">num</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// num -&gt; 2 // Return true</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.locatebyusing(ordercode, usingchar, substr, out num, fieldno = 0, valueno = 0, subvalueno = 0)</code></p></td>
		<td>
			<p>locatebyusing() supports all the locate features in a single function.</p>
		</td></tr>
</table>
<h5 id="Database_Access">Database Access</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.connect(conninfo = "")</code></p></td>
		<td>
			<p>Establish a connection to a database.</p>
			<p>
				<em>conninfo:</em> The DB connection string parameters are merged from the following places in descending priority.</p>
			<ol>
				<li>Provided in connect()'s conninfo argument. See the last option. for the complete list of parameters.</li>
				<li>Any environment variables EXO_HOST EXO_PORT EXO_USER EXO_DATA EXO_PASS EXO_TIME</li>
				<li>Any parameters found in a configuration file at ~/.config/exodus/exodus.cfg</li>
				<li>The default conninfo is "host=127.0.0.1 port=5432 dbname=exodus user=exodus password=somesillysecret connect_timeout=10"</li>
			</ol>
			<p>Setting environment variable EXO_DBTRACE=1 will cause tracing of DB interface including SQL commands.</p>
			<p>
				<em>dbconn[out]:</em> Becomes a reference or handle for future functions that require a connection argument.</p>
			<p>For all the various DB function calls, the dbconn or operative var can be either:</p>
			<ul>
				<li>A DB connection created with dbconnect().</li>
				<li>A file var created with open().</li>
				<li>Any var. A default connection will be established on the fly.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">dbconn</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="s">&quot;dbname=exodus user=exodus password=somesillysecret&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...;</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">connect</span><span class="p">())</span><span class="w"> </span><span class="p">...</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="s">&quot;exodus&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.attach(filenames)</code></p></td>
		<td>
			<p>Attach filename(s) to a specific DB connection.</p>
			<p>Any following use of the given filename(s) without specifying a connection will be directed to the specified connection until process termination.</p>
			<p>It is not necessary to attach files before opening them but the act of opening them also attaches them.</p>
			<p>The files must exist in the specified connection.</p>
			<p>Attachments can changed by calling attach() or open() on a different connection or they can be removed by calling detach().</p>
			<p>
				<em>dbconn:</em> The connection to which the filename(s) should be attached. Defaults to the default connection.</p>
			<p>
				<em>filenames:</em> FM separated list.</p>
			<p>
				<em>return:</em> False if any filename does not exist and cannot be opened on the given connection. All filenames that can be opened on the connection are attached even if some cannot.</p>
			<p>Internally, attach merely opens each filename on the given connection causing them to be added to an internal cache.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">filenames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients^dict.xo_clients&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">attach</span><span class="p">(</span><span class="n">filenames</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">attach</span><span class="p">(</span><span class="n">filenames</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dbconn.detach(filenames)</code></p></td>
		<td>
			<p>Remove files from the internal cache created by previous open() and attach() calls.</p>
			<p>
				<em>filenames:</em> FM separated list.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.begintrans()</code></p></td>
		<td>
			<p>Begin a DB transaction.</p>
			<p>
				<em>return:</em> </p>
			<dl>
				<dt>True</dt>
				<dd>Successfully begun.</dd>
				<dt>False</dt>
				<dd>DB refused. See lasterror() for info.</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">dbconn</span><span class="p">.</span><span class="nf">begintrans</span><span class="p">())</span><span class="w"> </span><span class="p">...</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">begintrans</span><span class="p">())</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.statustrans()</code></p></td>
		<td>
			<p>Check if a DB transaction is in progress.</p>
			<p>
				<em>return:</em> True or False.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">statustrans</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">statustrans</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.rollbacktrans()</code></p></td>
		<td>
			<p>Rollback a DB transaction.</p>
			<p>
				<em>return:</em> </p>
			<dl>
				<dt>True</dt>
				<dd>Successfully rolled back or there was no transaction in progress.</dd>
				<dt>False</dt>
				<dd>DB refused. See lasterror() for info.</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">rollbacktrans</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">rollbacktrans</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.committrans()</code></p></td>
		<td>
			<p>Commit a DB transaction.</p>
			<p>
				<em>return:</em> </p>
			<dl>
				<dt>True</dt>
				<dd>Successfully committed or there was no transaction in progress.</dd>
				<dt>False</dt>
				<dd>DB refused. See lasterror() for info.</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">committrans</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">committrans</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.sqlexec(sqlcmd)</code></p></td>
		<td>
			<p>Execute an sql command.</p>
			<p>
				<em>return:</em> </p>
			<dl>
				<dt>True</dt>
				<dd>Successfully executed.</dd>
				<dt>False</dt>
				<dd>DB refused. See lasterror() for info.</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">sqlexec</span><span class="p">(</span><span class="s">&quot;select 1&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">sqlexec</span><span class="p">(</span><span class="s">&quot;select 1&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.sqlexec(sqlcmd, io response)</code></p></td>
		<td>
			<p>Execute an SQL command and capture the response.</p>
			<p>
				<em>return:</em> </p>
			<dl>
				<dt>True</dt>
				<dd>Successfully executed.</dd>
				<dt>False</dt>
				<dd>DB refused. See lasterror() for info.</dd>
			</dl>
			<p>
				<em>response:</em> Any rows and columns returned are separated by RM and FM respectively. The first row is the column names.</p>
			<p>It is *ecommended* that you do not use sql directly unless you must, perhaps to manage or configure a database.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">sqlcmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;select &#39;xxx&#39; as col1, &#39;yyy&#39; as col2&quot;</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">response</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">sqlexec</span><span class="p">(</span><span class="n">sqlcmd</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// response -&gt; &quot;col1^col2\x1fxxx^yyy&quot;_var /// \x1f is the Record Mark (RM) char. The backtick char is used here by gendoc to deliminate source code.</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">sqlexec</span><span class="p">(</span><span class="n">sqlcmd</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dbconn.disconnect()</code></p></td>
		<td>
			<p>Close a DB connection</p>
			<p>Free process resources both locally and in the database server.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="n">dbconn</span><span class="p">.</span><span class="nf">disconnect</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">disconnect</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dbconn.disconnectall()</code></p></td>
		<td>
			<p>Close all DB connections</p>
			<p>Free process resources both locally and in the database server(s).</p>
			<p>All connections are closed automatically when a process terminates.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="n">dbconn</span><span class="p">.</span><span class="nf">disconnectall</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">disconnectall</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::lasterror()</code></p></td>
		<td>
			<p>
				<em>return:</em> The last OS or DB error message.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">lasterror</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">lasterror</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dbconn.setlasterror(msg)</code></p></td>
		<td>
			<p>Set the lasterror() message.</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var::loglasterror(source = "")</code></p></td>
		<td>
			<p>Log the last OS or DB error message.</p>
			<p>
				<em>Output:</em> To stdlog</p>
			<p>Prefix the output with source if provided.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="o">::</span><span class="nf">loglasterror</span><span class="p">(</span><span class="s">&quot;main:&quot;</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="nf">loglasterror</span><span class="p">(</span><span class="s">&quot;main:&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Database_Management">Database Management</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.dbcreate(new_dbname, old_dbname = "")</code></p></td>
		<td>
			<p>Create a named database on a particular connection.</p>
			<p>Optionally copies an existing database from the same connection</p>
			<p>
				<em>return:</em> True or False. See lasterror() for errors.</p>
			<ul>
				<li>Target database must not already exist.</li>
				<li>Source database must exist on the same connection.</li>
				<li>Source database cannot have any current connections.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">dbdelete</span><span class="p">(</span><span class="s">&quot;xo_gendoc_testdb&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{};</span><span class="w"> </span><span class="c1">// Cleanup first</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">dbcreate</span><span class="p">(</span><span class="s">&quot;xo_gendoc_testdb&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">dbcreate</span><span class="p">(</span><span class="s">&quot;xo_gendoc_testdb&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.dbcopy(from_dbname, to_dbname)</code></p></td>
		<td>
			<p>Create a named database as a copy of an existing database.</p>
			<p>
				<em>return:</em> True or False. See lasterror() for errors.</p>
			<ul>
				<li>Target database must not already exist.</li>
				<li>Source database must exist on the same connection.</li>
				<li>Source database cannot have any current connections.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">dbdelete</span><span class="p">(</span><span class="s">&quot;xo_gendoc_testdb2&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{};</span><span class="w"> </span><span class="c1">// Cleanup first</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">dbcopy</span><span class="p">(</span><span class="s">&quot;xo_gendoc_testdb&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;xo_gendoc_testdb2&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">dbcopy</span><span class="p">(</span><span class="s">&quot;xo_gendoc_testdb&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;xo_gendoc_testdb2&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>dbconn.dblist()</code></p></td>
		<td>
			<p>Get a list of available databases.</p>
			<p>A list for a given connection or the default connection.</p>
			<p>
				<em>return:</em> An FM delimited list.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbconn</span><span class="p">.</span><span class="nf">dblist</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">dblist</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.dbdelete(dbname)</code></p></td>
		<td>
			<p>Delete (drop) a named database.</p>
			<p>
				<em>return:</em> True or False. See lasterror() for errors.</p>
			<ul>
				<li>Database does not exist</li>
				<li>Database has active connections.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">dbdelete</span><span class="p">(</span><span class="s">&quot;xo_gendoc_testdb2&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">dbdelete</span><span class="p">(</span><span class="s">&quot;xo_gendoc_testdb2&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.createfile(filename)</code></p></td>
		<td>
			<p>Create a named DB file.</p>
			<p>filenames ending with "_temp" only last until the connection is closed.</p>
			<p>
				<em>return:</em> True or False. See lasterror() for errors.</p>
			<ul>
				<li>Filename is invalid.</li>
				<li>Filename already exists.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_gendoc_temp&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">createfile</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">createfile</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.renamefile(filename, newfilename)</code></p></td>
		<td>
			<p>Rename a DB file.</p>
			<p>
				<em>return:</em> True or False. See lasterror() for errors.</p>
			<ul>
				<li>source filename does not exist.</li>
				<li>newfilename is invalid.</li>
				<li>newfilename already exists.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_gendoc_temp&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">new_filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_gendoc_temp2&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">renamefile</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">new_filename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">renamefile</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">new_filename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>dbconn.listfiles()</code></p></td>
		<td>
			<p>Get a list of all files in a database.</p>
			<p>
				<em>return:</em> An FM separated list.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">dbconn</span><span class="p">.</span><span class="nf">listfiles</span><span class="p">())</span><span class="w"> </span><span class="p">...</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">listfiles</span><span class="p">())</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.clearfile(filename)</code></p></td>
		<td>
			<p>Delete all records in a DB file.</p>
			<p>
				<em>return:</em> True or False. See lasterror() for errors.</p>
			<ul>
				<li>filename does not exist.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_gendoc_temp2&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">dbconn</span><span class="p">.</span><span class="nf">clearfile</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">clearfile</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbconn.deletefile(filename)</code></p></td>
		<td>
			<p>Delete a DB file.</p>
			<p>
				<em>return:</em> True or False. See lasterror() for errors.</p>
			<ul>
				<li>filename does not exist.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_gendoc_temp2&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">deletefile</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">deletefile</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>conn_or_file.reccount(filename = "")</code></p></td>
		<td>
			<p>Get the approx number of records in a DB file.</p>
			<p>Might return -1 if not known.</p>
			<p>Not very accurate inside transactions.</p>
			<p>
				<em>return:</em> An approximate number.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">nrecs1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbconn</span><span class="p">.</span><span class="nf">reccount</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">nrecs2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">reccount</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>conn_or_file.flushindex(filename = "")</code></p></td>
		<td>
			<p>Call the DB maintenance function.</p>
			<p>For one file or all files.</p>
			<p>Ensure that reccount() function is reasonably accurate.</p>
			<p>Despite the name, this doesnt flush any index.</p>
			<p>
				<em>return:</em> True or False. See lasterror() for errors.</p>
			<ul>
				<li>Cannot perform maintenance while a transaction is active.</li>
			</ul>
		</td></tr>
</table>
<h5 id="Database_File_I_O">Database File I/O</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>file.open(dbfilename, dbconn = "")</code></p></td>
		<td>
			<p>Open a DB file.</p>
			<p>To a var which can be used in subsequent DB function calls to access a specific file using a specific connection.</p>
			<p>
				<em>dbconn:</em> If dbconn is *not* specified, and the filename is present in an internal cache of filenames and connections created by previous calls to open() or attach() then open() returns true. If it is not present in the cache then the default connection will be checked.</p>
			<p>
				<em>return:</em> See lasterror().</p>
			<dl>
				<dt>True</dt>
				<dd>The filename was present in the cache OR the DB connection reports that the file is present.</dd>
				<dt>False</dt>
				<dd>The DB connection reports that the file does not exist.</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">open</span><span class="p">(</span><span class="n">filename</span><span class="w"> </span><span class="ow">to</span><span class="w"> </span><span class="n">file</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>file.close()</code></p></td>
		<td>
			<p>Close a DB file.</p>
			<p>Does nothing currently since database file vars consume no resources</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">;</span>
<span class="n">file</span><span class="p">.</span><span class="nf">close</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">close</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>file.createindex(fieldname, dictfile = "")</code></p></td>
		<td>
			<p>Create a secondary index.</p>
			<p>For a given DB file and field name.</p>
			<p>The fieldname must exist in a dictionary file. The default dictionary is "dict." ^ filename.</p>
			<p>
				<em>return:</em> False if the index cannot be created for any reason. See lasterror().</p>
			<ul>
				<li>Index already exists</li>
				<li>File does not exist</li>
				<li>The dictionary file does not have a record with a key of the given field name.</li>
				<li>The dictionary file does not exist. Default is "dict." ^ filename.</li>
				<li>The dictionary field defines a calculated field that uses an exodus function. Using a psql function is OK.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fieldname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;DATE_CREATED&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">deleteindex</span><span class="p">(</span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;DATE_CREATED&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{};</span><span class="w"> </span><span class="c1">// Cleanup first</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">filename</span><span class="p">.</span><span class="nf">createindex</span><span class="p">(</span><span class="n">fieldname</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">createindex</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">fieldname</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>file|dbconn.listindex(file_or_filename = "", fieldname = "")</code></p></td>
		<td>
			<p>List secondary indexes.</p>
			<p>In a database or for a DB file.</p>
			<p>
				<em>return:</em> An FM separated list.</p>
			<ul>
				<li>DB file or fieldname does not exist.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">listindex</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// include &quot;xo_clients__date_created&quot;</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">listindex</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>file.deleteindex(fieldname)</code></p></td>
		<td>
			<p>Delete a secondary index.</p>
			<p>For a DB file and field name.</p>
			<p>
				<em>return:</em> False if the index cannot be deleted for any reason. See lasterror().</p>
			<ul>
				<li>File does not exist</li>
				<li>Index does not already exists</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fieldname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;DATE_CREATED&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="nf">deleteindex</span><span class="p">(</span><span class="n">fieldname</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">deleteindex</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">fieldname</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>file.lock(key)</code></p></td>
		<td>
			<p>Place a metaphorical DB lock.</p>
			<p>On a particular record given a DB file and key.</p>
			<p>This is a advisory lock, not a physical lock, since it makes no restriction on the access or modification of data by other connections.</p>
			<p>Neither the DB file nor the record key need to actually exist since a lock is just a hash of the DB file name and key combined.</p>
			<p>If another connection attempts to place an identical lock on the same database it will be denied.</p>
			<p>Locks can be removed by unlock() or unlockall() or will be automatically removed at the end of a transaction or when the connection is closed.</p>
			<p>If the same process attempts to place an identical lock more than once it may be denied (if not in a transaction) or succeed but be ignored (if in a transaction).</p>
			<p>Locks can be used to avoid processing a transaction simultaneously with another connection only to have one of them fail due to mutually updating the same records.</p>
			<p>
				<em>Returns:</em> </p>
			<dl>
				<dt>0</dt>
				<dd>Failure: Another connection has already placed the same lock.</dd>
				<dt>""</dt>
				<dd>Failure: The lock has already been placed.</dd>
				<dt>1</dt>
				<dd>Success: A new lock has been placed.</dd>
				<dt>2</dt>
				<dd>Success: The lock has already been placed and the connection is in a transaction.</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1000&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="nf">lock</span><span class="p">(</span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">lock</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>file.unlock(key)</code></p></td>
		<td>
			<p>Remove a DB lock.</p>
			<p>A lock placed by the lock function.</p>
			<p>
				<em>return:</em> True or False. See lasterror().</p>
			<ul>
				<li>Lock cannot be removed while in a transaction.</li>
				<li>Lock is not present in the connection.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1000&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="nf">unlock</span><span class="p">(</span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">unlock</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>file.unlockall()</code></p></td>
		<td>
			<p>Remove all DB locks.</p>
			<p>All locks placed by the lock function in the specified connection.</p>
			<p>
				<em>return:</em> True or False. See lasterror().</p>
			<ul>
				<li>Locks cannot be removed while in a transaction.</li>
			</ul>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">dbconn</span><span class="p">.</span><span class="nf">unlockall</span><span class="p">())</span><span class="w"> </span><span class="p">...</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">unlockall</span><span class="p">(</span><span class="n">dbconn</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>record.write(file, key)</code></p></td>
		<td>
			<p>Write a record into a DB file.</p>
			<p>Given a unique primary key, either inserts a new record or updates an existing record.</p>
			<p>
				<em>return:</em> Nothing since writes always succeed.</p>
			<p>
				<em>throw:</em> VarDBException if the file does not exist.</p>
			<p>Any memory cached record is deleted.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Client GD^G^20855^30000^1001.00^20855.76539&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GD001&quot;</span><span class="p">;</span>
<span class="c1">//if (not &quot;xo_clients&quot;_var.deleterecord(&quot;GD001&quot;)) {}; // Cleanup first</span>
<span class="n">record</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="nf">write</span><span class="p">(</span><span class="n">record</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>record.read(file, key)</code></p></td>
		<td>
			<p>Read a record from a DB file.</p>
			<p>Given a unique primary key.</p>
			<p>
				<em>file:</em> A DB filename or a var opened to a DB file.</p>
			<p>
				<em>key:</em> The key of the record to be read.</p>
			<p>
				<em>return:</em> False if the key doesnt exist</p>
			<p>
				<em>var:</em> Contains the record if it exists or is unassigned if not.</p>
			<p>A special case of the key being "%RECORDS%" results in a fictitious "record" being returned as an FM separated list of all the keys in the DB file up to a maximum size of 4Mib, sorted in natural order.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">record</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GD001&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">record</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="c1">// record -&gt; &quot;Client GD^G^20855^30000^1001.00^20855.76539&quot;_var</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="n">record</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>file.deleterecord(key)</code></p></td>
		<td>
			<p>Delete a record from a DB file.</p>
			<p>Given a unique primary key.</p>
			<p>
				<em>return:</em> True or False.</p>
			<ul>
				<li>Key doesnt exist.</li>
			</ul>
			<p>Any memory cached record is deleted.</p>
			<p>deleterecord(in file), a one argument free function, is available that deletes multiple records using the currently active select list.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GD001&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="nf">deleterecord</span><span class="p">(</span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="c1">//if (deleterecord(file, key)) ...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>record.insertrecord(file, key)</code></p></td>
		<td>
			<p>Insert a new record in a DB file.</p>
			<p>Given a unique primary key.</p>
			<p>
				<em>return:</em> True or False.</p>
			<ul>
				<li>Key already exists</li>
			</ul>
			<p>Any memory cached record is deleted.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Client GD^G^20855^30000^1001.00^20855.76539&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GD001&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">record</span><span class="p">.</span><span class="nf">insertrecord</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">insertrecord</span><span class="p">(</span><span class="n">record</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>record.updaterecord(file, key)</code></p></td>
		<td>
			<p>Update an existing record in a DB file.</p>
			<p>Given a unique primary key.</p>
			<p>
				<em>return:</em> True or False.</p>
			<ul>
				<li>Key does not exists</li>
			</ul>
			<p>Any memory cached record is deleted.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Client GD^G^20855^30000^1001.00^20855.76539&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GD001&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">record</span><span class="p">.</span><span class="nf">updaterecord</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">updaterecord</span><span class="p">(</span><span class="n">record</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>record.updatekey(key, newkey)</code></p></td>
		<td>
			<p>Update the key of an existing record in a DB file.</p>
			<p>Given two unique primary keys.</p>
			<p>
				<em>return:</em> True or False.</p>
			<ul>
				<li>Key does not exists</li>
				<li>New key already exists.</li>
			</ul>
			<p>Any memory cached records of either key are deleted.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GD001&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">newkey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GD002&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="nf">updatekey</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">newkey</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">updatekey</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">newkey</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="c1">// Reverse the above change.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.readf(file, key, fieldno)</code></p></td>
		<td>
			<p>Read a field from a DB file record.</p>
			<p>Same as read() but only returns a specific field number from the record.</p>
			<p>
				<em>fieldno:</em> The field number to return from the DB record.</p>
			<p>
				<em>return:</em> A string var.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="nf">field</span><span class="p">,</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GD001&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fieldno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">field</span><span class="p">.</span><span class="nf">readf</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">fieldno</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="c1">// field -&gt; &quot;G&quot;</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">readf</span><span class="p">(</span><span class="nf">field</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">fieldno</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>strvar.writef(file, key, fieldno)</code></p></td>
		<td>
			<p>Write a field to a DB file record.</p>
			<p>Same as write() but only writes to a specific field number in the record.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="nf">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f3&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1000&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fieldno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="nf">field</span><span class="p">.</span><span class="nf">writef</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">fieldno</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="nf">writef</span><span class="p">(</span><span class="nf">field</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">fieldno</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>record.writec(file, key)</code></p></td>
		<td>
			<p>Write a record and key into a memory cached "DB file".</p>
			<p>The actual database file is NOT updated.</p>
			<p>writec() either updates an existing cache record if the key already exists or otherwise inserts a new record into the cache.</p>
			<p>It always succeeds so no result code is returned.</p>
			<p>Neither the DB file nor the record key need to actually exist in the actual DB.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Client XD^X^20855^30000^1001.00^20855.76539&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;XD001&quot;</span><span class="p">;</span>
<span class="n">record</span><span class="p">.</span><span class="nf">writec</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="nf">writec</span><span class="p">(</span><span class="n">record</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>record.readc(file, key)</code></p></td>
		<td>
			<p>Read a DB record first looking in a memory cached "DB file".</p>
			<p>Same as "read() but first reads from a memory cache held per connection.</p>
			<ol>
				<li>Tries to read from a memory cache. Returns true if successful.</li>
			</ol>
			<p>2a. Tries to read from the actual DB file and returns false if unsuccessful.</p>
			<p>2b. Writes the record and key to the memory cache and returns true.</p>
			<p>Cached DB file data lives in exodus process memory and is lost when the process terminates or clearcache() is called.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">record</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;XD001&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">record</span><span class="p">.</span><span class="nf">readc</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">readc</span><span class="p">(</span><span class="n">record</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>

<span class="c1">// Verify not in actual database file by using read() not readc()</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">read</span><span class="p">(</span><span class="n">record</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="nf">abort</span><span class="p">(</span><span class="s">&quot;Error: &quot;</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot; should not be in the actual database file&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// error</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbfile.deletec(key)</code></p></td>
		<td>
			<p>Delete a record from a memory cached "DB file".</p>
			<p>The actual database file is NOT updated.</p>
			<p>
				<em>return:</em> False if the key doesnt exist</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;XD001&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="nf">deletec</span><span class="p">(</span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">deletec</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dbconn.clearcache()</code></p></td>
		<td>
			<p>Clear the "DB file" memory cache.</p>
			<p>All cached records for the given connection.</p>
			<p>All future cache readc() function calls will be forced to obtain records from the actual database and refresh the cache.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exodus&quot;</span><span class="p">;</span>
<span class="n">dbconn</span><span class="p">.</span><span class="nf">clearcache</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">clearcache</span><span class="p">(</span><span class="n">dbconn</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.xlate(filename, fieldno, mode)</code></p></td>
		<td>
			<p>Read a field given filename, key and field number or name.</p>
			<p>The xlate ("translate") function is similar to readf() but, when called as an exodus program member function, it can be used efficiently with Exodus file dictionaries using named columns, functions and multivalued data.</p>
			<p>
				<em>strvar:</em> The primary key to lookup a field in a given file and field no or field name.</p>
			<p>
				<em>filename:</em> The DB file in which to look up data.</p>
			<p>If var key is multivalued then a multivalued field is returned.</p>
			<p>
				<em>fieldno:</em> Which field of the record to return.</p>
			<dl>
				<dt>nn</dt>
				<dd>Field number nn</dd>
				<dt>0</dt>
				<dd>The key.</dd>
				<dt>""</dt>
				<dd>The whole record.</dd>
			</dl>
			<p>
				<em>mode:</em> If the record does not exist.</p>
			<dl>
				<dt>"X"</dt>
				<dd>Returns ""</dd>
				<dt>"C"</dt>
				<dd>Returns the key unconverted.</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;SB001&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">client_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">key</span><span class="p">.</span><span class="nf">xlate</span><span class="p">(</span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;Client AAA&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">name_and_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">xlate</span><span class="p">(</span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;NAME_AND_TYPE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;Client AAA (A)&quot;</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Database_Sort_Select">Database Sort/Select</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbfile.select(sort_select_command = "")</code></p></td>
		<td>
			<p>Create an active select list of DB keys.</p>
			<p>The select(command) function searches and orders database records for subsequent processing given an English language-like command.</p>
			<p>The primary job of a database, beyond mere storage and retrieval of information, is to allow rapid searching and ordering of information on demand.</p>
			<p>In Exodus, searching and ordering of information is known as "sort/select" and is performed by the select() function.</p>
			<p>Executing the select() function creates an "active select list" which can then be consumed by the readnext() function.</p>
			<p>
				<em>dbfile:</em> A opened database file or file name, or an open connection or an empty var for default connections. Subsequent readnext calls must use the same.</p>
			<p>
				<em>sort_select_command:</em> A natural language command using dictionary field names. The command can be blank if a dbfile or filename is given in dbfile or just a file name and all keys will be selected in undefined order.</p>
			<p>
				<em>Example:</em> "select xo_clients with type 'B' and with balance ge 100 by type by name"</p>
			<p>
				<em>Option:</em> "(R)" appended to the sort_select_command acquires the database records as well.</p>
			<p>
				<em>return:</em> True if any records are selected or false if none.</p>
			<p>
				<em>throw:</em> VarDBException in case of any syntax error in the command.</p>
			<p>Active select lists created using var.select()'s member function syntax cannot be consumed by the free function form of readnext() and vice versa.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clients</span><span class="p">.</span><span class="nf">select</span><span class="p">(</span><span class="s">&quot;with type &#39;B&#39; and with balance ge 100 by type by name&quot;</span><span class="p">))</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">clients</span><span class="p">.</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">ID</span><span class="p">))</span>
<span class="w">        </span><span class="nf">println</span><span class="p">(</span><span class="s">&quot;Client code is {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">ID</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">select</span><span class="p">(</span><span class="s">&quot;xo_clients with type &#39;B&#39; and with balance ge 100 by type by name&quot;</span><span class="p">))</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">ID</span><span class="p">))</span>
<span class="w">        </span><span class="nf">println</span><span class="p">(</span><span class="s">&quot;Client code is {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">ID</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbfile.selectkeys(keys)</code></p></td>
		<td>
			<p>Create an active select list from a string of DB keys.</p>
			<p>Similar to select() but creates the list directly from a var.</p>
			<p>
				<em>keys:</em> An FM separated list of keys or key^VM^valueno pairs.</p>
			<p>
				<em>return:</em> True if any keys are provided or false if not.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;A01^B02^C03&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbfile</span><span class="p">.</span><span class="nf">selectkeys</span><span class="p">(</span><span class="n">keys</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="n">assert</span><span class="p">(</span><span class="n">dbfile</span><span class="p">.</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">ID</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="kc">ID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;A01&quot;</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">selectkeys</span><span class="p">(</span><span class="n">keys</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="n">assert</span><span class="p">(</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">ID</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="kc">ID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;A01&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbfile.hasnext()</code></p></td>
		<td>
			<p>Check if a select list is active.</p>
			<p>
				<em>dbfile:</em> A file or connection var used in a prior select, selectkeys or getlist function call.</p>
			<p>
				<em>return:</em> True if a select list is active and false if not.</p>
			<p>If it returns true then a call to readnext() will return a database record key, otherwise not.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clients</span><span class="p">.</span><span class="nf">select</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">clients</span><span class="p">.</span><span class="nf">hasnext</span><span class="p">());</span>
<span class="p">}</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">select</span><span class="p">(</span><span class="s">&quot;xo_clients&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="nf">hasnext</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbfile.readnext(out key)</code></p></td>
		<td>
			<p>Acquire and consume one key from an active select list.</p>
			<p>Each call to readnext consumes one key from the list.</p>
			<p>Once all the keys in an active select list have been consumed by calls to readnext, the list becomes inactive.</p>
			<p>See select() for example code.</p>
			<p>
				<em>dbfile:</em> A file or connection var used in a prior select, selectkeys or getlist function call.</p>
			<p>
				<em>key[out]:</em> Returns the first (next) key present in an active select list or "" if no select list is active.</p>
			<p>
				<em>return:</em> True if a list was active and a key was acquired, false if not.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbfile.readnext(out key, out valueno)</code></p></td>
		<td>
			<p>Acquire and consume one key and valueno pair from an active select list.</p>
			<p>Similar to readnext(key) but multivalued.</p>
			<p>If the active list was ordered by multivalued database fields then pairs of key and multivalue number will be available to the readnext function.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbfile.readnext(out record, out key, out valueno)</code></p></td>
		<td>
			<p>Similar to readnext(key, valueno) but acquire the database record as well.</p>
			<p>
				<em>record[out]:</em> Returns the next database record from the select list assuming that the select list was created with the (R) option otherwise "" if not.</p>
			<p>
				<em>key[out]:</em> Returns the next database record key in the select list.</p>
			<p>
				<em>valueno[out]:</em> The multivalue number if the select list was ordered on multivalued database record fields or 1 if not.</p>
			<p>
				<em>return:</em> True if a list was active and a key was acquired, false if not.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clients</span><span class="p">.</span><span class="nf">select</span><span class="p">(</span><span class="s">&quot;with type &#39;B&#39; and with balance ge 100 by type by name (R)&quot;</span><span class="p">))</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">clients</span><span class="p">.</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">RECORD</span><span class="p">,</span><span class="w"> </span><span class="kc">ID</span><span class="p">,</span><span class="w"> </span><span class="kc">MV</span><span class="p">))</span>
<span class="w">        </span><span class="nf">println</span><span class="p">(</span><span class="s">&quot;Code is {}, Name is {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">ID</span><span class="p">,</span><span class="w"> </span><span class="kc">RECORD</span><span class="p">.</span><span class="nf">f</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="c1">// or</span>
<span class="kc">DICT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;dict.xo_clients&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">select</span><span class="p">(</span><span class="s">&quot;xo_clients with type &#39;B&#39; and with balance ge 100 by type by name (R)&quot;</span><span class="p">))</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">RECORD</span><span class="p">,</span><span class="w"> </span><span class="kc">ID</span><span class="p">,</span><span class="w"> </span><span class="kc">MV</span><span class="p">))</span>
<span class="w">        </span><span class="nf">println</span><span class="p">(</span><span class="s">&quot;Code is {}, Name is {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">calculate</span><span class="p">(</span><span class="s">&quot;CODE&quot;</span><span class="p">),</span><span class="w"> </span><span class="nf">calculate</span><span class="p">(</span><span class="s">&quot;NAME&quot;</span><span class="p">));</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dbfile.clearselect()</code></p></td>
		<td>
			<p>Deactivate an active select list.</p>
			<p>
				<em>dbfile:</em> A file or connection var used in a prior select, selectkeys or getlist function call.</p>
			<p>
				<em>return:</em> Nothing</p>
			<p>Has no effect if no select list is active for dbfile.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">;</span>
<span class="n">clients</span><span class="p">.</span><span class="nf">clearselect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">clients</span><span class="p">.</span><span class="nf">hasnext</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="nf">clearselect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">hasnext</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbfile.savelist(listname)</code></p></td>
		<td>
			<p>Save an active select list for later retrieval.</p>
			<p>
				<em>dbfile:</em> A file or connection var used in a prior select, selectkeys or getlist function call.</p>
			<p>
				<em>listname:</em> A suitable name that will be required for later retrieval.</p>
			<p>
				<em>return:</em> True if saved successfully or false if there was no active list to be saved.</p>
			<p>Any existing list with the same name will be overwritten.</p>
			<p>Only the remaining unconsumed part of the active select list is saved.</p>
			<p>Saved lists are stand-alone and are not tied to specific database files although they usually hold keys related to specific files.</p>
			<p>Saved lists can be created from one file and used to access another.</p>
			<p>savelist() merely writes an FM separated string of keys as a record in the "lists" database file using the list name as the key of the record.</p>
			<p>If a saved list is very long, additional blocks of keys for the same list may be stored with keys like listname*2, listname*3 etc.</p>
			<p>Select lists saved in the lists database file may be created, deleted and listed like database records in any other database file.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clients</span><span class="p">.</span><span class="nf">select</span><span class="p">(</span><span class="s">&quot;with type &#39;B&#39; by name&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">select</span><span class="p">(</span><span class="s">&quot;xo_clients with type &#39;B&#39; by name&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">savelist</span><span class="p">(</span><span class="s">&quot;mylist&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="p">}</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbfile.getlist(listname)</code></p></td>
		<td>
			<p>Retrieve and reactivate a saved select list.</p>
			<p>
				<em>dbfile:</em> A file or connection var to be used by subsequent readnext function calls.</p>
			<p>
				<em>listname:</em> The name of an existing list in the "lists" database file, either created by savelist or manually.</p>
			<p>
				<em>return:</em> True if the list was successfully retrieved and activated, or false if the list name doesnt exist.</p>
			<p>Any currently active select list is replaced.</p>
			<p>Retrieving a list does not delete it and a list can be retrieved more than once until specifically deleted.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="nf">getlist</span><span class="p">(</span><span class="s">&quot;mylist&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">ID</span><span class="p">))</span>
<span class="w">        </span><span class="nf">println</span><span class="p">(</span><span class="s">&quot;Key is {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">ID</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">getlist</span><span class="p">(</span><span class="s">&quot;mylist&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">ID</span><span class="p">))</span>
<span class="w">        </span><span class="nf">println</span><span class="p">(</span><span class="s">&quot;Key is {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">ID</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dbfile.deletelist(listname)</code></p></td>
		<td>
			<p>Delete a saved select list.</p>
			<p>
				<em>dbfile:</em> A file or connection to the desired database.</p>
			<p>
				<em>listname:</em> The name of an existing list in the "lists" database file.</p>
			<p>
				<em>return:</em> True if successful or false if the list name doesnt exist.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dbconn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dbconn</span><span class="p">.</span><span class="nf">deletelist</span><span class="p">(</span><span class="s">&quot;mylist&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">deletelist</span><span class="p">(</span><span class="s">&quot;mylist&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="OS_Time_Date">OS Time/Date</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::date()</code></p></td>
		<td>
			<p>Get the current date in internal format.</p>
			<p>Internal format is the number of whole days since pick epoch 1967-12-31 00:00:00 UTC. Dates prior to that are numbered negatively.</p>
			<p>
				<em>return:</em> A number. e.g. 20821 represents 2025-01-01 00:00:00 UTC for 24 hours.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">today1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">date</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">today2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">date</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::time()</code></p></td>
		<td>
			<p>Get the current time in internal format.</p>
			<p>Internal time is the number of whole seconds since the last midnight 00:00:00 (UTC).</p>
			<p>
				<em>return:</em> A number in the range 0 - 86399 since there are 24*60*60 seconds in a day. e.g. 43200 if time is 12:00:00</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">now1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">time</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">now2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">time</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::ostime()</code></p></td>
		<td>
			<p>Get the current time in high resolution internal format.</p>
			<p>High resolution internal time is the number of fractional seconds since the last midnight 00:00:00 (UTC).</p>
			<p>
				<em>return:</em> A floating point with approx. nanosecond resolution depending on hardware.</p>
			<p>e.g. 23343.704387955 approx. 06:29:03 UTC</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">now1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">ostime</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">now2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostime</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::ostimestamp()</code></p></td>
		<td>
			<p>Get the current timestamp in internal format.</p>
			<p>Internal timestamp is the number of fractional days since pick epoch 1967-12-31 00:00:00 UTC. Negative for dates before.</p>
			<p>
				<em>return:</em> A floating point with approx. nanosecond resolution depending on hardware.</p>
			<p>e.g. Was 20821.99998842593 around 2025-01-01 23:59:59 UTC</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">now1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">ostimestamp</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">now2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostimestamp</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>vardate.ostimestamp(ostime)</code></p></td>
		<td>
			<p>Get the timestamp for a given date and time</p>
			<p>
				<em>vardate:</em> Internal date from date(), iconv("D") etc.</p>
			<p>
				<em>ostime:</em> Internal time from time(), ostime(), iconv("MT") etc.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">idate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;2025-01-01&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;D&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">itime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;23:59:59&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="p">);</span>
<span class="nf">let</span><span class="w"> </span><span class="n">ts1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">idate</span><span class="p">.</span><span class="nf">ostimestamp</span><span class="p">(</span><span class="n">itime</span><span class="p">);</span><span class="w"> </span><span class="c1">// 20821.99998842593</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">ts2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostimestamp</span><span class="p">(</span><span class="n">idate</span><span class="p">,</span><span class="w"> </span><span class="n">itime</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var::ossleep(milliseconds)</code></p></td>
		<td>
			<p>Sleep/pause/wait</p>
			<p>
				<em>milliseconds:</em> How to long to sleep.</p>
			<p>Release the processor if not needed for a period of time or a delay is required.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="o">::</span><span class="nf">ossleep</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w"> </span><span class="c1">// sleep for 100ms</span>
<span class="c1">// or</span>
<span class="nf">ossleep</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>file_dir_list.oswait(milliseconds)</code></p></td>
		<td>
			<p>Sleep/pause/wait up for a file system event</p>
			<p>
				<em>file_dir_list:</em> An FM delimited list of OS files and/or dirs to monitor.</p>
			<p>
				<em>milliseconds:</em> How long to wait. Any terminal input (e.g. a key press) will also terminate the wait.</p>
			<p>
				<em>return:</em> An FM array of event information is returned. See below.</p>
			<p>Multiple events may be captured and are returned in multivalues.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;.^/etc/hosts&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oswait</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w"> </span><span class="c1">/// e.g. &quot;IN_CLOSE_WRITE^/etc^hosts^f&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">oswait</span><span class="p">(</span><span class="s">&quot;.^/etc/hosts&quot;</span><span class="kt">_var</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
</pre></div>
			</p>
			<p></p>
			<p>Returned dynamic array fields:</p>
			<ol>
				<li>Event type codes</li>
				<li>dirpaths</li>
				<li>filenames</li>
				<li>d=dir, f=file</li>
			</ol>
			<p></p>
			<p>Possible event type codes:</p>
			<dl>
				<dt>IN_CLOSE_WRITE</dt>
				<dd>A file opened for writing was closed</dd>
				<dt>IN_ACCESS</dt>
				<dd>Data was read from file</dd>
				<dt>IN_MODIFY</dt>
				<dd>Data was written to file</dd>
				<dt>IN_ATTRIB</dt>
				<dd>File attributes changed</dd>
				<dt>IN_CLOSE</dt>
				<dd>File was closed (read or write)</dd>
				<dt>IN_MOVED_FROM</dt>
				<dd>File was moved away from watched directory</dd>
				<dt>IN_MOVED_TO</dt>
				<dd>File was moved into watched directory</dd>
				<dt>IN_MOVE</dt>
				<dd>File was moved (in or out of directory)</dd>
				<dt>IN_CREATE</dt>
				<dd>A file was created in the directory</dd>
				<dt>IN_DELETE</dt>
				<dd>A file was deleted from the directory</dd>
				<dt>IN_DELETE_SELF</dt>
				<dd>Directory or file under observation was deleted</dd>
				<dt>IN_MOVE_SELF</dt>
				<dd>Directory or file under observation was moved</dd>
			</dl>
		</td></tr>
</table>
<h5 id="OS_File_I_O">OS File I/O</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>osfilevar.osopen(osfilename, utf8 = true)</code></p></td>
		<td>
			<p>Open an OS file handle.</p>
			<p>Allow random read and write operations.</p>
			<p>Open for writing if possible, otherwise read-only.</p>
			<p>
				<em>osfilevar[out]:</em> Handle for subsequent osbread() and osbwrite() calls.</p>
			<p>
				<em>osfilename:</em> Path and name of an existing OS file.</p>
			<p>
				<em>utf8:</em> True (default) removes partial UTF-8 sequences from osbread() ends; false returns raw data.</p>
			<p>
				<em>return:</em> True if opened successfully, false if file doesnt exist or isnt accessible.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">oswrite</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">/// Create an empty OS file</span>
<span class="kt">var</span><span class="w"> </span><span class="nf">ostempfile</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">ostempfile</span><span class="p">.</span><span class="nf">osopen</span><span class="p">(</span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osopen</span><span class="p">(</span><span class="n">osfilename</span><span class="w"> </span><span class="ow">to</span><span class="w"> </span><span class="nf">ostempfile</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.osbwrite(osfilevar, io offset)</code></p></td>
		<td>
			<p>Random write data to an OS file.</p>
			<p>At a specified position.</p>
			<p>
				<em>strvar:</em> Data to write.</p>
			<p>
				<em>osfilevar:</em> Handle from osopen() or a path/filename; creates file if offset is 0 and its new, fails if offset isnt 0.</p>
			<p>
				<em>offset:</em> [in/out] Start position (0-based); updated to end of written data; -1 appends.</p>
			<p>
				<em>return:</em> True if write succeeds, false if file isnt accessible, updateable, or creatable.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aaa=123</span><span class="se">\n</span><span class="s">bbb=456</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">/// -1 means append.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="nf">osbwrite</span><span class="p">(</span><span class="n">osfilename</span><span class="p">,</span><span class="w"> </span><span class="n">offset</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// offset -&gt; 16</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">osbwrite</span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">osfilename</span><span class="p">,</span><span class="w"> </span><span class="n">offset</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.osbread(osfilevar, io offset, length)</code></p></td>
		<td>
			<p>Random read data from an OS file</p>
			<p>From a specified position.</p>
			<p>
				<em>strvar[out]:</em> Data read.</p>
			<p>
				<em>osfilevar:</em> Handle from osopen() or a path/filename.</p>
			<p>
				<em>offset:</em> [in/out] Start position (0-based); updated to end of read data.</p>
			<p>
				<em>length:</em> Chars to read; with utf8=true (default), may return less to ensure complete UTF-8 code points.</p>
			<p>
				<em>return:</em> True if read succeeds, false if file doesnt exist or isnt accessible or offset &gt;= file size.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf&quot;</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="nf">osbread</span><span class="p">(</span><span class="n">osfilename</span><span class="p">,</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// text -&gt; &quot;aaa=123\n&quot; // offset -&gt; 8</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osbread</span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">osfilename</span><span class="p">,</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// text -&gt; &quot;bbb=456\n&quot; // offset -&gt; 16</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>osfile << anything << std::endl;</code></p></td>
		<td>
			<p>Use convenient &lt;&lt; syntax to output anything to an osfile.</p>
			<p>
				<em>osfile:</em> An OS path and filename or an osfilevar opened by osopen(). The file will be appended, or created if it does not already exist. osfile can be "stdout" or "stderr" to simulate cout/cerr/clog.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">txtfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;t_temp.txt&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">osremove</span><span class="p">(</span><span class="n">txtfile</span><span class="p">))</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="c1">// Remove any existing file.</span>
<span class="n">txtfile</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">txtfile</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">123.456789</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">osread</span><span class="p">(</span><span class="n">txtfile</span><span class="p">);</span><span class="w">   </span><span class="c1">// &quot;t_temp.txt 123.457 123\n&quot;</span>
</pre></div>
			</p>
			<p></p>
			<p>All standard c++ io manipulators may be used e.g. std::setw, setfill etc.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">vout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;t_std_iomanip_overview.txt&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">osremove</span><span class="p">(</span><span class="n">vout</span><span class="p">))</span><span class="w"> </span><span class="p">{}</span>
<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">boolalpha</span><span class="w">    </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="nb">true</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">true&quot;</span><span class="w">    </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">noboolalpha</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="nb">true</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">1&quot;</span><span class="w">       </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">showpoint</span><span class="w">    </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">42.0</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">42.0000&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">noshowpoint</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">42.0</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">42&quot;</span><span class="w">      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">showpos</span><span class="w">      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">42</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">+42&quot;</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">noshowpos</span><span class="w">    </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">42</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">42&quot;</span><span class="w">      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">skipws</span><span class="w">       </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">42</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s"> 42&quot;</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">noskipws</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">42</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s"> 42&quot;</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">unitbuf</span><span class="w">      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="w">           </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">a&quot;</span><span class="w">       </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">nounitbuf</span><span class="w">    </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="w">           </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">b&quot;</span><span class="w">       </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">setw</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w">      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">42</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">    42&quot;</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">left</span><span class="w">         </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">setw</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">42    &quot;</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">right</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">setw</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">    42&quot;</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">internal</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">setw</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">    42&quot;</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">setfill</span><span class="p">(</span><span class="sc">&#39;*&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">setw</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">****42&quot;</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">showbase</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">hex</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">255</span><span class="w">    </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">0xff&quot;</span><span class="w">    </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">noshowbase</span><span class="w">   </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">255</span><span class="w">           </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">ff&quot;</span><span class="w">      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">uppercase</span><span class="w">    </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">255</span><span class="w">           </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">FF&quot;</span><span class="w">      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">nouppercase</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">255</span><span class="w">           </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">ff&quot;</span><span class="w">      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">oct</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">255</span><span class="w">           </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">377&quot;</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">hex</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">255</span><span class="w">           </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">ff&quot;</span><span class="w">      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">dec</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">255</span><span class="w">           </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">255&quot;</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fixed</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">42.1</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">42.100000&quot;</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">scientific</span><span class="w">   </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">42.1</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">4.210000e+01&quot;</span><span class="w">         </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">hexfloat</span><span class="w">     </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">42.1</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">0x1.50ccccccccccdp+5&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">defaultfloat</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">42.1</span><span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">42.1&quot;</span><span class="w">                 </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="nf">setprecision</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w">      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">42.1567</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">42.2&quot;</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">resetiosflags</span><span class="p">(</span><span class="n">ios</span><span class="o">::</span><span class="n">fixed</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">42.1567</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">42.2&quot;</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="n">vout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">setiosflags</span><span class="p">(</span><span class="n">ios</span><span class="o">::</span><span class="n">showpos</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">42</span><span class="w">       </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">+42&quot;</span><span class="w">   </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="c1">// Verify actual v. expected.</span>
<span class="kt">var</span><span class="w"> </span><span class="n">act_v_exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">osread</span><span class="p">(</span><span class="n">vout</span><span class="p">);</span>
<span class="n">act_v_exp</span><span class="p">.</span><span class="nf">converter</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">FM</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="nb">VM</span><span class="p">);</span><span class="w"> </span><span class="c1">/// Text to dynamic array</span>
<span class="n">act_v_exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">invertarray</span><span class="p">(</span><span class="n">act_v_exp</span><span class="p">);</span><span class="w">   </span><span class="c1">/// Columns &lt;-&gt; Rows</span>
<span class="n">assert</span><span class="p">(</span><span class="n">act_v_exp</span><span class="p">.</span><span class="nf">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="ow">eq</span><span class="w"> </span><span class="n">act_v_exp</span><span class="p">.</span><span class="nf">f</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var().osclose()</code></p></td>
		<td>
			<p>Close an osfilevar.</p>
			<p>Remove an osfilevar handle from the internal memory cache of OS file handles. This frees up both exodus process memory and operating system resources.</p>
			<p>It is advisable to osclose any file handles after use, regardless of whether they were specifically opened using osopen or not, especially in long running programs. Exodus performs caching of internal OS file handles per thread and OS file. If not closed, then the operating system will probably not flush deleted files from storage until the process is terminated. This can potentially create an memory issue or file system resource issue especially if osopening/osreading/oswriting many perhaps temporary files in a long running process.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">osfilevar</span><span class="p">;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">osfilevar</span><span class="p">.</span><span class="nf">osopen</span><span class="p">(</span><span class="nf">ostempfile</span><span class="p">()))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="n">osfilevar</span><span class="p">.</span><span class="nf">osclose</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">osclose</span><span class="p">(</span><span class="n">osfilevar</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.oswrite(osfilename, codepage = "")</code></p></td>
		<td>
			<p>Create a complete OS file from a var.</p>
			<p>
				<em>strvar:</em> The text or data to be used to create the file.</p>
			<p>
				<em>osfilename:</em> Absolute or relative path and filename to be written. Any existing OS file is removed first.</p>
			<p>
				<em>codepage:</em> If specified then output is converted from UTF-8 to that codepage before being written. Otherwise no conversion is done.</p>
			<p>
				<em>return:</em> True if successful or false if not possible for any reason. e.g. Path is not writeable, permissions etc</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aaa = 123</span><span class="se">\n</span><span class="s">bbb = 456&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="nf">oswrite</span><span class="p">(</span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">oswrite</span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.osread(osfilename, codepage = "")</code></p></td>
		<td>
			<p>Read a complete OS file into a var.</p>
			<p>
				<em>osfilename:</em> Absolute or relative path and filename to be read.</p>
			<p>
				<em>codepage:</em> If specified then input is converted from that codepage to UTF-8 after being read. Otherwise no conversion is done.</p>
			<p>
				<em>strvar[out]:</em> Is currently set to "" in case of any failure but this is may be changed in a future release to either force var to be unassigned or to leave it untouched. To guarantee future behaviour either add a line 'xxxx.defaulter("")' or set var manually in case osread() returns false. Or use the one argument free function version of osread() which always returns "" in case of failure to read.</p>
			<p>
				<em>return:</em> True if successful or false if not possible for any reason. e.g. File doesnt exist, insufficient permissions etc.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="nf">osread</span><span class="p">(</span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// text -&gt; &quot;aaa = 123\nbbb = 456&quot;</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osread</span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="nf">let</span><span class="w"> </span><span class="n">text2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">osread</span><span class="p">(</span><span class="n">osfilename</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>osfile_or_dirname.osrename(new_dirpath_or_filepath)</code></p></td>
		<td>
			<p>Rename an OS file or dir.</p>
			<p>In the OS file system.</p>
			<p>The source and target must exist in the same storage device.</p>
			<p>
				<em>osfile_or_dirname:</em> Absolute or relative path and file or dir name to be renamed.</p>
			<p>
				<em>new_dirpath_or_filepath:</em> Will not overwrite an existing OS file or dir.</p>
			<p>
				<em>return:</em> True if successful or false if not possible for any reason. e.g. Target already exists, path is not writeable, permissions etc.</p>
			<p>Uses std::filesystem::rename internally.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">from_osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">to_osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">from_osfilename</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;.bak&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">osremove</span><span class="p">(</span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf.bak&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{};</span><span class="w"> </span><span class="c1">// Cleanup first</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">from_osfilename</span><span class="p">.</span><span class="nf">osrename</span><span class="p">(</span><span class="n">to_osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osrename</span><span class="p">(</span><span class="n">from_osfilename</span><span class="p">,</span><span class="w"> </span><span class="n">to_osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>osfile_or_dirname.osmove(to_osfilename)</code></p></td>
		<td>
			<p>"Move" an OS file or dir.</p>
			<p>Within the OS file system.</p>
			<p>Attempt osrename first, then oscopy plus osremove original.</p>
			<p>
				<em>osfile_or_dirname:</em> Absolute or relative path and file or dir name to be moved.</p>
			<p>
				<em>to_osfilename:</em> Will not overwrite an existing OS file or dir.</p>
			<p>
				<em>return:</em> True if successful or false if not possible for any reason. e.g. Source doesnt exist or cannot be accessed, target already exists, source or target is not writeable, permissions, storage space etc.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">from_osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf.bak&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">to_osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">from_osfilename</span><span class="p">.</span><span class="nf">cut</span><span class="p">(</span><span class="mi">-4</span><span class="p">);</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">osremove</span><span class="p">(</span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{};</span><span class="w"> </span><span class="c1">// Cleanup first</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">from_osfilename</span><span class="p">.</span><span class="nf">osmove</span><span class="p">(</span><span class="n">to_osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osmove</span><span class="p">(</span><span class="n">from_osfilename</span><span class="p">,</span><span class="w"> </span><span class="n">to_osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>osfile_or_dirname.oscopy(to_osfilename)</code></p></td>
		<td>
			<p>Copy an OS file or directory.</p>
			<p>Including subdirs.</p>
			<p>
				<em>osfile_or_dirname:</em> Absolute or relative path and file or dir name to be copied.</p>
			<p>
				<em>to_osfilename:</em> Will overwrite an existing OS file or merge into an existing dir.</p>
			<p>
				<em>return:</em> True if successful or false if not possible for any reason. e.g. Source doesnt exist or cannot be accessed, target is not writeable, permissions, storage space, etc.</p>
			<p>Uses std::filesystem::copy internally with recursive and overwrite options</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">from_osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">to_osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">from_osfilename</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;.bak&quot;</span><span class="p">;</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">from_osfilename</span><span class="p">.</span><span class="nf">oscopy</span><span class="p">(</span><span class="n">to_osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">oscopy</span><span class="p">(</span><span class="n">from_osfilename</span><span class="p">,</span><span class="w"> </span><span class="n">to_osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>osfilename.osremove()</code></p></td>
		<td>
			<p>Remove/delete an OS file.</p>
			<p>From the OS file system.</p>
			<p>Will not remove directories. Use osrmdir() to remove directories</p>
			<p>
				<em>osfilename:</em> Absolute or relative path and file name to be removed.</p>
			<p>
				<em>return:</em> True if successful or false if not possible for any reason. e.g. Target doesnt exist, path is not writeable, permissions etc.</p>
			<p>If osfilename is an osfilevar then it is automatically closed.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempdir</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="s">&quot;xo_gendoc_test.conf&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">osfilename</span><span class="p">.</span><span class="nf">osremove</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osremove</span><span class="p">(</span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="OS_Directories">OS Directories</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>dirpath.oslist(globpattern = "", mode = 0)</code></p></td>
		<td>
			<p>Get a list of OS files and/or dirs.</p>
			<p>
				<em>dirpath:</em> Absolute or relative dir path.</p>
			<p>
				<em>globpattern:</em> e.g. *.conf to be appended to the dirpath or a complete path plus glob pattern e.g. /etc/ *.conf.</p>
			<p>
				<em>mode:</em> </p>
			<dl>
				<dt>0</dt>
				<dd>Any regular OS file or dir (Default).</dd>
				<dt>1</dt>
				<dd>Only regular OS files.</dd>
				<dt>2</dt>
				<dd>Only dirs.</dd>
			</dl>
			<p>
				<em>return:</em> An FM delimited string containing all matching dir entries given a dir path</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">entries1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/etc/&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oslist</span><span class="p">(</span><span class="s">&quot;*.cfg&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">/// e.g. &quot;adduser.conf^ca-certificates.con^... etc.&quot;</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">entries2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">oslist</span><span class="p">(</span><span class="s">&quot;/etc/&quot;</span><span class="w"> </span><span class="s">&quot;*.conf&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>dirpath.oslistf(globpattern = "")</code></p></td>
		<td>
			<p>Get a list of OS files.</p>
			<p>See oslist() for info.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>dirpath.oslistd(globpattern = "")</code></p></td>
		<td>
			<p>Get a list of OS dirs.</p>
			<p>See oslist() for info.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>osfile_or_dirpath.osinfo(mode = 0)</code></p></td>
		<td>
			<p>Get dir info about an OS file or dir.</p>
			<p>
				<em>return:</em> A short string containing size ^ FM ^ modified_time ^ FM ^ modified_time or "" if not a regular file or dir.</p>
			<p>
				<em>mode:</em> 0: Default. 1: Must be a regular OS file. 2: Must be an OS dir.</p>
			<p>See also osfile() and osdir()</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">info1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/etc/hosts&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">osinfo</span><span class="p">();</span><span class="w"> </span><span class="c1">/// e.g. &quot;221^20597^78309&quot;_var</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">info2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">osinfo</span><span class="p">(</span><span class="s">&quot;/etc/hosts&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>osfilename.osfile()</code></p></td>
		<td>
			<p>Get dir info of an OS file.</p>
			<p>
				<em>osfilename:</em> Absolute or relative path and file name.</p>
			<p>
				<em>return:</em> A short string containing size ^ FM ^ modified_time ^ FM ^ modified_time or "" if not a regular file.</p>
			<p>Alias for osinfo(1)</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">fileinfo1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/etc/hosts&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">osfile</span><span class="p">();</span><span class="w"> </span><span class="c1">/// e.g. &quot;221^20597^78309&quot;_var</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">fileinfo2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">osfile</span><span class="p">(</span><span class="s">&quot;/etc/hosts&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>dirpath.osdir()</code></p></td>
		<td>
			<p>Get dir info of an OS dir.</p>
			<p>
				<em>dirpath:</em> Absolute or relative path and dir name.</p>
			<p>
				<em>return:</em> A short string containing FM ^ modified_time ^ FM ^ modified_time or "" if not a dir.</p>
			<p>Alias for osinfo(2)</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">dirinfo1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/etc/&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">osdir</span><span class="p">();</span><span class="w"> </span><span class="c1">/// e.g. &quot;^20848^44464&quot;_var</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">dirinfo2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">osfile</span><span class="p">(</span><span class="s">&quot;/etc/&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dirpath.osmkdir()</code></p></td>
		<td>
			<p>Create a new OS file system directory.</p>
			<p>Parent dirs wil be created if necessary.</p>
			<p>
				<em>dirpath:</em> Absolute or relative path and dir name.</p>
			<p>
				<em>return:</em> True if successful.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">osdirname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_test/aaa&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osrmdir</span><span class="p">(</span><span class="s">&quot;xo_test/aaa&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{};</span><span class="w"> </span><span class="c1">// Cleanup first</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">osdirname</span><span class="p">.</span><span class="nf">osmkdir</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osmkdir</span><span class="p">(</span><span class="n">osdirname</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>var::oscwd(newpath)</code></p></td>
		<td>
			<p>Change the current working dir.</p>
			<p>
				<em>newpath:</em> An absolute or relative dir path and name.</p>
			<p>
				<em>return:</em> True if successful or false if not. e.g. Invalid dirpath, insufficient permission etc.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">osdirname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_test/aaa&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">osdirname</span><span class="p">.</span><span class="nf">oscwd</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">oscwd</span><span class="p">(</span><span class="n">osdirname</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">oscwd</span><span class="p">(</span><span class="s">&quot;../..&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">/// Change back to avoid errors in following code.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::oscwd()</code></p></td>
		<td>
			<p>Get the current working dir path and name.</p>
			<p>
				<em>return:</em> The current working dir path and name.</p>
			<p>e.g. "/root/exodus/cli/src/xo_test/aaa"</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">cwd1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">().</span><span class="nf">oscwd</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">cwd2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">oscwd</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dirpath.osrmdir(evenifnotempty = false)</code></p></td>
		<td>
			<p>Remove (deletes) an OS dir,</p>
			<p>
				<em>eventifnotempty:</em> If true any subdirs will also be removed/deleted recursively, otherwise the function will fail and return false.</p>
			<p>
				<em>return:</em> Returns true if successful or false if not. e.g dir doesnt exist, insufficient permission, not empty etc.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">osdirname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_test/aaa&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">osdirname</span><span class="p">.</span><span class="nf">osrmdir</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osrmdir</span><span class="p">(</span><span class="n">osdirname</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="OS_Shell_Environment">OS Shell/Environment</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>command.osshell()</code></p></td>
		<td>
			<p>Execute a shell command.</p>
			<p>
				<em>command:</em> An executable command to be interpreted by the default OS shell.</p>
			<p>
				<em>return:</em> True if the process terminates with error status 0 and false otherwise.</p>
			<p>Append "&amp;&gt;/dev/null" to the command to suppress terminal output.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;echo $HOME&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="p">.</span><span class="nf">osshell</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osshell</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>instr.osshellread(oscmd)</code></p></td>
		<td>
			<p>Execute a shell command and capture its stdout.</p>
			<p>
				<em>return:</em> The stout of the shell command.</p>
			<p>Append "2&gt;&amp;1" to the command to capture stderr/stdlog output as well.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;echo $HOME&quot;</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="nf">osshellread</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>

<span class="c1">// or capturing stdout but ignoring exit status</span>
<span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">osshellread</span><span class="p">(</span><span class="n">cmd</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>outstr.osshellwrite(oscmd)</code></p></td>
		<td>
			<p>Execute a shell command and provide its stdin.</p>
			<p>
				<em>return:</em> True if the process terminates with error status 0 and false otherwise.</p>
			<p>Append "&amp;&gt; somefile" to the command to suppress and/or capture output.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">outtext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc xyz&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">outtext</span><span class="p">.</span><span class="nf">osshellwrite</span><span class="p">(</span><span class="s">&quot;grep xyz&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">osshellwrite</span><span class="p">(</span><span class="n">outtext</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;grep xyz&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>dirpath.osprocess(oscmd, stdin_for_process, out stdout_from_process, out stderr_from_process, out exit_status, timeout_secs = 0)</code></p></td>
		<td>
			<p>Run an OS program synchronously.</p>
			<p>Provide its standard input and capture its output, errors, and exit status.</p>
			<p>Shell features (e.g., pipes, redirects) are unsupported but can be invoked via an oscmd like "bash -c 'abc|yy $HOME'".</p>
			<p>
				<em>oscmd:</em> Executable and arguments; must exist in OS PATH.</p>
			<p>
				<em>stdin_for_process:</em> Optional; input data for the programs standard input.</p>
			<p>
				<em>stdout_from_process[out]:</em> Standard output from the program.</p>
			<p>
				<em>stderr_from_process[out]:</em> Error/log output from the program.</p>
			<p>
				<em>exit_status[out]:</em> Programs exit status: 0 (normal), -1 (timeout), else (error).</p>
			<p>
				<em>timeout_secs:</em> Optional; max runtime in seconds (default 0 = no timeout).</p>
			<p>
				<em>return:</em> True if program ran and exited with status 0 (success) or false if program failed to start, timed out, or exited with non-zero status.</p>
			<p>
				<em>throw:</em> Pipe creation failed, fork failed, poll failed.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v_stdout</span><span class="p">,</span><span class="w"> </span><span class="n">v_stderr</span><span class="p">,</span><span class="w"> </span><span class="n">v_exit_status</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="o">::</span><span class="n">osprocess</span><span class="p">(</span><span class="s">&quot;grep xyz&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc</span><span class="se">\n</span><span class="s">xyz 123</span><span class="se">\n</span><span class="s">def&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v_stdout</span><span class="p">,</span><span class="w"> </span><span class="n">v_stderr</span><span class="p">,</span><span class="w"> </span><span class="n">v_exit_status</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// v_stdout -&gt; &quot;xyz 123&quot; // v_exit_status = 0</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">osprocess</span><span class="p">(</span><span class="s">&quot;grep xyz&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc</span><span class="se">\n</span><span class="s">xyz 123</span><span class="se">\n</span><span class="s">def&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v_stdout</span><span class="p">,</span><span class="w"> </span><span class="n">v_stderr</span><span class="p">,</span><span class="w"> </span><span class="n">v_exit_status</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::ostempdir()</code></p></td>
		<td>
			<p>Get the tmp dir path.</p>
			<p>
				<em>return:</em> A string e.g. "/tmp/"</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">ostempdir</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempdir</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::ostempfile()</code></p></td>
		<td>
			<p>Create a temporary file.</p>
			<p>
				<em>return:</em> The name of new temporary file e.g. "/tmp/~exoEcLj3C"</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">temposfilename1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">ostempfile</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">temposfilename2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostempfile</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>envvalue.osgetenv(envcode)</code></p></td>
		<td>
			<p>Get the value of an environment variable.</p>
			<p>
				<em>envcode:</em> The code of the env variable to get or "" for all.</p>
			<p>
				<em>envvalue[out]:</em> Set to the value of the env variable if set otherwise "". If envcode is "" then envvalue is set to a dynamic array of all environment variables LIKE CODE1=VALUE1^CODE2=VALUE2...</p>
			<p>
				<em>return:</em> True if the envcode is set or false if not.</p>
			<p>osgetenv and ossetenv work with a per thread copy of the OS process environment. This avoids multithreading issues but does not change the process environment. Child processes created by var::osshell() will not inherit any env variables set using ossetenv() so the oscommand will need to be prefixed to achieve the desired result.</p>
			<p>For the actual system environment, see "man environ". extern char **environ; // environ is a pointer to an array of pointers to char* env pairs like xxx=yyy and the last pointer in the array is nullptr.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">envvalue1</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">envvalue1</span><span class="p">.</span><span class="nf">osgetenv</span><span class="p">(</span><span class="s">&quot;HOME&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// e.g. &quot;/home/exodus&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">envvalue2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">osgetenv</span><span class="p">(</span><span class="s">&quot;EXO_ABC&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;XYZ&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>envvalue.ossetenv(envcode)</code></p></td>
		<td>
			<p>Set the value of an environment variable.</p>
			<p>
				<em>envcode:</em> The code of the env variable to set.</p>
			<p>
				<em>envvalue:</em> The new value to set the env code to.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">envcode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;EXO_ABC&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">envvalue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;XYZ&quot;</span><span class="p">;</span>
<span class="n">envvalue</span><span class="p">.</span><span class="nf">ossetenv</span><span class="p">(</span><span class="n">envcode</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="nf">ossetenv</span><span class="p">(</span><span class="n">envcode</span><span class="p">,</span><span class="w"> </span><span class="n">envvalue</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::ospid()</code></p></td>
		<td>
			<p>Get the current OS process id.</p>
			<p>
				<em>return:</em> A number e.g. 663237.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">pid1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">ospid</span><span class="p">();</span><span class="w"> </span><span class="c1">/// e.g. 663237</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">pid2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ospid</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::ostid()</code></p></td>
		<td>
			<p>Get the current OS thread process id.</p>
			<p>
				<em>return:</em> A number e.g. 663237.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">tid1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">ostid</span><span class="p">();</span><span class="w"> </span><span class="c1">/// e.g. 663237</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">tid2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ostid</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var::version()</code></p></td>
		<td>
			<p>Get the exodus library version info.</p>
			<p>
				<em>return:</em> The git commit details as at the time the library was built.</p>
			<p>
				<div class="highlight light">
					<pre><span class="c1">// e.g.</span>
<span class="c1">// Local:  doc 2025-03-19 18:15:31 +0000 219cdad8a</span>
<span class="c1">// Remote: doc 2025-03-17 15:03:00 +0000 958f412f0</span>
<span class="c1">// https://github.com/exodusdb/exodusdb/commit/219cdad8a</span>
<span class="c1">// https://github.com/exodusdb/exodusdb/archive/958f412f0.tar.gz</span>
<span class="c1">//</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">version</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">version</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>strvar.setxlocale(newlocalecode)</code></p></td>
		<td>
			<p>Set the current thread's default locale.</p>
			<p>
				<em>strvar:</em> The new locale codepage code.</p>
			<p>True if successful</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="o">::</span><span class="nf">setxlocale</span><span class="p">(</span><span class="s">&quot;en_US.utf8&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">setxlocale</span><span class="p">(</span><span class="s">&quot;en_US.utf8&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var.getxlocale()</code></p></td>
		<td>
			<p>Get the current thread's default locale.</p>
			<p>
				<em>return:</em> A locale codepage code string.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">getxlocale</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;en_US.utf8&quot;</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getxlocale</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Output">Output</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>expr</code></p></td>
		<td>
			<p>
				<code>strvar.outputl(prefix = "")</code></p></td>
		<td>
			<p>Output to stdout with optional prefix.</p>
			<p>Append an NL char.</p>
			<p>Is FLUSHED, not buffered.</p>
			<p>The raw string bytes are output. No character or byte conversion is performed.</p>
			<p>
				<div class="highlight light">
					<pre><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">outputl</span><span class="p">(</span><span class="s">&quot;xyz = &quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">/// Sends &quot;xyz = abc\n&quot; to stdout and flushes.</span>
<span class="c1">// or</span>
<span class="nf">outputl</span><span class="p">(</span><span class="s">&quot;xyz = &quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">/// Any number of arguments is allowed. All will be output.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>expr</code></p></td>
		<td>
			<p>
				<code>strvar.output(prefix = "")</code></p></td>
		<td>
			<p>Same as outputl() but doesnt append an NL char and is BUFFERED, not flushed.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>expr</code></p></td>
		<td>
			<p>
				<code>strvar.outputt(prefix = "")</code></p></td>
		<td>
			<p>Same as outputl() but appends a tab char instead of an NL char and is BUFFERED, not flushed.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>expr</code></p></td>
		<td>
			<p>
				<code>strvar.logputl(prefix = "")</code></p></td>
		<td>
			<p>Output to stdlog with optional prefix.</p>
			<p>Appends an NL char.</p>
			<p>Is BUFFERED not flushed.</p>
			<p>Any of the six types of field mark chars present are converted to their visible versions,</p>
			<p>
				<div class="highlight light">
					<pre><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">logputl</span><span class="p">(</span><span class="s">&quot;xyz = &quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">/// Sends &quot;xyz = abc\n&quot; to stdlog buffer and is not flushed.</span>
<span class="c1">// or</span>
<span class="nf">logputl</span><span class="p">(</span><span class="s">&quot;xyz = &quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">);;</span><span class="w"> </span><span class="c1">/// Any number of arguments is allowed. All will be output.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>expr</code></p></td>
		<td>
			<p>
				<code>strvar.logput(prefix = "")</code></p></td>
		<td>
			<p>Same as logputl() but doesnt append an NL char.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>expr</code></p></td>
		<td>
			<p>
				<code>strvar.errputl(prefix = "")</code></p></td>
		<td>
			<p>Output to stderr with optional prefix.</p>
			<p>Appends an NL char.</p>
			<p>Is FLUSHED not buffered.</p>
			<p>Any of the six types of field mark chars present are converted to their visible versions,</p>
			<p>
				<div class="highlight light">
					<pre><span class="s">&quot;abc&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">errputl</span><span class="p">(</span><span class="s">&quot;xyz = &quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">/// Sends &quot;xyz = abc\n&quot; to stderr</span>
<span class="c1">// or</span>
<span class="nf">errputl</span><span class="p">(</span><span class="s">&quot;xyz = &quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">/// Any number of arguments is allowed. All will be output.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>expr</code></p></td>
		<td>
			<p>
				<code>strvar.errput(prefix = "")</code></p></td>
		<td>
			<p>Same as errputl() but doesnt append an NL char and is BUFFERED not flushed.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>expr</code></p></td>
		<td>
			<p>
				<code>strvar.put(std::ostream& ostream1)</code></p></td>
		<td>
			<p>Output to a given stream.</p>
			<p>Is BUFFERED not flushed.</p>
			<p>The raw string bytes are output. No character or byte conversion is performed.</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var().osflush()</code></p></td>
		<td>
			<p>Flush any and all buffered output to stdout and stdlog.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="p">().</span><span class="nf">osflush</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">osflush</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Input">Input</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>var.input(prompt = "")</code></p></td>
		<td>
			<p>Read one line of input from stdin.</p>
			<p>
				<em>return:</em> True if successful or false if EOF or user pressed Esc or Ctrl+X in a terminal.</p>
			<p>
				<em>var[in]:</em> The default value for terminal input and editing. Ignored if not a terminal.</p>
			<p>
				<em>var[out]:</em> Raw bytes up to but excluding the first new line char. In case of EOF or user pressed Esc or Ctrl+X in a terminal it will be changed to "".</p>
			<p>
				<em>Prompt:</em> If provided, it will be displayed on the terminal.</p>
			<p>Multibyte/UTF8 friendly.</p>
			<p>
				<div class="highlight light">
					<pre><span class="c1">// var v1 = &quot;defaultvalue&quot;;</span>
<span class="c1">// if (v1.input(&quot;Prompt:&quot;)) ... ok</span>
<span class="c1">// or</span>
<span class="c1">// var v2 = input();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>expr</code></p></td>
		<td>
			<p>
				<code>var.keypressed(wait = false)</code></p></td>
		<td>
			<p>Return the code of the current terminal key pressed.</p>
			<p>
				<em>wait:</em> Defaults to false. True means wait for a key to be pressed if not already pressed.</p>
			<p>
				<em>return:</em> ASCII or key code defined according to terminal protocol.</p>
			<p>
				<em>return:</em> "" if stdin is not a terminal.</p>
			<p>e.g. The PgDn key if pressed might return an escape sequence like "\x1b[6~"</p>
			<p>It only takes a few secs to return false if no key is pressed.
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">keypressed</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">keypressed</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>var().isterminal(in_out_err = 1)</code></p></td>
		<td>
			<p>Check if is a terminal or a file/pipe.</p>
			<p>Can check stdin, stdout, stderr.</p>
			<p>
				<em>in_out_err:</em> </p>
			<dl>
				<dt>0</dt>
				<dd>stdin</dd>
				<dt>1</dt>
				<dd>stdout (Default)</dd>
				<dt>2</dt>
				<dd>stderr.</dd>
			</dl>
			<p>
				<em>return:</em> True if it is a terminal or false if it is a file or pipe.</p>
			<p>Note that if the process is at the start or end of a pipeline, then only stdin or stdout will be a terminal.</p>
			<p>The type of stdout terminal can be obtained from the TERM environment variable.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">().</span><span class="nf">isterminal</span><span class="p">();</span><span class="w"> </span><span class="c1">/// 1 or 0</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">isterminal</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>var().hasinput(milliseconds = 0)</code></p></td>
		<td>
			<p>Check if stdin has any bytes available for input.</p>
			<p>If no bytes are immediately available, the process sleeps for up to the given number of milliseconds, returning true immediately any bytes become available or false if the period expires without any bytes becoming available.</p>
			<p>
				<em>return:</em> True if any bytes are available otherwise false.</p>
			<p>It only takes a few secs to return false if no bytes are available and no wait time has been requested.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>var().eof()</code></p></td>
		<td>
			<p>True if stdin is at end of file</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>var().echo(on_off = true)</code></p></td>
		<td>
			<p>Set terminal echo on or off.</p>
			<p>"On" causes all stdin data to be reflected to stdout if stdin is a terminal.</p>
			<p>Turning terminal echo off can be used to prevent display of confidential information.</p>
			<p>
				<em>return:</em> True if successful.</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var().breakon()</code></p></td>
		<td>
			<p>Install various interrupt handlers.</p>
			<p>Automatically called in program/thread initialisation by exodus_main.</p>
			<dl>
				<dt>SIGINT</dt>
				<dd>Ctrl+C -&gt; "Interrupted. (C)ontinue (Q)uit (B)acktrace (D)ebug (A)bort ?"</dd>
				<dt>SIGHUP</dt>
				<dd>Sets a variable "RELOAD_req" which may be handled or ignored by the program.</dd>
				<dt>SIGTERM</dt>
				<dd>Sets a variable "TERMINATE_req" which may be handled or ignored by the program.</dd>
			</dl>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var().breakoff()</code></p></td>
		<td>
			<p>Disable keyboard interrupt.</p>
			<p>Ctrl+C becomes inactive in terminal.</p>
		</td></tr>
</table>
<h5 id="Math_Boolean">Math/Boolean</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.abs()</code></p></td>
		<td>
			<p>Absolute value.
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">-12.34</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">abs</span><span class="p">();</span><span class="w"> </span><span class="c1">// 12.34</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">abs</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.pwr(exponent)</code></p></td>
		<td>
			<p>Power.
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nf">pwr</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="c1">// 256</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">pwr</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>varnum.initrnd()</code></p></td>
		<td>
			<p>Initialise the seed for rnd().</p>
			<p>Allow the stream of pseudo random numbers generated by rnd() to be reproduced.</p>
			<p>Seeded from std::chrono::high_resolution_clock::now() if the argument is 0;</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="p">(</span><span class="mi">123</span><span class="p">).</span><span class="nf">initrnd</span><span class="p">();</span><span class="w"> </span><span class="c1">/// Set seed to 123</span>
<span class="c1">// or</span>
<span class="nf">initrnd</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.rnd()</code></p></td>
		<td>
			<p>Pseudo random number generator.</p>
			<p>
				<em>return:</em> A pseudo random integer between 0 and the provided maximum minus 1.</p>
			<p>Uses std::mt19937 and std::uniform_int_distribution&lt;int&gt;</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">100</span><span class="p">).</span><span class="nf">rnd</span><span class="p">();</span><span class="w"> </span><span class="c1">/// Random 0 to 99</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rnd</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.exp()</code></p></td>
		<td>
			<p>Power of e.
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nf">exp</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2.718281828459045</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.sqrt()</code></p></td>
		<td>
			<p>Square root.
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">100</span><span class="p">).</span><span class="nf">sqrt</span><span class="p">();</span><span class="w"> </span><span class="c1">// 10</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sqrt</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.sin()</code></p></td>
		<td>
			<p>Sine of degrees.
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">30</span><span class="p">).</span><span class="nf">sin</span><span class="p">();</span><span class="w"> </span><span class="c1">// 0.5</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sin</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.cos()</code></p></td>
		<td>
			<p>Cosine of degrees.
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">60</span><span class="p">).</span><span class="nf">cos</span><span class="p">();</span><span class="w"> </span><span class="c1">// 0.5</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">cos</span><span class="p">(</span><span class="mi">60</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.tan()</code></p></td>
		<td>
			<p>Tangent of degrees.
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">45</span><span class="p">).</span><span class="nf">tan</span><span class="p">();</span><span class="w"> </span><span class="c1">// 1</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">tan</span><span class="p">(</span><span class="mi">45</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.atan()</code></p></td>
		<td>
			<p>Arctangent of degrees.
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nf">atan</span><span class="p">();</span><span class="w"> </span><span class="c1">// 45</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">atan</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.loge()</code></p></td>
		<td>
			<p>Natural logarithm.</p>
			<p>
				<em>return:</em> Floating point var (double)
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">2.718281828459045</span><span class="p">).</span><span class="nf">loge</span><span class="p">();</span><span class="w"> </span><span class="c1">// 1</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">loge</span><span class="p">(</span><span class="mf">2.718281828459045</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.integer()</code></p></td>
		<td>
			<p>Truncate decimals.</p>
			<p>Convert decimal to nearest integer towards zero.</p>
			<p>Remove decimal fraction.</p>
			<p>
				<em>return:</em> An integer var
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">2.9</span><span class="p">).</span><span class="nf">integer</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p">(</span><span class="mf">2.9</span><span class="p">);</span>

<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">-2.9</span><span class="p">).</span><span class="nf">integer</span><span class="p">();</span><span class="w"> </span><span class="c1">// -2</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p">(</span><span class="mf">-2.9</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.floor()</code></p></td>
		<td>
			<p>Floor decimals.</p>
			<p>Convert decimal to nearest integer towards negative infinity.</p>
			<p>
				<em>return:</em> An integer var
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">2.9</span><span class="p">).</span><span class="nf">floor</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">floor</span><span class="p">(</span><span class="mf">2.9</span><span class="p">);</span>

<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mf">-2.9</span><span class="p">).</span><span class="nf">floor</span><span class="p">();</span><span class="w"> </span><span class="c1">// -3</span>
<span class="c1">// or</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">floor</span><span class="p">(</span><span class="mf">-2.9</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.mod(modulus)</code></p></td>
		<td>
			<p>Modulus function.</p>
			<p>Identical to C++ % operator only for positive numbers and modulus</p>
			<p>Negative denominators are considered as periodic with positive numbers</p>
			<p>Result is between [0, modulus) if modulus is positive</p>
			<p>Result is between (modulus, 0] if modulus is negative (symmetric)</p>
			<p>
				<em>throw:</em> VarDivideByZero if modulus is zero.</p>
			<p>Floating point works.
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">11</span><span class="p">).</span><span class="nf">mod</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"> </span><span class="c1">// 1</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">mod</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w"> </span><span class="c1">// 1</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">mod</span><span class="p">(</span><span class="mi">-11</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w"> </span><span class="c1">// 4</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">mod</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">-5</span><span class="p">);</span><span class="w"> </span><span class="c1">// -4</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">mod</span><span class="p">(</span><span class="mi">-11</span><span class="p">,</span><span class="w"> </span><span class="mi">-5</span><span class="p">);</span><span class="w"> </span><span class="c1">// -1</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>int=</code></p></td>
		<td>
			<p>
				<code>var::setprecision(newprecision)</code></p></td>
		<td>
			<p>Set floating point precision.</p>
			<p>This is the number of post-decimal point digits to consider for floating point comparison and implicit conversion to strings.</p>
			<p>The default precision is 4 which is 0.0001.</p>
			<p>NUMBERS AND DIFFERENCES SMALLER THAN 0.0001 ARE TREATED AS ZERO UNLESS PRECISION IS INCREASED.</p>
			<p>With the default precision, Exodus handles, without assistance, conversion to and from strings for positive and negative numbers between 0.0001 and 999'999'999'999.9999 (12 digits).</p>
			<p>
				<em>newprecision:</em> New precision between -307 and 308 inclusive.</p>
			<p>
				<em>return:</em> The new precision if successful or the old precision if not.</p>
			<p>Not required if using common numbers or using the explicit rounding and formatting functions to convert numbers to strings.</p>
			<p>Increasing the precision allows comparing and outputting smaller numbers but creates errors handling large numbers.</p>
			<p>Setting precision inside a perform, execute or dictionary function lasts until termination of the function.</p>
			<p>See cli/demo_precision for more info.</p>
			<p>
				<div class="highlight light">
					<pre><span class="n">assert</span><span class="p">(</span><span class="mf">0.000001</span><span class="kt">_var</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">/// NOTE WELL: Default precision 4.</span>
<span class="nf">let</span><span class="w"> </span><span class="n">new_precision1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">setprecision</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span><span class="w"> </span><span class="c1">// 6 // Increase the precision.</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">new_precision2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">setprecision</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="mf">0.000001</span><span class="kt">_var</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">/// NOTE: Precision 6.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>int=</code></p></td>
		<td>
			<p>
				<code>var::getprecision()</code></p></td>
		<td>
			<p>Get current floating point precision.</p>
			<p>
				<em>return:</em> The current precision setting.</p>
			<p>See setprecision() for more info.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">curr_precision1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="o">::</span><span class="nf">getprecision</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">curr_precision2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getprecision</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h4 id="I_O_Conversion_Codes_">I/O Conversion Codes </h4>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>vardate.oconv("D")</code></p></td>
		<td>
			<p>oconv "D" Convert internal date to external format.</p>
			<p>Date output: Convert internal date format to human readable date or calendar info in text format.</p>
			<p>
				<em>return:</em> Human readable date or calendar info, or the original value unconverted if non-numeric.</p>
			<p>
				<em>flags:</em> See examples below.</p>
			<p>Any Dynamic array structure is preserved.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">19002</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;D&quot;</span><span class="w">   </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;09 JAN 2020&quot;   // Default</span>

<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;D/&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;01/09/2020&quot;    // mm/dd/yyyy - American numeric</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;D-&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;01-09-2020&quot;    // mm-dd-yyyy - American numeric</span>

<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;D/E&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;09/01/2020&quot;    // dd/mm/yyyy - International numeric</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;D-E&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;09-01-2020&quot;    // dd-mm-yyyy - International numeric</span>

<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;D2&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;09 JAN 20&quot;     // 2 digit year</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;D0&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;09 JAN&quot;        // No year</span>

<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DS&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;2020 JAN 09&quot;   // yyyy mmm dd - ISO year first, alpha month</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DS-&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;2020-01-09&quot;    // yyyy-mm-dd  - ISO year first, numeric month</span>

<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DZ&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot; 9 JAN 2020&quot;   // Leading 0 become spaces</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DZZ&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;9 JAN 2020&quot;    // Leading 0 are suppressed</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;D!&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;09JAN2020&quot;     // No separators</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DS-!&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;20200109&quot;      // yyyymmdd packed</span>

<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DM&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;1&quot;             // Month number</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DMA&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;JANUARY&quot;       // Month name</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DY&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;2020&quot;          // Year number</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DY2&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;20&quot;            // Year 2 digits</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DD&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;9&quot;             // Day number in month (1-31)</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DW&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;4&quot;             // Weekday number (1-7)</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DWA&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;THURSDAY&quot;      // Weekday name</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;</span><span class="nb">DQ</span><span class="s">&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;1&quot;             // Quarter number</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DJ&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;9&quot;             // Day number in year</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;DL&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;31&quot;            // Last day number of month (28-31)</span>

<span class="c1">// Dynamic array</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;12345^12346]12347&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v3</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;D&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;18 OCT 2001^19 OCT 2001]20 OCT 2001&quot;_var</span>

<span class="c1">// or</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="nf">oconv</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;D&quot;</span><span class="w">   </span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.iconv("D")</code></p></td>
		<td>
			<p>iconv "D" Convert external date format to internal.</p>
			<p>Date input: Convert human readable date to internal date format.</p>
			<p>
				<em>return:</em> Internal date or "" if the input is an invalid date.</p>
			<p>Internal date format is whole days since 1967-12-31 00:00:00 which is day 0.</p>
			<p>Any Dynamic array structure is preserved.</p>
			<p>
				<div class="highlight light">
					<pre><span class="c1">// International order &quot;DE&quot;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">             </span><span class="nf">oconv</span><span class="p">(</span><span class="mi">19005</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;DE&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;12 JAN 2020&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="s">&quot;12/1/2020&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;DE&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19005</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="s">&quot;12 1 2020&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;DE&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19005</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="s">&quot;12-1-2020&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;DE&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19005</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="s">&quot;12 JAN 2020&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;DE&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19005</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="s">&quot;jan 12 2020&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;DE&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19005</span>

<span class="c1">// American order &quot;D&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">             </span><span class="nf">oconv</span><span class="p">(</span><span class="mi">19329</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;D&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;01 DEC 2020&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="s">&quot;12/1/2020&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;D&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19329</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="s">&quot;DEC 1 2020&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;D&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19329</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="s">&quot;1 dec 2020&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;D&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19329</span>

<span class="c1">// Reverse order</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="s">&quot;2020/12/1&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;DE&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19329</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="s">&quot;2020-12-1&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;D&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19329</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="s">&quot;2020 1 dec&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;D&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19329</span>

<span class="c1">//Invalid date</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="s">&quot;2/29/2021&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;D&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="s">&quot;29/2/2021&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;DE&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;&quot;</span>

<span class="c1">// or</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;12/1/2020&quot;</span><span class="kt">_var</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;DE&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  19005</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>vartime.oconv("MT")</code></p></td>
		<td>
			<p>oconv "MT" Convert internal time to external format.</p>
			<p>Time output: Convert internal time format to human readable time e.g. "10:30:59".</p>
			<p>
				<em>return:</em> Human readable time or the original value unconverted if non-numeric.</p>
			<p>Conversion code (e.g. "MTHS") is "MT" ^ flags ...</p>
			<p>
				<em>flags:</em> </p>
			<dl>
				<dt>H</dt>
				<dd>Show AM/PM otherwise 24 hour clock is used.</dd>
				<dt>S</dt>
				<dd>Output seconds</dd>
				<dt>2</dt>
				<dd>Ignored (used in iconv)</dd>
				<dt>:</dt>
				<dd>Any other flag is used as the separator char instead of ":"</dd>
			</dl>
			<p>Any Dynamic array structure is preserved.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">62000</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MT&quot;</span><span class="w">  </span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;17:13&quot;      // Default</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MTH&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;05:13PM&quot;    // &#39;H&#39; flag for AM/PM</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MTS&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;17:13:20&quot;   // &#39;S&#39; flag for seconds</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MTHS&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;05:13:20PM&quot; // Both flags</span>

<span class="nf">let</span><span class="w"> </span><span class="n">v3</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v3</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MT&quot;</span><span class="w">  </span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;00:00&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v3</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MTH&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;12:00AM&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v3</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MTS&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;00:00:00&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v3</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MTHS&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;12:00:00AM&quot;</span>

<span class="c1">// Dynamic array</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v4</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;61980^62040]62100&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v4</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MT&quot;</span><span class="p">);</span><span class="w">    </span><span class="c1">// &quot;17:13^17:14]17:15&quot;_var</span>

<span class="c1">// or</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">oconv</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="p">);</span><span class="w">    </span><span class="c1">// &quot;17:13&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.iconv("MT")</code></p></td>
		<td>
			<p>iconv "MT" Convert external time format to internal.</p>
			<p>Time input: Convert human readable time (e.g. "10:30:59") to internal time format.</p>
			<p>
				<em>return:</em> Internal time or "" if the input is an invalid time.</p>
			<p>Internal time format is whole seconds since midnight.</p>
			<p>
				<em>Accepts:</em> Two or three groups of digits surrounded and separated by any non-digits char(s).</p>
			<p>Any Dynamic array structure is preserved.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">       </span><span class="s">&quot;17:13&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  61980</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">     </span><span class="s">&quot;05:13PM&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  61980</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="s">&quot;17:13:20&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  62000</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="s">&quot;05:13:20PM&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  62000</span>

<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">       </span><span class="s">&quot;00:00&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  0</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">     </span><span class="s">&quot;12:00AM&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  0     // Midnight</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">     </span><span class="s">&quot;12:00PM&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  43200 // Noon</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="s">&quot;00:00:00&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  0</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="s">&quot;12:00:00AM&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  0</span>

<span class="c1">// Dynamic array</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;17:13^05:13PM]17:13:20&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;MT&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;61980^61980]62000&quot;_var</span>

<span class="c1">// or</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;17:13&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MT&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  61980</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.oconv("MD")</code></p></td>
		<td>
			<p>oconv "MD" Convert internal numbers to external format.</p>
			<p>Number output: Convert internal numbers to external text format after rounding and optional scaling.</p>
			<p>
				<em>return:</em> A string or, if the value is not numeric, then no conversion is performed and the original value is returned.</p>
			<p>
				<em>conversion_code:</em> (e.g. "MD20Z") is "MD" or "MC", 1st digit, 2nd digit, flags ...</p>
			<dl>
				<dt>"MD"</dt>
				<dd>Outputs like 123.45 (International)</dd>
				<dt>"MC"</dt>
				<dd>Outputs like 123,45 (European)</dd>
			</dl>
			<p>1st digit * Decimal places to display. Also decimal places to move if 2nd digit not present and no P flag present.</p>
			<p>2nd digit * Optional decimal places to move left if P flag not present.</p>
			<p></p>
			<p>
				<em>flags:</em> </p>
			<dl>
				<dt>P</dt>
				<dd>Preserve decimal places. Same as 2nd digit = 0;</dd>
				<dt>Z</dt>
				<dd>Zero flag - return "" if zero.</dd>
				<dt>X</dt>
				<dd>No conversion - return as is.</dd>
				<dt>.</dt>
				<dd>Separate thousands depending on MD or MC.</dd>
				<dt>,</dt>
				<dd>Ditto</dd>
				<dt>-</dt>
				<dd>Suffix negatives with "-" and positives with " " (space).</dd>
				<dt>&lt;</dt>
				<dd>Wrap negatives in "&lt;" and "&gt;" chars.</dd>
				<dt>C</dt>
				<dd>Suffix negatives with "CR" and positives or zero with "DB".</dd>
				<dt>D</dt>
				<dd>Suffix negatives with "DB" and positives or zero with "CR".</dd>
			</dl>
			<p>
				<p>Any Dynamic array structure is preserved.</p>
			</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">-1234.567</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MD20&quot;</span><span class="w">   </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//   &quot;-1234.57&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MD20,&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;-1,234.57&quot;    // , flag</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MC20,&quot;</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;-1.234,57&quot;    // MC code</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MD20,-&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//   &quot;1,234.57-&quot;   // - flag</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MD20,&lt;&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;&lt;1,234.57&gt;&quot;   // &lt; flag</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MD20,C&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//   &quot;1,234.57CR&quot;  // C flag</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MD20,D&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//   &quot;1,234.57DB&quot;  // D flag</span>

<span class="c1">// Dynamic array</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1.1^2.1]2.2&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">v3</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;MD20&quot;</span><span class="w">   </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;1.10^2.10]2.20&quot;_var</span>

<span class="c1">// or</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="nf">oconv</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MD20&quot;</span><span class="w">   </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//   &quot;-1234.57&quot;   </span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>var.oconv("LRC")</code></p></td>
		<td>
			<p>oconv "L" "R" "C" Justify text and numbers.</p>
			<p>Text justification: Left, right and center. Padding and truncating. See Procrustes.</p>
			<p>e.g. "L#10", "R#10", "C#10"</p>
			<p>Useful when outputting to terminal devices where spaces are used for alignment.</p>
			<p>Dynamic array structure is preserved.</p>
			<p>ASCII only.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="s">&quot;abcde&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;L#3&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;abc&quot;  // Truncating</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="s">&quot;abcde&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;R#3&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;cde&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="s">&quot;abcde&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;C#3&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;abc&quot;</span>

<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="s">&quot;ab&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;L#6&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;ab&quot;  // Padding</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="s">&quot;ab&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;R#6&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;ab&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="s">&quot;ab&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;C#6&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;ab&quot;</span>

<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">       </span><span class="kt">var</span><span class="p">(</span><span class="mi">42</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;L(0)#5&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;42000&quot;  // Padding char (x)</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">       </span><span class="kt">var</span><span class="p">(</span><span class="mi">42</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;R(0)#5&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;00042&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">       </span><span class="kt">var</span><span class="p">(</span><span class="mi">42</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;C(0)#5&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;04200&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">       </span><span class="kt">var</span><span class="p">(</span><span class="mi">42</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;C(0)#5&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;04200&quot;</span>

<span class="c1">// Dynamic array</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">       </span><span class="s">&quot;f1^v1]v2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;L(_)#5&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;f1___^v1___]v2___&quot;_var</span>

<span class="c1">// Fail for non-ASCII (Should be 5)</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="s">&quot;&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;L#5&quot;</span><span class="p">).</span><span class="nf">textwidth</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  3</span>

<span class="c1">// or</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;L#3&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;abc&quot; </span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.oconv("T")</code></p></td>
		<td>
			<p>oconv "T" Justify and fold text.</p>
			<p>e.g. T#20</p>
			<p>Useful when outputting to terminal devices where spaces are used for alignment.</p>
			<p>Split text into multiple fixed length lines by inserting spaces and TM chars.</p>
			<p>ASCII only.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Have a nice day&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;T#10&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;Have a|nice day&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v3</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nf">oconv</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;T#10&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;Have a|nice day&quot;_var </span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>expr</code></p></td>
		<td>
			<p>
				<code>varnum.oconv("MR")</code></p></td>
		<td>
			<p>oconv "MR" Replace characters.</p>
			<p>e.g. MRU
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;123/abC.&quot;</span><span class="p">;</span>
<span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MRL&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;123/abc.&quot; // lcase</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MRU&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;123/ABC.&quot; // ucase</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MRT&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;123/Abc.&quot; // tcase</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MRN&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;123&quot;      // Return only digits</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MRA&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;abC&quot;      // Return only alphabetic</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MRB&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;123abC&quot;   // Return only alphanumeric</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MR/N&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;/abC.&quot;   // Remove digits</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MR/A&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;123/.&quot;   // Remove alphabetic</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MR/B&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;/.&quot;      // Remove alphanumeric</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.oconv("HEX")</code></p></td>
		<td>
			<p>oconv "HEX" Convert a string of chars to a string of pairs of hexadecimal digits.</p>
			<p>
				<em>strvar:</em> A string. Numbers will be converted to strings for conversion. 1.2 -&gt; "1.2" -&gt; hex "312E32"</p>
			<p>Dynamic array structure is not preserved. Field marks are converted to HEX as for all other bytes.</p>
			<p>The size of the output is always precisely double that of the input.</p>
			<p>This function is the exact inverse of iconv("HEX").</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="s">&quot;ab01&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;HEX&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;61&quot; &quot;62&quot; &quot;30&quot; &quot;31&quot;</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="s">&quot;</span><span class="se">\xff\x00</span><span class="s">&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;HEX&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;FF&quot; &quot;00&quot;            // Any bytes are ok.</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">         </span><span class="kt">var</span><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;HEX&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;31&quot; &quot;30&quot;            // Uses ASCII string equivalent of 10 i.e. &quot;10&quot;.</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="s">&quot;</span><span class="se">\u0393</span><span class="s">&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;HEX&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;CE&quot; &quot;93&quot;            // Greek capital Gamma in UTF8 bytes.</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="s">&quot;a^]b&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;HEX&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;61&quot; &quot;1E&quot; &quot;1D&quot; &quot;62&quot;  // Field and value marks.</span>
<span class="c1">// or</span>
<span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w">       </span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;ab01&quot;</span><span class="kt">_var</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HEX&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//  &quot;61&quot; &quot;62&quot; &quot;30&quot; &quot;31&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.iconv("HEX")</code></p></td>
		<td>
			<p>iconv "HEX" Convert a string of pairs of hexadecimal digits to a string of chars.</p>
			<p>
				<em>strvar:</em> Must be a string of only hex digits 0-9, a-f or A-F.</p>
			<p>
				<em>return:</em> A string if all input was hex digits otherwise "".</p>
			<p>Dynamic array structure is not preserved. Any field marks prevent conversion.</p>
			<p>This function is the exact inverse of oconv("HEX").</p>
			<p>After prefixing a "0" to an odd sized input, the size of the output is always precisely half that of the input.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.oconv("MX")</code></p></td>
		<td>
			<p>oconv "MX" Convert a number to hexadecimal string.</p>
			<dl>
				<dt>"MX"</dt>
				<dd>Convert and trim leading zeros                      e.g. oconv(1025, "MX")  -&gt; "401"</dd>
				<dt>"MXn"</dt>
				<dd>Pad with up to n leading zeros but do not truncate. e.g. oconv(1025, "MX8") -&gt; "00000401"</dd>
				<dt>"MXnT"</dt>
				<dd>Pad and truncate to n characters.                   e.g. oconv(1025, "MX2") -&gt; "01"</dd>
			</dl>
			<p>"n":    Width. 0-9, A-G = 10 - 16.</p>
			<p>
				<em>varnum:</em> A number or dynamic array of numbers. Floating point numbers are rounded to integers before conversion.</p>
			<p>
				<em>return:</em> A string of hexadecimal digits or a dynamic array of the same. Elements that are not numeric are left untouched and unconverted.</p>
			<p>Dynamic array structure is preserved.</p>
			<p>Negative numbers are treated as unsigned 8 byte integers (uint64).</p>
			<dl>
				<dt> 0 -&gt;</dt>
				<dd>"00"</dd>
				<dt> 1 -&gt;</dt>
				<dd>"01"</dd>
				<dt>15 -&gt;</dt>
				<dd>"0F"</dd>
				<dt>-1 -&gt;</dt>
				<dd>"FFFF" "FFFF" "FFFF" "FFFF" (8 x "FF")</dd>
			</dl>
			<p>This function is a near inverse of iconv("MX").</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;14.5]QQ]65535&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MX&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;F]QQ]FFFF&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;14.5]QQ]65535&quot;</span><span class="kt">_var</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MX&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.iconv("MX")</code></p></td>
		<td>
			<p>iconv "MX" Convert a hexadecimal string to number.</p>
			<p>
				<em>strvar:</em> A string or dynamic array of up to 16 hex digits: 0-9, a-f, A-F.</p>
			<p>
				<em>return:</em> An integer or dynamic array of integers. Invalid elements are converted to "".</p>
			<p>Dynamic array structure is preserved.</p>
			<p>Hex strings are converted to unsigned 8 byte integers (uint64)</p>
			<p>Leading zeros are ignored.</p>
			<dl>
				<dt>"0"  -&gt;</dt>
				<dd>0</dd>
				<dt>"00" -&gt;</dt>
				<dd>0</dd>
				<dt>"1"  -&gt;</dt>
				<dd>1</dd>
			</dl>
			<p></p>
			<p>Hex "FFFF" "FFFF" "FFFF" "FFFF" (8 x "FF") -&gt; -1.</p>
			<p>Hex "7FFF" "FFFF" "FFFF" "FFFF" -&gt; The maximum positive integer: 9223372036854775805.</p>
			<p>Hex "8000" "0000" "0000" "0000" -&gt; The maximum negative integer: -9223372036854775808.</p>
			<p>This function is the exact inverse of oconv("MX").</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;F]QQ]FFFF&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;MX&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;15]]65535&quot;_var</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;F]QQ]FFFF&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MX&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>varnum.oconv("MB")</code></p></td>
		<td>
			<p>oconv "MB" Convert a number to a binary string of "1"s and "0"s,</p>
			<p>
				<em>varnum:</em> If not numeric then no conversion is performed and the original value is returned.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="mi">255</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;MB&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 1111&#39;1111</span>
<span class="c1">// or</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">oconv</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MB&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.oconv("TX")</code></p></td>
		<td>
			<p>oconv "TX" Convert a dynamic array to text.</p>
			<p>Convert dynamic arrays to standard text format.</p>
			<p>Useful for using text editors on dynamic arrays.</p>
			<dl>
				<dt>FMs -&gt;</dt>
				<dd>\n after escaping any embedded NL</dd>
				<dt>VMs -&gt;</dt>
				<dd>literal "\" \n</dd>
				<dt>SMs -&gt;</dt>
				<dd>literal "\\" \n</dd>
			</dl>
			<p>etc.</p>
			<p>
				<div class="highlight light">
					<pre><span class="c1">// 1. Backslash in text remains backslash</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="nb">_BS</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;TX&quot;</span><span class="p">);</span><span class="w">     </span><span class="c1">// _BS</span>

<span class="c1">// 2. Literal &quot;\n&quot; -&gt; literal &quot;\\n&quot; (Double escape any escaped NL chars)</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="nb">_BS</span><span class="w"> </span><span class="s">&quot;n&quot;</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;TX&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// _BS _BS &quot;n&quot;</span>

<span class="c1">// 3. \n becomes literal &quot;\n&quot; (Single escape any NL chars)</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="nb">_NL</span><span class="p">).</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;TX&quot;</span><span class="p">);</span><span class="w">     </span><span class="c1">// _BS &quot;n&quot;</span>

<span class="c1">// 4. FM -&gt; \n</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^f2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;TX&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">// &quot;f1&quot; _NL &quot;f2&quot;</span>

<span class="c1">// 5. VM -&gt; &quot;\&quot; \n</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;v1]v2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;TX&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">// &quot;v1&quot; _BS _NL &quot;v2&quot;</span>

<span class="c1">// 6. SM -&gt; &quot;\\&quot; \n</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;s1}s2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;TX&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">// &quot;s1&quot; _BS _BS _NL &quot;s2&quot;</span>

<span class="c1">// 7. TM -&gt; &quot;\\\&quot; \n</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;t1|t2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;TX&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">// &quot;t1&quot; _BS _BS _BS _NL &quot;t2&quot;</span>

<span class="c1">// 8. ST -&gt; &quot;\\\\&quot; \n</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;st1~st2&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;TX&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;st1&quot; _BS _BS _BS _BS _NL &quot;st2&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>strvar.iconv("TX")</code></p></td>
		<td>
			<p>iconv "TX" Convert text to a dynamic array.</p>
			<p>Convert standard text format to dynamic array.</p>
			<p>Reverse of oconv("TX") above.</p>
		</td></tr>
</table>

<div class="toc">
	<h4 id="dim">Contents:</h4>
	<ol>
		<li>
			<a href="#Dimensioned_Array_Construction_">Dimensioned Array Construction </a></li>
		<li>
			<a href="#Array_Access">Array Access</a></li>
		<li>
			<a href="#Array_Mutation">Array Mutation</a></li>
		<li>
			<a href="#Array_Conversion">Array Conversion</a></li>
		<li>
			<a href="#Array_DB_I_O">Array DB I/O</a></li>
		<li>
			<a href="#Array_OS_I_O">Array OS I/O</a></li>

	</ol>
</div>


<h5 id="Dimensioned_Array_Construction_">Dimensioned Array Construction </h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dim d1;</code></p></td>
		<td>
			<p>Create an undimensioned array of vars.</p>
			<p>Pending actual dimensions by redim, read, osread or split.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="p">;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dim d1(nrows, ncols = 1);</code></p></td>
		<td>
			<p>Create a dimensioned array of vars.</p>
			<p>Specify a fixed number of columns and rows. All vars are unassigned.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="nf">d1</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="nf">dim</span><span class="w"> </span><span class="nf">d2</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dim d1 = d2; // Copy</code></p></td>
		<td>
			<p>Copy a dimensioned array.</p>
			<p>Unassigned elements are copied as is.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">};</span>
<span class="nf">dim</span><span class="w"> </span><span class="n">d2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1</span><span class="p">;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dim d1 = dim(); // Move</code></p></td>
		<td>
			<p>Save a dimensioned array created elsewhere.</p>
			<p>Use C++ "move" semantics.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^f2^f3&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">split</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dim d1 = {"a", "b", "c" ...}; // Initializer list</code></p></td>
		<td>
			<p>Create a dimensioned array from a literal list.</p>
			<p>All elements must be the same type, var, string, double, int, etc. All end up as vars which are flexible.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">};</span>
<span class="nf">dim</span><span class="w"> </span><span class="n">d2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;B&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="p">};</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>dim d1 = v1;</code></p></td>
		<td>
			<p>Initialise all elements of an dimensioned array.</p>
			<p>To some single value. e.g. a var,  "", 0 etc.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="nf">d1</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>d1.redim(nrows, ncols = 1)</code></p></td>
		<td>
			<p>Resize a dimensioned array.</p>
			<p>To a different number of rows and columns.</p>
			<p>Existing data will be retained. Any additional elements are unassigned.</p>
			<p>Resizing rows to 0 clears all data.</p>
			<p>Resizing cols to 0 clears all data and changes its status to "undimensioned".</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="p">;</span>
<span class="n">d1</span><span class="p">.</span><span class="nf">redim</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>d1.swap(d2) </code></p></td>
		<td>
			<p>Swap two arrays.</p>
			<p>Either or both may be undimensioned.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="nf">d1</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="nf">dim</span><span class="w"> </span><span class="nf">d2</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="n">d1</span><span class="p">.</span><span class="nf">swap</span><span class="p">(</span><span class="n">d2</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Array_Access">Array Access</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var v1 = d1[rowno];
					<br>d1[rowno] = v1;</code></p></td>
		<td>
			<p>[row] Access and update dimensioned array elements.</p>
			<p>Two dimensioned arrays can be traversed, columnwise then rowwise, using one dimension array access.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">};</span>
<span class="n">d1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span><span class="w"> </span><span class="c1">// &quot;X&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>var v1 = d1[rowno, colno];
					<br>d1[rowno, colno] = v1;</code></p></td>
		<td>
			<p>[row, col] Access and update dimensioned array elements.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="nf">d1</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="n">d1</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">];</span><span class="w"> </span><span class="c1">// &quot;X&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>d1.rows()</code></p></td>
		<td>
			<p>Get the number of rows in the dimensioned array</p>
			<p>
				<em>return:</em> A count. Can be zero, indicating an empty or undimensioned array.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="nf">d1</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1</span><span class="p">.</span><span class="nf">rows</span><span class="p">();</span><span class="w"> </span><span class="c1">// 5</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>d1.cols()</code></p></td>
		<td>
			<p>Get the number of columns in the dimensioned array</p>
			<p>
				<em>return:</em> A count.  0 if the array is undimensioned.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="nf">d1</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1</span><span class="p">.</span><span class="nf">cols</span><span class="p">();</span><span class="w"> </span><span class="c1">// 3</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>d1.join(delimiter = FM)</code></p></td>
		<td>
			<p>Get a delimited string concatenating all elements of a dimensioned array.</p>
			<p>Unassigned elements on the end are omitted.</p>
			<p>
				<em>delimiter:</em> Default is FM.</p>
			<p>
				<em>return:</em> A string var.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;f1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f3&quot;</span><span class="p">};</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1</span><span class="p">.</span><span class="nf">join</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;f1^f2^f3&quot;_var</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Array_Mutation">Array Mutation</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>d1.splitter(str1, delimiter = FM)</code></p></td>
		<td>
			<p>Create or update a dimensioned array using a string with delimiters.</p>
			<p>If the dim array is undimensioned it will be dimensioned with the number of elements that the string has fields.</p>
			<p>If the dim array is dimensioned and has more elements than there are fields in the string, the excess array elements are initialised to "". If the record has more fields than there are elements in the array, the excess fields are all left unsplit in the final element of the array.</p>
			<p>Predimensioning arrays allows the efficient reuse of arrays in loops and ensures that all elements are assigned values, useful when reading records from DB files.</p>
			<p>Using undimensioned arrays allows the efficient handling of arrays with a very variable number of elements. e.g. OS text files.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="p">;</span>
<span class="n">d1</span><span class="p">.</span><span class="nf">splitter</span><span class="p">(</span><span class="s">&quot;f1^f2^f3&quot;</span><span class="kt">_var</span><span class="p">);</span><span class="w"> </span><span class="c1">// d1.rows() -&gt; 3  //// Automatically dimensioned.</span>
<span class="c1">//</span>
<span class="nf">dim</span><span class="w"> </span><span class="nf">d2</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="n">d2</span><span class="p">.</span><span class="nf">splitter</span><span class="p">(</span><span class="s">&quot;f1^f2^f3&quot;</span><span class="kt">_var</span><span class="p">);</span><span class="w"> </span><span class="c1">// d2.rows() -&gt; 10 /// Predimensioned. Excess elements become &quot;&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>d1.sorter(reverse = false)</code></p></td>
		<td>
			<p>Sort a dimensioned array.</p>
			<p>The order of the elements is adjusted so that each element is &lt;= the next.</p>
			<p>
				<em>reverse:</em> If true, then the order is reversed. The default is false.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;2,20,10,1&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">);</span>
<span class="n">d1</span><span class="p">.</span><span class="nf">sorter</span><span class="p">();</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;1,2,10,20&quot;_var</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>d1.reverser()</code></p></td>
		<td>
			<p>Reverse a dimensioned array.</p>
			<p>The order of the elements is reversed.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;2,20,10,1&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">);</span>
<span class="n">d1</span><span class="p">.</span><span class="nf">reverser</span><span class="p">();</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;1,10,20,2&quot;_var</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>d1.randomizer()</code></p></td>
		<td>
			<p>Randomise a dimensioned array.</p>
			<p>The order of the elements is randomised.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;2,20,10,1&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">);</span>
<span class="n">d1</span><span class="p">.</span><span class="nf">randomizer</span><span class="p">();</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// random</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Array_Conversion">Array Conversion</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>dim=</code></p></td>
		<td>
			<p>
				<code>d1.sort(reverse = false)</code></p></td>
		<td>
			<p>Get a sorted copy of a dimensioned array.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>dim=</code></p></td>
		<td>
			<p>
				<code>d1.reverse()</code></p></td>
		<td>
			<p>Get a reversed copy of a dimensioned array;</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>dim=</code></p></td>
		<td>
			<p>
				<code>d1.randomize()</code></p></td>
		<td>
			<p>Get a randomised copy of a dimensioned array.</p>
		</td></tr>
</table>
<h5 id="Array_DB_I_O">Array DB I/O</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>d1.write(dbfile, key)</code></p></td>
		<td>
			<p>Write a DB file record created from a dimensioned array.</p>
			<p>Each element in the array becomes a separate field in the DB record.</p>
			<p>Redundant trailing FMs are omitted.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Client GD^G^20855^30000^1001.00^20855.76539&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">split</span><span class="p">();</span>
<span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GD001&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">deleterecord</span><span class="p">(</span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;GD001&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{};</span><span class="w"> </span><span class="c1">// Cleanup first</span>
<span class="n">d1</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="nf">write</span><span class="p">(</span><span class="n">d1</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>d1.read(dbfile, key)</code></p></td>
		<td>
			<p>Read a DB file record into a dimensioned array.</p>
			<p>Each field in the database record becomes a single element in the array.</p>
			<p>
				<em>return:</em> True if the record exists or false if not,</p>
			<p>If the array is predimensioned then any excess array elements are initialised to "" and any excess record fields are left unsplit in the final array element. See dim splitter for more info.</p>
			<p>If the array is not predimensioned (rows and cols = 0) then it will be dimensioned to have exactly the same number of rows as there are fields in the record being read.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="nf">d1</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GD001&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">d1</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="c1">// d1.join() -&gt; &quot;Client GD^G^20855^30000^1001.00^20855.76539^^^^&quot;_var</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="n">d1</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Array_OS_I_O">Array OS I/O</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>d1.oswrite(osfilename, codepage = "")</code></p></td>
		<td>
			<p>Create an entire OS text file from a dimensioned array</p>
			<p>Each element of the array becomes one line in the OS file delimited by \n</p>
			<p>Any existing OS file is overwritten and replaced.</p>
			<p>
				<em>codepage:</em> Optional: Data is converted from UTF8 to the required codepage/encoding before output. If the conversion cannot be performed then return false.</p>
			<p>
				<em>return:</em> True if successful or false if not.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;aaa=1</span><span class="se">\n</span><span class="s">bbb=2</span><span class="se">\n</span><span class="s">ccc=3</span><span class="se">\n</span><span class="s">&quot;</span><span class="kt">_var</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">osremove</span><span class="p">(</span><span class="s">&quot;xo_conf.txt&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{};</span><span class="w"> </span><span class="c1">// Cleanup first</span>
<span class="nf">let</span><span class="w"> </span><span class="n">osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_conf.txt&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">d1</span><span class="p">.</span><span class="nf">oswrite</span><span class="p">(</span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">oswrite</span><span class="p">(</span><span class="n">d1</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>d1.osread(osfilename, codepage = "")</code></p></td>
		<td>
			<p>Read an entire OS text file into a dimensioned array.</p>
			<p>Each line in the OS file, delimited by \n or \r\n, becomes a separate element in the array.</p>
			<p>Existing data in the array is lost and the array is redimensioned to the number of lines in the input data.</p>
			<p>
				<em>codepage:</em> Optional. Data will be converted from the specified codepage/encoding to UTF8 after being read. If the conversion cannot be performed then return false.</p>
			<p>
				<em>return:</em> True if successful or false if not.</p>
			<p>If the first \n in the file is \r\n then the whole file will be split using \r\n as delimiter.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">dim</span><span class="w"> </span><span class="n">d1</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">osfilename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_conf.txt&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">d1</span><span class="p">.</span><span class="nf">osread</span><span class="p">(</span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="c1">// d1.join(&quot;\n&quot;) -&gt; &quot;aaa=1\nbbb=2\nccc=3\n&quot;_var0</span>
<span class="c1">// or</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">osread</span><span class="p">(</span><span class="n">d1</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">osfilename</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
</table>

<div class="toc">
	<h4 id="exoprog">Contents:</h4>
	<ol>
		<li>
			<a href="#Select_Lists">Select Lists</a></li>
		<li>
			<a href="#Perform_Execute">Perform/Execute</a></li>
		<li>
			<a href="#Program_Termination_">Program Termination </a></li>
		<li>
			<a href="#DB_File_Dictionaries">DB File Dictionaries</a></li>
		<li>
			<a href="#Io_Conversion">Io Conversion</a></li>
		<li>
			<a href="#Ioconv_Date_Time_">Ioconv Date/Time </a></li>
		<li>
			<a href="#Time_Date_Utilities">Time/Date Utilities</a></li>
		<li>
			<a href="#Terminal_I_O_Utilities">Terminal I/O Utilities</a></li>
		<li>
			<a href="#Array_Utilities">Array Utilities</a></li>
		<li>
			<a href="#Record_Locking">Record Locking</a></li>

	</ol>
</div>


<h5 id="Select_Lists">Select Lists</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>select(sortselectclause_or_filehandle = "")</code></p></td>
		<td>
			<p>Create an active select list using a natural language sort/select command.</p>
			<p>This and all the following exoprog member functions work on an environment variable CURSOR.</p>
			<p>Identical functions are available directly on plain var objects but vars have less functionality regarding dictionaries and environment variables which are built-in to exoprog.</p>
			<p>
				<em>return:</em> True if an active select list was created, false otherwise.</p>
			<p>In the following examples, various environment variables like RECORD, ID and MV are used instead of declaring and using named vars. In actual code, either may be freely used.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">select</span><span class="p">(</span><span class="s">&quot;xo_clients by name by type with type &#39;A&#39; &#39;B&#39; and with balance between 0 and 2000&quot;</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">ID</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>selectkeys(keys)</code></p></td>
		<td>
			<p>Create an active select list from a dynamic array of keys.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">selectkeys</span><span class="p">(</span><span class="s">&quot;SB001^JB001^JB002&quot;</span><span class="kt">_var</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">ID</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// ID -&gt; &quot;SB001&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>hasnext()</code></p></td>
		<td>
			<p>Check if a select list is active.</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">hasnext</span><span class="p">())</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>readnext(out key)</code></p></td>
		<td>
			<p>Get the next key from an active select list.</p>
			<p>
				<em>key[out]:</em> A string. Typically the key of a db file record.</p>
			<p>
				<em>return:</em> True if an active select list was available and the next key in the list was obtained.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">selectkeys</span><span class="p">(</span><span class="s">&quot;SB001^JB001^JB002&quot;</span><span class="kt">_var</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">ID</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// ID -&gt; &quot;SB001&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>readnext(out key, out valueno)</code></p></td>
		<td>
			<p>Get the next key and value number pair from an active select list.</p>
			<p>
				<em>key[out]:</em> A string. Typically the key of a db file record.</p>
			<p>
				<em>valueno[out]:</em> Is only available in select lists that have been created by sort/select commands that refer to multi-valued db dictionary fields where db records have multiple values for a specific field. In this case, a record key will appear multiple times in the select list since each multivalue is exploded for the purpose of sorting and selecting. This can be viewed as a process of "normalising" multivalues so they appear as multiple records instead of being held in a single record.</p>
			<p>
				<em>return:</em> True if an active select list was available and the next key in the list was obtained.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">selectkeys</span><span class="p">(</span><span class="s">&quot;SB001]2^SB001]1^JB001]2&quot;</span><span class="kt">_var</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">ID</span><span class="p">,</span><span class="w"> </span><span class="kc">MV</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="c1">// ID -&gt; &quot;SB001&quot; // MV -&gt; 2</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>readnext(out record, out key, out valueno)</code></p></td>
		<td>
			<p>Get the next record, key and value no from an active select list.</p>
			<p>
				<em>record[out]:</em> Is only available in select lists that have been created with the final (R) option. Otherwise the record will be returned as an empty string and must be obtained using a db read() function.</p>
			<p>
				<em>key[out]:</em> A string. Typically the key of a db file record.</p>
			<p>
				<em>valueno[out]:</em> Is only available in select lists that have been created by sort/select commands that refer to multi-valued db dictionary fields where db records have multiple values for a specific field.</p>
			<p>
				<em>return:</em> True if an active select list was available and the next key in the list was obtained.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">select</span><span class="p">(</span><span class="s">&quot;xo_clients by name (R)&quot;</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">readnext</span><span class="p">(</span><span class="kc">RECORD</span><span class="p">,</span><span class="w"> </span><span class="kc">ID</span><span class="p">,</span><span class="w"> </span><span class="kc">MV</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="n">assert</span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="kc">RECORD</span><span class="p">.</span><span class="nf">empty</span><span class="p">());</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>pushselect(out cursor)</code></p></td>
		<td>
			<p>Get a reference to the currently active select list and suspend it.</p>
			<p>Allow another select list to be activated and used temporarily before the original select list is reactivated.</p>
			<p>Multiple levels of pushselect/popselect can be used.</p>
			<p>
				<em>cursor[out]:</em> A var that can be passed later on to the popselect() function to reactivate the saved list.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">select</span><span class="p">(</span><span class="s">&quot;xo_clients by name&quot;</span><span class="p">);</span>
<span class="kt">var</span><span class="w"> </span><span class="n">saved_xo_clients_cursor</span><span class="p">;</span>
<span class="nf">pushselect</span><span class="p">(</span><span class="n">saved_xo_clients_cursor</span><span class="p">);</span>
<span class="c1">//</span>
<span class="c1">// ... work with another select list ...</span>
<span class="c1">//</span>
<span class="nf">popselect</span><span class="p">(</span><span class="n">saved_xo_clients_cursor</span><span class="p">);</span><span class="w"> </span><span class="c1">// Reactivate the original select list.</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>popselect(cursor)</code></p></td>
		<td>
			<p>Re-activate a select list using a reference provided by pushselect().</p>
			<p>
				<em>cursor:</em> A var created by the pushselect() function.</p>
			<p>See pushselect() for more info.</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>clearselect()</code></p></td>
		<td>
			<p>Deactivate an active select list.</p>
			<p>If no select list is active then nothing is done.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">clearselect</span><span class="p">();</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>deleterecord(filename)</code></p></td>
		<td>
			<p>Delete multiple DB records using an active select list.</p>
			<p>
				<em>return:</em> False if any records could not be deleted.</p>
			<p>Contrast this function with the two argument "deleterecord(file, key)" function that deletes a single record.</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">select</span><span class="p">(</span><span class="s">&quot;xo_clients with type &#39;Q&#39; and with balance between 0 and 100&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">deleterecord</span><span class="p">(</span><span class="s">&quot;xo_clients&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>deleterecord(dbfile, key)</code></p></td>
		<td>
			<p>Delete a single DB record.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xo_clients&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;QQ001&quot;</span><span class="p">;</span>
<span class="nf">write</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">deleterecord</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
<span class="c1">// or</span>
<span class="nf">write</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="ow">on</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="nf">deleterecord</span><span class="p">(</span><span class="n">key</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>savelist(listname)</code></p></td>
		<td>
			<p>Save the current active select list under a given name.</p>
			<p>Select lists are saved in the DB file "lists". They are accessible to any Exodus process and remain until specifically deleted.</p>
			<p>After saving, the list is no longer active and hasnext() will return false.</p>
			<p>
				<em>return:</em> True if an active select list was saved, false if there was no active select list.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">selectkeys</span><span class="p">(</span><span class="s">&quot;SB001^SB002&quot;</span><span class="kt">_var</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">savelist</span><span class="p">(</span><span class="s">&quot;my_list&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>getlist(listname)</code></p></td>
		<td>
			<p>Create an active select list using a saved select list of a given name.</p>
			<p>A saved list is obtained from the "lists" file and activated. The list remains in the lists file for multiple use.</p>
			<p>
				<em>return:</em> True if an active select list was successfully reactivated, otherwise false.</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">getlist</span><span class="p">(</span><span class="s">&quot;my_list&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>deletelist(listname)</code></p></td>
		<td>
			<p>Remove a saved select list by name.</p>
			<p>A saved list is deleted from the "lists" file.</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="nf">deletelist</span><span class="p">(</span><span class="s">&quot;my_list&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">...</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>formlist(filename_or_command, keys = "", fieldno = 0)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>makelist(listname, keys)</code></p></td>
		<td>
		</td></tr>
</table>
<h5 id="Perform_Execute">Perform/Execute</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>perform(command_line)</code></p></td>
		<td>
			<p>Run an Exodus program/library.</p>
			<p>Creates a new instance of an Exodus program library function object and calls its main() function using a command-like syntax, similar to that of running an OS executable program, and passes its arguments through the COMMAND and OPTIONS variables.</p>
			<p>A performed program/library's main function should have no arguments otherwise they appear unassigned and a segfault or core dump may occur.</p>
			<p>The Exodus program class member variables of a performed or executed program/library are all, as might be expected, initially unassigned unless specifically initialised inline. Note that this is not the same as calling a program library function (using function call syntax and round brackets funcx()), where the program/library/function's member variables are initially unassigned but retain their state between calls.</p>
			<p>
				<em>command_line:</em> Used to initialise the COMMAND, SENTENCE and OPTIONS environment variables of the performed exodus program/library. Analogous to passing function arguments. The first word of command_line is used as the name of the program/library to be loaded and run.</p>
			<p>
				<em>return:</em> Whatever the program returns from main() or passes as an argument to stop(). If the program terminates abnormally then it will return "" and lasterror() will contain some error message. The return value may be ignored so there is no need so wrap perform statements in if clauses to avoid compiler warnings.</p>
			<p>
				<em>throw:</em> All the various runtime errors based on VarError e.g. VarUnassigned.</p>
			<p>
				<em>environment:</em> The following environment variables are initialised on entry to the main function of the program/library and are preserved untouched (actually restored) in the calling program.</p>
			<ul>
				<li>COMMAND, OPTIONS, SENTENCE.</li>
				<li>RECUR0, RECUR1, RECUR2, RECUR3, RECUR4 to "".</li>
				<li>ID, RECORD, MV, DICT initialised to "".</li>
				<li>LEVEL is incremented by one.</li>
				<li>All other environment variables are shared between the caller and callee. There is essentially only one environment in any one process or thread.</li>
				<li>CURSOR Any active select list in CURSOR is passed to the performed program/library and can be consumed by it. Conversely any active select list created by the performed program/library will be returned to the calling program. In other words, both the performing and the performed programs/libraries share a single active select list environment. This is different from execute() where the executed program/library gets its own private active select list, initially inactive.</li>
			</ul>
			<p>Exodus program/library/functions may also be called directly using conventional function calling syntax. To call an exodus program/library called progname using either the syntax "call progname(args...);" or "var v1 = progname(args...);" you must "#include &lt;progname.h&gt;" after the "programinit()" or "libraryinit()" lines in your program/library. See library.h for more info.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>execute(command_line)</code></p></td>
		<td>
			<p>Run an exodus program/library.</p>
			<p>Identical to perform() but any currently active select list in the calling program/library is not accessible to the executed program/library and is preserved in the calling [program as is. Any select list created by the executed library is discarded when it terminates.</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>chain(command_line)</code></p></td>
		<td>
			<p>Close the current program and perform another one.</p>
			<p>Similar to perform() except that the current program closes first and all environment variables carry forward unchanged.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>libinfo(libname)</code></p></td>
		<td>
			<p>Check if a lib exists.</p>
			<p>Can be checked before perform/execute to avoid errors.</p>
			<p>Currently it does not check if the library is actually loadable.</p>
			<p>
				<em>return:</em> osfile info.</p>
		</td></tr>
</table>
<h5 id="Program_Termination_">Program Termination </h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>stop(result = "")</code></p></td>
		<td>
			<p>Stop the current exodus program/library normally.</p>
			<p>Either return to the performing or executing parent exodus program/library, or exit to the OS if none.</p>
			<p>
				<em>result:</em> Optional. It will be used as the return value of a parent program's perform() or execute() function, or if none, and therefore returning to the OS, it will be output to stdout if non-numeric or, if numeric, used as the exit status.</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>abort(message = "")</code></p></td>
		<td>
			<p>Abort the current exodus program/library.</p>
			<p>Similar to stop but if exiting to the OS then the default exit status is 1.</p>
			<p>
				<em>message:</em> Optional. If exiting to the OS then it will be output to stderr or, if numeric, used as the exit status.</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>abortall(message = "")</code></p></td>
		<td>
			<p>Abort the current exodus program/library.</p>
			<p>Similar to abort but if exiting to the OS then the default exit status is 2.</p>
		</td></tr>
</table>
<h5 id="DB_File_Dictionaries">DB File Dictionaries</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>calculate(dictid)</code></p></td>
		<td>
			<p>Get DB record field values given field name only.</p>
			<p>Use a dictionary file that contains info sufficient to either extract or calculate the required value.</p>
			<ol>
				<li>Read fieldinfo from the current DICT file using readc() for caching.</li>
				<li>Use the fieldinfo to:
					<ul>
						<li>Either extract a specific field number from the current RECORD/ID/MV environment variables.</li>
						<li>Or call a dictionary function library to calculate the result.</li>
					</ul>
				</li>
			</ol>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>calculate(dictid, dictfile, id, record, mv = 0)</code></p></td>
		<td>
			<p>Get DB record field values given name and data.</p>
			<p>Same as the one argument version of calculate() but RECORD/ID/MV are provided as arguments instead of being hard coded.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>xlate(filename, key, fieldno_or_name, mode)</code></p></td>
		<td>
			<p>Read DB field using field number or name.</p>
			<ol>
				<li>Read a record from a given file and key using readc() for caching.</li>
				<li>Extracts the given field number or calls calculate(dictid...) if non-numeric.</li>
			</ol>
			<p>
				<em>filename:</em> The file to read.</p>
			<p>
				<em>key:</em> The key of the record to read.</p>
			<p></p>
			<p>
				<em>fieldno_or_name:</em> The field  to return.</p>
			<dl>
				<dt>nn</dt>
				<dd>Field number nn.</dd>
				<dt>0</dt>
				<dd>The record key (ID).</dd>
				<dt>""</dt>
				<dd>The whole record (RECORD)</dd>
				<dt>dictid</dt>
				<dd>The function calculate(dictid) will be called.</dd>
			</dl>
			<p></p>
			<p>
				<em>mode:</em> If the record does not exist.</p>
			<dl>
				<dt>"X"</dt>
				<dd>Return ""</dd>
				<dt>"C"</dt>
				<dd>Return the key.</dd>
			</dl>
			<p></p>
			<p>
				<em>MV:</em> Environment variable. Will be used to select a particular value if not zero, or all values if zero.</p>
		</td></tr>
</table>
<h5 id="Io_Conversion">Io Conversion</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>oconv(input, conversion)</code></p></td>
		<td>
			<p>iconv/oconv "[...]"</p>
			<p>ExoProgram's iconv/oconv functions have access to ExoProgram's environment variables like BASEFMT, DATEFMT and TZ and have the ability to call custom functions like "[funname,args...]"</p>
			<p></p>
			<p>[NUMBER]  // built-in. See doc below.</p>
			<p>[DATE]    // built-in. See doc below.</p>
			<p>[DATEPERIOD]  e.g. [DATEPERIOD,1] [DATEPERIOD,1,12]</p>
			<p>[DATETIME]    e.g. [DATETIME,4*,DOS] [DATETIME,4*,MTS] [DATETIME,4*]</p>
			<p>[TIME2]       e.g. [TIME2,MT] [TIME2,MTS] [TIME2,MTS48]</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>iconv(input, conversion)</code></p></td>
		<td>
		</td></tr>
</table>
<h5 id="Ioconv_Date_Time_">Ioconv Date/Time </h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>iconv|oconv(var, "[DATE]")</code></p></td>
		<td>
			<p>iconv/oconv "[DATE]"</p>
			<p>Use iconv/oconv code "[DATE,args]" when you want date conversion to depend on the environment variable DATEFMT, particularly its American/International setting. Otherwise use ordinary "D" conversion codes directly for slightly greater performance.</p>
			<p></p>
			<p>
				<em>var:</em> [oconv] An internal date (a number).</p>
			<p>
				<em>return:</em> [oconv] A readable date in text format depending on "[DATE,args]" e.g. "31 DEC 2020" "31/12/2020" "12/31/2020"</p>
			<p>
				<em>var:</em> [iconv] A date in text format as above.</p>
			<p>
				<em>return:</em> [iconv] An internal date (a number) or "" if the input could not be understood as a valid date.</p>
			<p>
				<em>args:</em> If args is empty then DATEFMT is used as the conversion code. If args starts with "D" then args is used as the conversion codes but any E option in DATEFMT is appended. If args does not start with "D" then args are appended to DATEFMT, a "Z" option is appended, and the result used as the conversion code. A "*" option is equivalent to a second "Z" option.</p>
			<p>If you are calling iconv/oconv in code and DATEFMT is adequate for your needs then pass it directly as a function argument e.g. 'var v1 = iconv|oconv(v2, DATEFORMAT);' instead of indirectly like 'var v1 = iconv|oconv(v2, "[DATE]");'.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kc">DATEFMT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;D/E&quot;</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;JAN 9 2025&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;D&quot;</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="nf">oconv</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;[DATE]&quot;</span><span class="w">   </span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot; 9/ 1/2025&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">// &quot;D/EZ&quot; or &quot;[DATE,D]&quot; equivalent assuming D/E in DATEFMT (replace leading zeros with spaces)</span>
<span class="n">assert</span><span class="p">(</span><span class="nf">oconv</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;[DATE,4]&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot; 9/ 1/2025&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">// &quot;D4Z&quot;  equivalent assuming D/E in DATEFMT (replace leading zeros with spaces)</span>
<span class="n">assert</span><span class="p">(</span><span class="nf">oconv</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;[DATE,*4]&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;9/1/2025&quot;</span><span class="p">);</span><span class="w">    </span><span class="c1">// &quot;D4ZZ&quot; equivalent assuming D/E in DATEFMT (trim leading zeros and spaces)</span>
<span class="n">assert</span><span class="p">(</span><span class="nf">oconv</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;[DATE,*]&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;9/1/2025&quot;</span><span class="p">);</span><span class="w">    </span><span class="c1">// &quot;DZZ&quot;  equivalent assuming D/E in DATEFMT (trim leading zeros and spaces)</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>iconv|oconv(var, "[NUMBER]")</code></p></td>
		<td>
			<p>iconv/oconv "[NUMBER]"</p>
			<p>Use iconv/oconv "[NUMBER,args]" either when your numbers have currency or unit code suffixes or when you want number conversion to depend on the environment variable BASEFMT to determine thousands separator and decimal point. Otherwise use ordinary "MD" conversion codes directly for slightly greater performance.</p>
			<p>Formatting for numbers with optional currency code/unit suffix and is sensitive to the International or European setting in BASEFMT regarding use of commas or dots for thousands separators and decimal points.</p>
			<p>Primarily used for oconv() but can be used in reverse for iconv.</p>
			<p>
				<em>var:</em> A number with an optional currency code or unit suffix. e.g. "12345.67USD"</p>
			<p>
				<em>return:</em> A formatted number with thousands separated conventionally e.g. "12.345.67USD".</p>
			<p>iconv/oconv("[NUMBER]")      oconv leaves ndecimals untouched as in the input. iconv see below.</p>
			<p>iconv/oconv("[NUMBER,2]")    Specified number of decimal places</p>
			<p>iconv/oconv("[NUMBER,BASE]") Decimal places as per BASEFMT</p>
			<p>iconv/oconv("[NUMBER,*]")    Leave decimal places untouched as in the input</p>
			<p>iconv/oconv("[NUMBER,X]")    Leave decimal places untouched as in the input</p>
			<p>iconv/oconv("[NUMBER,2Z]")   Z (suppress zero) combined with any other code for oconv results in empty output "" instead of "0.00" in case of zero input.</p>
			<p></p>
			<p>Empty input "" gives empty output "".</p>
			<p></p>
			<p>All leading, trailing and internal spaces are removed from the input.</p>
			<p></p>
			<p>A trailing currency or unit code is ignored and returned on output.</p>
			<p></p>
			<p>An exodus number is an optional leading + or - followed by one or more decimal digits 0-9 with a single optional decimal point placed anywhere.</p>
			<p></p>
			<p>If the input is non-numeric then "" is returned and STATUS set to 2. In the case of oconv with multiple fields or values each field or value is processed separately but STATUS is set to 2 if any are non-numeric.</p>
			<p></p>
			<p>iconv removes and oconv adds thousand separator chars. The thousands separator is  "," if BASEFMT starts with "MD" or "." if it starts with "MC".</p>
			<p></p>
			<p>
				<em>oconv:</em> </p>
			<p></p>
			<p>Add thousands separator chars and optionally standardise the number of decimal places.</p>
			<p></p>
			<p>Multiple numbers in fields, values, subvalues etc. can be processed in one string.</p>
			<p></p>
			<p>Any leading + character is preserved on output.</p>
			<p></p>
			<p>Z suppresses zeros and returns empty string "" instead.</p>
			<p></p>
			<p>Special format "[NUMBER,ndecs,move_ndecs]": move_ndecs causes decimal point to be shifted left if positive or right if negative.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">oconv</span><span class="p">(</span><span class="s">&quot;1234.5USD&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;[NUMBER,2]&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;1,234.50USD&quot; // Comma added and decimal places corrected.</span>
</pre></div>
iconv:
Remove all thousands separator chars and optionally standardise the number of decimal places.
If ndecs is not specified in the "[NUMBER]" pattern then ndecs is taken from the current RECORD using dictionary code NDECS if DICT is available otherwise it uses ndecs from BASEFMT.
iconv only handles a single field/value.
Optional prefix of "1/" or "/" causes the reciprocal of the number to be used. e.g. "1/100" or "/100" -> "0.01".
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">iconv</span><span class="p">(</span><span class="s">&quot;1,234.5678USD&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;[NUMBER]&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;1234.57USD&quot; // Comma removed</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>amountunit(input0, out unitx)</code></p></td>
		<td>
			<p>Parse amount+currency code string.</p>
			<p>Split amount+currency code/unit string into number and currency code/unit.</p>
			<p>
				<em>var:</em> "123.45USD"</p>
			<p>
				<em>return:</em> e.g. "123.45"</p>
			<p>
				<em>unitx[out]:</em> e.g. "USD"</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>amountunit(input0)</code></p></td>
		<td>
		</td></tr>
</table>
<h5 id="Time_Date_Utilities">Time/Date Utilities</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>timedate2()</code></p></td>
		<td>
			<p>Get text of date and time.</p>
			<p>In users time zone</p>
			<p>e.g. "2MAR2025 11:52AM"</p>
			<p>Offset from UTC by TZ seconds.</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>getdatetime(out user_date, out user_time, out system_date, out system_time, out UTC_date, out UTC_time)</code></p></td>
		<td>
			<p>Get current user, server and UTC dates and times.</p>
			<p>User date and time is determined by adding the environment variable TZ.f(1)'s TZ offset (in seconds) to UTC date/time obtained from the operating system.</p>
			<p>"system" date and time is normally the same as UTC date/time and is determined by adding the environment variable TZ.f(2)'s TZ offset (in seconds) to UTC date/time obtained from the operating system.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>elapsedtimetext()</code></p></td>
		<td>
			<p>Get text of elapsed time.</p>
			<p>Since environment variable TIMESTAMP.</p>
			<p>TIMESTAMP is initialised with ostimestamp() at program/thread startup.</p>
			<p>TIMESTAMP can be updated using ostimestamp() as and when desired.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">elapsedtimetext</span><span class="p">();</span><span class="w"> </span><span class="c1">// e.g. &quot;&lt; 1ms&quot;</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>elapsedtimetext(timestamp1, timestamp2)</code></p></td>
		<td>
			<p>Get text of elapsed time.</p>
			<p>Between two given timestamps</p>
			<p>
				<em>Warning:</em> Use ostimestamp() not ostime(). The first is in days and the second is in seconds.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">elapsedtimetext</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.55</span><span class="p">);</span><span class="w">  </span><span class="c1">// &quot;13 hours, 12 mins&quot;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">elapsedtimetext</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;1 min, 26 secs&quot;</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Terminal_I_O_Utilities">Terminal I/O Utilities</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>note(msg, options, io response)</code></p></td>
		<td>
			<p>Output a message to stdout and optionally request input.</p>
			<p>If input is requested but stdin is not a terminal then set the response to "" and continue.</p>
			<p>
				<em>options:</em> R = Response requested. C upper case response.</p>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">response</span><span class="p">;</span>
<span class="c1">// call note(&quot;Enter something&quot;, &quot;RC&quot;, response);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>note(msg)</code></p></td>
		<td>
			<p>Output a message to stdout.</p>
			<p>
				<div class="highlight light">
					<pre><span class="k">call</span><span class="w"> </span><span class="nf">note</span><span class="p">(</span><span class="s">&quot;Hello world.&quot;</span><span class="p">);</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>decide(question, options = "")</code></p></td>
		<td>
			<p>Input user selection from a list of options.</p>
			<p>If stdin is not a terminal, set the response to "" and continue.</p>
			<p>
				<em>return:</em> The chosen option (value not number) or "" if the user cancelled.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>decide(question, options, out reply, defaultreply = 1)</code></p></td>
		<td>
			<p>Input user selection from a list of options.</p>
			<p>If stdin is not a terminal set the response to the default value, or "" if none, and continue.</p>
			<p>
				<em>defaultreply:</em> A default option if the user presses Enter.</p>
			<p>
				<em>reply[out]:</em> The option number that the user chose or "" if they cancelled.</p>
			<p>
				<em>return:</em> The chosen option (value not number) or "" if the user cancelled.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>esctoexit()</code></p></td>
		<td>
			<p>Check for user pause or cancel.</p>
			<p>If stdin is a terminal, check if a key has been pressed and, if so, pause execution and ask the user to confirm if they want to escape/cancel or resume processing.</p>
			<p>
				<em>return:</em> </p>
			<dl>
				<dt>True</dt>
				<dd>A key has been pressed and the user chose not to resume.</dd>
				<dt>False</dt>
				<dd>stdif is not a terminal, no key has been pressed, or the user chose to resume.</dd>
			</dl>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>AT(code)</code></p></td>
		<td>
			<p>Get a string to control terminal operation.</p>
			<p>
				<em>return:</em> A string to be output to the terminal in order to accomplish the desired operation.</p>
			<p>The terminal protocol is xterminal.</p>
			<p>
				<em>code:</em> </p>
			<dl>
				<dt>  n</dt>
				<dd>Position the cursor at column number n (1 based).</dd>
				<dt>  0</dt>
				<dd>Position the cursor at the first column (1).</dd>
				<dt> -1</dt>
				<dd>Clear the screen and home the cursor.</dd>
				<dt> -2</dt>
				<dd>Position the cursor at the top left home (x, y = 1, 1).</dd>
				<dt> -3</dt>
				<dd>Clear from the cursor at the end of screen.</dd>
				<dt> -4</dt>
				<dd>Clear from cursor to end of line.</dd>
				<dt>-40</dt>
				<dd>Position the cursor at columnno 0 and clear to end of line.</dd>
			</dl>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>AT(x, y)</code></p></td>
		<td>
			<p>Get a terminal cursor positioning string.</p>
			<p>
				<em>return:</em> A string to be output to the terminal to position the cursor at the desired screen x and y position.</p>
			<p>The terminal protocol is xterminal.</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>getcursor(out cursor, delayms = 3000, max_errors = 0)</code></p></td>
		<td>
			<p>Get the position of the terminal cursor.</p>
			<p>
				<em>cursor[out]:</em> If stdin is a terminal, an FM delimited string containing the x and y coordinates of the current terminal cursor.</p>
			<p>x and y are 1 based, not 0 based.</p>
			<p>If stdin is not a terminatl then an empty string "" is returned.</p>
			<p>The cursor additionally contains a third field which contains the delay in ms from the terminal.</p>
			<p>The FM delimited string returned can be later passed to setcursor() to reposition the cursor back to its original position or it can be parsed and used accordingly.</p>
			<p>
				<em>delayms:</em> Default 3000ms. The maximum time to wait for terminal response.</p>
			<p>
				<em>max_errors:</em> Default is 0. If not zero, reset the number of times to error before automatically disabling getcursor(). max_errors is initialised to 3. If negative then max_errors has the the effect of disabling all future calls to getcursor().</p>
			<p>In case the terminal fails to respond correctly within the required timeout, or is currently disabled due to too many failures, or has been specifically disabled then the returned "cursor" var contains a 4th field:</p>
			<dl>
				<dt>TIMEOUT</dt>
				<dd>The terminal failed to respond within the timeout.</dd>
				<dt>READ_ERROR</dt>
				<dd>Failed to read terminal response.</dd>
				<dt>INVALID_RESPONSE</dt>
				<dd>Terminal response invalid.</dd>
				<dt>SETUP_ERROR</dt>
				<dd>Terminal setup failed.</dd>
				<dt>DISABLED</dt>
				<dd>Terminal is disabled due to more errors than the maximum currently set.</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">cursor</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">isterminal</span><span class="p">()</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">getcursor</span><span class="p">(</span><span class="n">cursor</span><span class="p">))</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="c1">// cursor becomes something like &quot;1^20^0.012345&quot;_var</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>getcursor()</code></p></td>
		<td>
			<p>Get the position of the terminal cursor.</p>
			<p>For more info see the main getcursor() function above.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">cursor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getcursor</span><span class="p">();</span><span class="w"> </span><span class="c1">// If isterminal() then cursor becomes something like &quot;0^20^0.012345&quot;_var</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>setcursor(cursor_coordinates)</code></p></td>
		<td>
			<p>If stdin is a terminal, position the cursor at x and y as per the given coordinates.</p>
			<p>
				<em>cursor_coordinates:</em> An FM delimited string containing the x and y coordinates of the terminal cursor as can be obtained by getcursor().
				<div class="highlight light">
					<pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">isterminal</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">let</span><span class="w"> </span><span class="n">cursor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getcursor</span><span class="p">();</span><span class="w"> </span><span class="c1">// Save the current cursor position.</span>
<span class="w">    </span><span class="n">TRACE</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span><span class="w">             </span><span class="c1">// Show the saved cursor position.</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">AT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span><span class="w">           </span><span class="c1">// Position the cursor at 0,0.</span>
<span class="w">    </span><span class="nf">setcursor</span><span class="p">(</span><span class="n">cursor</span><span class="p">);</span><span class="w">        </span><span class="c1">// Restore its position</span>
<span class="p">}</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Array_Utilities">Array Utilities</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>var=</code></p></td>
		<td>
			<p>
				<code>invertarray(input, pad = false)</code></p></td>
		<td>
			<p>Dynamic array fields become values and vice versa</p>
			<p>
				<em>return:</em> The inverted dynamic array.</p>
			<p>
				<em>pad:</em> If true then on return, all fields will have the same number of values with superfluous trailing VMs where necessary.</p>
			<p>
				<div class="highlight light">
					<pre><span class="nf">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a]b]c^1]2]3&quot;</span><span class="kt">_var</span><span class="p">;</span>
<span class="nf">let</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">invertarray</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;a]1^b]2^c]3&quot;_var</span>
</pre></div>
			</p>
		</td></tr>
	<tr>
		<td></td>
		<td>
			<p>
				<code>sortarray(io array, fns = "", order = "")</code></p></td>
		<td>
			<p>Sort parallel fields of multivalues of dynamic arrays</p>
			<p>
				<em>fns:</em> VM separated list of field numbers to sort in parallel based on the first field number</p>
			<p>
				<em>order:</em> </p>
			<dl>
				<dt>AL</dt>
				<dd>Ascending  - Left Justified (Alphabetic)</dd>
				<dt>DL</dt>
				<dd>Descending - Left Justified (Alphabetic)</dd>
				<dt>AR</dt>
				<dd>Ascending  - Right Justified (Numeric/Natural)</dd>
				<dt>DR</dt>
				<dd>Descending - Right Justified (Numeric/Natural)</dd>
			</dl>
			<p>
				<div class="highlight light">
					<pre><span class="kt">var</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;f1^10]20]2]1^ww]xx]yy]zz^f3^f4&quot;</span><span class="kt">_var</span><span class="p">;</span><span class="w">  </span><span class="c1">// fields 2 and 3 are parallel multivalues and currently unordered.</span>
<span class="nf">sortarray</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2]3&quot;</span><span class="kt">_var</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;AR&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// v1 -&gt; &quot;f1^1]2]10]20^zz]yy]ww]xx^f3^f4&quot;_var</span>
</pre></div>
			</p>
		</td></tr>
</table>
<h5 id="Record_Locking">Record Locking</h5>

<table class="wikitable">
	<tr>
		<th>Use</th>
		<th>Function</th>
		<th>Description</th> </tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>lockrecord(filename, io file, keyx, unused, waitsecs = 0, allowduplicate = false)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>lockrecord(filename, io file, keyx)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>unlockrecord(filename, io file, key)</code></p></td>
		<td>
		</td></tr>
	<tr>
		<td>
			<p>
				<code>if</code></p></td>
		<td>
			<p>
				<code>unlockrecord()</code></p></td>
		<td>
		</td></tr>
</table>


</body>

</html>
